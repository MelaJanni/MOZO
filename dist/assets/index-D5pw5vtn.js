const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-CdvkdUeG.js","assets/vendor-BMOl8gLp.js","assets/bootstrap--QliLv9A.js"])))=>i.map(i=>d[i]);
import{d as e,r as a,c as t,o,a as n,u as s,t as r,b as l,e as i,f as c,g as d,n as u,h as m,i as p,F as v,j as f,w as g,v as h,k as b,l as w,m as y,p as k,q as C,T as E,s as x,x as S,y as A,z as T,A as R,B as _,C as P,D as N,E as L,G as I,H as O,I as j,J as D,K as M,L as U,M as $,N as q}from"./vendor-BMOl8gLp.js";import{M as B}from"./bootstrap--QliLv9A.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const V={},z=function(e,a,t){let o=Promise.resolve();if(a&&a.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));o=e(a.map(e=>{if((e=function(e){return"/"+e}(e))in V)return;V[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const o=document.createElement("link");return o.rel=a?"stylesheet":"modulepreload",a||(o.as="script"),o.crossOrigin="",o.href=e,n&&o.setAttribute("nonce",n),document.head.appendChild(o),a?new Promise((a,t)=>{o.addEventListener("load",a),o.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return o.then(a=>{for(const e of a||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};
/*! Capacitor: https://capacitorjs.com/ - MIT License */
var F,H;(H=F||(F={})).Unimplemented="UNIMPLEMENTED",H.Unavailable="UNAVAILABLE";class W extends Error{constructor(e,a,t){super(e),this.message=e,this.code=a,this.data=t}}const G=e=>{const a=e.CapacitorCustomPlatform||null,t=e.Capacitor||{},o=t.Plugins=t.Plugins||{},n=()=>null!==a?a.name:(e=>{var a,t;return(null==e?void 0:e.androidBridge)?"android":(null===(t=null===(a=null==e?void 0:e.webkit)||void 0===a?void 0:a.messageHandlers)||void 0===t?void 0:t.bridge)?"ios":"web"})(e),s=e=>{var a;return null===(a=t.PluginHeaders)||void 0===a?void 0:a.find(a=>a.name===e)},r=new Map;return t.convertFileSrc||(t.convertFileSrc=e=>e),t.getPlatform=n,t.handleError=a=>e.console.error(a),t.isNativePlatform=()=>"web"!==n(),t.isPluginAvailable=e=>{const a=r.get(e);return!!(null==a?void 0:a.platforms.has(n()))||!!s(e)},t.registerPlugin=(e,l={})=>{const i=r.get(e);if(i)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),i.proxy;const c=n(),d=s(e);let u;const m=o=>{let n;const s=(...s)=>{const r=(async()=>(!u&&c in l?u=u="function"==typeof l[c]?await l[c]():l[c]:null!==a&&!u&&"web"in l&&(u=u="function"==typeof l.web?await l.web():l.web),u))().then(a=>{const r=((a,o)=>{var n,s;if(!d){if(a)return null===(s=a[o])||void 0===s?void 0:s.bind(a);throw new W(`"${e}" plugin is not implemented on ${c}`,F.Unimplemented)}{const s=null==d?void 0:d.methods.find(e=>o===e.name);if(s)return"promise"===s.rtype?a=>t.nativePromise(e,o.toString(),a):(a,n)=>t.nativeCallback(e,o.toString(),a,n);if(a)return null===(n=a[o])||void 0===n?void 0:n.bind(a)}})(a,o);if(r){const e=r(...s);return n=null==e?void 0:e.remove,e}throw new W(`"${e}.${o}()" is not implemented on ${c}`,F.Unimplemented)});return"addListener"===o&&(r.remove=async()=>n()),r};return s.toString=()=>`${o.toString()}() { [capacitor code] }`,Object.defineProperty(s,"name",{value:o,writable:!1,configurable:!1}),s},p=m("addListener"),v=m("removeListener"),f=(e,a)=>{const t=p({eventName:e},a),o=async()=>{const o=await t;v({eventName:e,callbackId:o},a)},n=new Promise(e=>t.then(()=>e({remove:o})));return n.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()},n},g=new Proxy({},{get(e,a){switch(a){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return d?f:p;case"removeListener":return v;default:return m(a)}}});return o[e]=g,r.set(e,{name:e,proxy:g,platforms:new Set([...Object.keys(l),...d?[c]:[]])}),g},t.Exception=W,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},J=(e=>e.Capacitor=G(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),Q=J.registerPlugin;class Z{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,a){let t=!1;this.listeners[e]||(this.listeners[e]=[],t=!0),this.listeners[e].push(a);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),t&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,a)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,a,t){const o=this.listeners[e];if(o)o.forEach(e=>e(a));else if(t){let t=this.retainedEventArguments[e];t||(t=[]),t.push(a),this.retainedEventArguments[e]=t}}hasListeners(e){var a;return!!(null===(a=this.listeners[e])||void 0===a?void 0:a.length)}registerWindowListener(e,a){this.windowListeners[a]={registered:!1,windowEventName:e,pluginEventName:a,handler:e=>{this.notifyListeners(a,e)}}}unimplemented(e="not implemented"){return new J.Exception(e,F.Unimplemented)}unavailable(e="not available"){return new J.Exception(e,F.Unavailable)}async removeListener(e,a){const t=this.listeners[e];if(!t)return;const o=t.indexOf(a);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const a=this.retainedEventArguments[e];a&&(delete this.retainedEventArguments[e],a.forEach(a=>{this.notifyListeners(e,a)}))}}const K=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Y=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class X extends Z{async getCookies(){const e=document.cookie,a={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[t,o]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");t=Y(t).trim(),o=Y(o).trim(),a[t]=o}),a}async setCookie(e){try{const a=K(e.key),t=K(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),s=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${a}=${t||""}${o}; path=${n}; ${s};`}catch(a){return Promise.reject(a)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const a of e)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Q("CapacitorCookies",{web:()=>new X});const ee=(e,a={})=>{const t=Object.assign({method:e.method||"GET",headers:e.headers},a),o=((e={})=>{const a=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((t,o,n)=>(t[o]=e[a[n]],t),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)t.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[t,o]of Object.entries(e.data||{}))a.set(t,o);t.body=a.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((e,t)=>{a.append(t,e)});else for(const t of Object.keys(e.data))a.append(t,e.data[t]);t.body=a;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(o.includes("application/json")||"object"==typeof e.data)&&(t.body=JSON.stringify(e.data));return t};class ae extends Z{async request(e){const a=ee(e,e.webFetchExtra),t=((e,a=!0)=>e?Object.entries(e).reduce((e,t)=>{const[o,n]=t;let s,r;return Array.isArray(n)?(r="",n.forEach(e=>{s=a?encodeURIComponent(e):e,r+=`${o}=${s}&`}),r.slice(0,-1)):(s=a?encodeURIComponent(n):n,r=`${o}=${s}`),`${e}&${r}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),o=t?`${e.url}?${t}`:e.url,n=await fetch(o,a),s=n.headers.get("content-type")||"";let r,l,{responseType:i="text"}=n.ok?e:{};switch(s.includes("application/json")&&(i="json"),i){case"arraybuffer":case"blob":l=await n.blob(),r=await(async e=>new Promise((a,t)=>{const o=new FileReader;o.onload=()=>{const e=o.result;a(e.indexOf(",")>=0?e.split(",")[1]:e)},o.onerror=e=>t(e),o.readAsDataURL(e)}))(l);break;case"json":r=await n.json();break;default:r=await n.text()}const c={};return n.headers.forEach((e,a)=>{c[a]=e}),{data:r,headers:c,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Q("CapacitorHttp",{web:()=>new ae});const te=Q("App",{web:()=>z(()=>import("./web-CdvkdUeG.js"),__vite__mapDeps([0,1,2])).then(e=>new e.AppWeb)}),oe=e("ui",()=>{const e=a(!1);return{isOffCanvasOpen:e,toggleOffCanvas:function(){e.value=!e.value},closeOffCanvas:function(){e.value=!1}}}),ne=(e,a)=>{const t=e.__vccOpts||e;for(const[o,n]of a)t[o]=n;return t},se={class:"navbar-container"},re={class:"top-bar"},le={class:"app-title"},ie=ne({__name:"Navbar",props:{title:{type:String,default:"MÖZÖ"}},setup(e){const a=oe();return(l,i)=>(o(),t("div",se,[n("header",re,[n("button",{class:"menu-toggle",onClick:i[0]||(i[0]=(...e)=>s(a).toggleOffCanvas&&s(a).toggleOffCanvas(...e)),"aria-label":"Abrir menú"},i[1]||(i[1]=[n("i",{class:"bi bi-list"},null,-1)])),n("h1",le,r(e.title),1)])]))}},[["__scopeId","data-v-625dea78"]]);function ce(e,a){return function(){return e.apply(a,arguments)}}const{toString:de}=Object.prototype,{getPrototypeOf:ue}=Object,{iterator:me,toStringTag:pe}=Symbol,ve=(e=>a=>{const t=de.call(a);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),fe=e=>(e=e.toLowerCase(),a=>ve(a)===e),ge=e=>a=>typeof a===e,{isArray:he}=Array,be=ge("undefined");const we=fe("ArrayBuffer");const ye=ge("string"),ke=ge("function"),Ce=ge("number"),Ee=e=>null!==e&&"object"==typeof e,xe=e=>{if("object"!==ve(e))return!1;const a=ue(e);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||pe in e||me in e)},Se=fe("Date"),Ae=fe("File"),Te=fe("Blob"),Re=fe("FileList"),_e=fe("URLSearchParams"),[Pe,Ne,Le,Ie]=["ReadableStream","Request","Response","Headers"].map(fe);function Oe(e,a,{allOwnKeys:t=!1}={}){if(null==e)return;let o,n;if("object"!=typeof e&&(e=[e]),he(e))for(o=0,n=e.length;o<n;o++)a.call(null,e[o],o,e);else{const n=t?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let r;for(o=0;o<s;o++)r=n[o],a.call(null,e[r],r,e)}}function je(e,a){a=a.toLowerCase();const t=Object.keys(e);let o,n=t.length;for(;n-- >0;)if(o=t[n],a===o.toLowerCase())return o;return null}const De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Me=e=>!be(e)&&e!==De;const Ue=(e=>a=>e&&a instanceof e)("undefined"!=typeof Uint8Array&&ue(Uint8Array)),$e=fe("HTMLFormElement"),qe=(({hasOwnProperty:e})=>(a,t)=>e.call(a,t))(Object.prototype),Be=fe("RegExp"),Ve=(e,a)=>{const t=Object.getOwnPropertyDescriptors(e),o={};Oe(t,(t,n)=>{let s;!1!==(s=a(t,n,e))&&(o[n]=s||t)}),Object.defineProperties(e,o)};const ze=fe("AsyncFunction"),Fe=(He="function"==typeof setImmediate,We=ke(De.postMessage),He?setImmediate:We?(Ge=`axios@${Math.random()}`,Je=[],De.addEventListener("message",({source:e,data:a})=>{e===De&&a===Ge&&Je.length&&Je.shift()()},!1),e=>{Je.push(e),De.postMessage(Ge,"*")}):e=>setTimeout(e));var He,We,Ge,Je;const Qe="undefined"!=typeof queueMicrotask?queueMicrotask.bind(De):"undefined"!=typeof process&&process.nextTick||Fe,Ze={isArray:he,isArrayBuffer:we,isBuffer:function(e){return null!==e&&!be(e)&&null!==e.constructor&&!be(e.constructor)&&ke(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let a;return e&&("function"==typeof FormData&&e instanceof FormData||ke(e.append)&&("formdata"===(a=ve(e))||"object"===a&&ke(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let a;return a="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&we(e.buffer),a},isString:ye,isNumber:Ce,isBoolean:e=>!0===e||!1===e,isObject:Ee,isPlainObject:xe,isReadableStream:Pe,isRequest:Ne,isResponse:Le,isHeaders:Ie,isUndefined:be,isDate:Se,isFile:Ae,isBlob:Te,isRegExp:Be,isFunction:ke,isStream:e=>Ee(e)&&ke(e.pipe),isURLSearchParams:_e,isTypedArray:Ue,isFileList:Re,forEach:Oe,merge:function e(){const{caseless:a}=Me(this)&&this||{},t={},o=(o,n)=>{const s=a&&je(t,n)||n;xe(t[s])&&xe(o)?t[s]=e(t[s],o):xe(o)?t[s]=e({},o):he(o)?t[s]=o.slice():t[s]=o};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Oe(arguments[n],o);return t},extend:(e,a,t,{allOwnKeys:o}={})=>(Oe(a,(a,o)=>{t&&ke(a)?e[o]=ce(a,t):e[o]=a},{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,a,t,o)=>{e.prototype=Object.create(a.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:a.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,a,t,o)=>{let n,s,r;const l={};if(a=a||{},null==e)return a;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)r=n[s],o&&!o(r,e,a)||l[r]||(a[r]=e[r],l[r]=!0);e=!1!==t&&ue(e)}while(e&&(!t||t(e,a))&&e!==Object.prototype);return a},kindOf:ve,kindOfTest:fe,endsWith:(e,a,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=a.length;const o=e.indexOf(a,t);return-1!==o&&o===t},toArray:e=>{if(!e)return null;if(he(e))return e;let a=e.length;if(!Ce(a))return null;const t=new Array(a);for(;a-- >0;)t[a]=e[a];return t},forEachEntry:(e,a)=>{const t=(e&&e[me]).call(e);let o;for(;(o=t.next())&&!o.done;){const t=o.value;a.call(e,t[0],t[1])}},matchAll:(e,a)=>{let t;const o=[];for(;null!==(t=e.exec(a));)o.push(t);return o},isHTMLForm:$e,hasOwnProperty:qe,hasOwnProp:qe,reduceDescriptors:Ve,freezeMethods:e=>{Ve(e,(a,t)=>{if(ke(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const o=e[t];ke(o)&&(a.enumerable=!1,"writable"in a?a.writable=!1:a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))})},toObjectSet:(e,a)=>{const t={},o=e=>{e.forEach(e=>{t[e]=!0})};return he(e)?o(e):o(String(e).split(a)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,a,t){return a.toUpperCase()+t}),noop:()=>{},toFiniteNumber:(e,a)=>null!=e&&Number.isFinite(e=+e)?e:a,findKey:je,global:De,isContextDefined:Me,isSpecCompliantForm:function(e){return!!(e&&ke(e.append)&&"FormData"===e[pe]&&e[me])},toJSONObject:e=>{const a=new Array(10),t=(e,o)=>{if(Ee(e)){if(a.indexOf(e)>=0)return;if(!("toJSON"in e)){a[o]=e;const n=he(e)?[]:{};return Oe(e,(e,a)=>{const s=t(e,o+1);!be(s)&&(n[a]=s)}),a[o]=void 0,n}}return e};return t(e,0)},isAsyncFn:ze,isThenable:e=>e&&(Ee(e)||ke(e))&&ke(e.then)&&ke(e.catch),setImmediate:Fe,asap:Qe,isIterable:e=>null!=e&&ke(e[me])};function Ke(e,a,t,o,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",a&&(this.code=a),t&&(this.config=t),o&&(this.request=o),n&&(this.response=n,this.status=n.status?n.status:null)}Ze.inherits(Ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ze.toJSONObject(this.config),code:this.code,status:this.status}}});const Ye=Ke.prototype,Xe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Xe[e]={value:e}}),Object.defineProperties(Ke,Xe),Object.defineProperty(Ye,"isAxiosError",{value:!0}),Ke.from=(e,a,t,o,n,s)=>{const r=Object.create(Ye);return Ze.toFlatObject(e,r,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Ke.call(r,e.message,a,t,o,n),r.cause=e,r.name=e.name,s&&Object.assign(r,s),r};function ea(e){return Ze.isPlainObject(e)||Ze.isArray(e)}function aa(e){return Ze.endsWith(e,"[]")?e.slice(0,-2):e}function ta(e,a,t){return e?e.concat(a).map(function(e,a){return e=aa(e),!t&&a?"["+e+"]":e}).join(t?".":""):a}const oa=Ze.toFlatObject(Ze,{},null,function(e){return/^is[A-Z]/.test(e)});function na(e,a,t){if(!Ze.isObject(e))throw new TypeError("target must be an object");a=a||new FormData;const o=(t=Ze.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,a){return!Ze.isUndefined(a[e])})).metaTokens,n=t.visitor||c,s=t.dots,r=t.indexes,l=(t.Blob||"undefined"!=typeof Blob&&Blob)&&Ze.isSpecCompliantForm(a);if(!Ze.isFunction(n))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(Ze.isDate(e))return e.toISOString();if(!l&&Ze.isBlob(e))throw new Ke("Blob is not supported. Use a Buffer instead.");return Ze.isArrayBuffer(e)||Ze.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,t,n){let l=e;if(e&&!n&&"object"==typeof e)if(Ze.endsWith(t,"{}"))t=o?t:t.slice(0,-2),e=JSON.stringify(e);else if(Ze.isArray(e)&&function(e){return Ze.isArray(e)&&!e.some(ea)}(e)||(Ze.isFileList(e)||Ze.endsWith(t,"[]"))&&(l=Ze.toArray(e)))return t=aa(t),l.forEach(function(e,o){!Ze.isUndefined(e)&&null!==e&&a.append(!0===r?ta([t],o,s):null===r?t:t+"[]",i(e))}),!1;return!!ea(e)||(a.append(ta(n,t,s),i(e)),!1)}const d=[],u=Object.assign(oa,{defaultVisitor:c,convertValue:i,isVisitable:ea});if(!Ze.isObject(e))throw new TypeError("data must be an object");return function e(t,o){if(!Ze.isUndefined(t)){if(-1!==d.indexOf(t))throw Error("Circular reference detected in "+o.join("."));d.push(t),Ze.forEach(t,function(t,s){!0===(!(Ze.isUndefined(t)||null===t)&&n.call(a,t,Ze.isString(s)?s.trim():s,o,u))&&e(t,o?o.concat(s):[s])}),d.pop()}}(e),a}function sa(e){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return a[e]})}function ra(e,a){this._pairs=[],e&&na(e,this,a)}const la=ra.prototype;function ia(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ca(e,a,t){if(!a)return e;const o=t&&t.encode||ia;Ze.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let s;if(s=n?n(a,t):Ze.isURLSearchParams(a)?a.toString():new ra(a,t).toString(o),s){const a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}la.append=function(e,a){this._pairs.push([e,a])},la.toString=function(e){const a=e?function(a){return e.call(this,a,sa)}:sa;return this._pairs.map(function(e){return a(e[0])+"="+a(e[1])},"").join("&")};class da{constructor(){this.handlers=[]}use(e,a,t){return this.handlers.push({fulfilled:e,rejected:a,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ze.forEach(this.handlers,function(a){null!==a&&e(a)})}}const ua={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ma={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ra,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},pa="undefined"!=typeof window&&"undefined"!=typeof document,va="object"==typeof navigator&&navigator||void 0,fa=pa&&(!va||["ReactNative","NativeScript","NS"].indexOf(va.product)<0),ga="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ha=pa&&window.location.href||"http://localhost",ba={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pa,hasStandardBrowserEnv:fa,hasStandardBrowserWebWorkerEnv:ga,navigator:va,origin:ha},Symbol.toStringTag,{value:"Module"})),...ma};function wa(e){function a(e,t,o,n){let s=e[n++];if("__proto__"===s)return!0;const r=Number.isFinite(+s),l=n>=e.length;if(s=!s&&Ze.isArray(o)?o.length:s,l)return Ze.hasOwnProp(o,s)?o[s]=[o[s],t]:o[s]=t,!r;o[s]&&Ze.isObject(o[s])||(o[s]=[]);return a(e,t,o[s],n)&&Ze.isArray(o[s])&&(o[s]=function(e){const a={},t=Object.keys(e);let o;const n=t.length;let s;for(o=0;o<n;o++)s=t[o],a[s]=e[s];return a}(o[s])),!r}if(Ze.isFormData(e)&&Ze.isFunction(e.entries)){const t={};return Ze.forEachEntry(e,(e,o)=>{a(function(e){return Ze.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),o,t,0)}),t}return null}const ya={transitional:ua,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const t=a.getContentType()||"",o=t.indexOf("application/json")>-1,n=Ze.isObject(e);n&&Ze.isHTMLForm(e)&&(e=new FormData(e));if(Ze.isFormData(e))return o?JSON.stringify(wa(e)):e;if(Ze.isArrayBuffer(e)||Ze.isBuffer(e)||Ze.isStream(e)||Ze.isFile(e)||Ze.isBlob(e)||Ze.isReadableStream(e))return e;if(Ze.isArrayBufferView(e))return e.buffer;if(Ze.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,a){return na(e,new ba.classes.URLSearchParams,Object.assign({visitor:function(e,a,t,o){return ba.isNode&&Ze.isBuffer(e)?(this.append(a,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},a))}(e,this.formSerializer).toString();if((s=Ze.isFileList(e))||t.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return na(s?{"files[]":e}:e,a&&new a,this.formSerializer)}}return n||o?(a.setContentType("application/json",!1),function(e,a,t){if(Ze.isString(e))try{return(a||JSON.parse)(e),Ze.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(t||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const a=this.transitional||ya.transitional,t=a&&a.forcedJSONParsing,o="json"===this.responseType;if(Ze.isResponse(e)||Ze.isReadableStream(e))return e;if(e&&Ze.isString(e)&&(t&&!this.responseType||o)){const t=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(n){if(t){if("SyntaxError"===n.name)throw Ke.from(n,Ke.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ba.classes.FormData,Blob:ba.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ze.forEach(["delete","get","head","post","put","patch"],e=>{ya.headers[e]={}});const ka=Ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ca=Symbol("internals");function Ea(e){return e&&String(e).trim().toLowerCase()}function xa(e){return!1===e||null==e?e:Ze.isArray(e)?e.map(xa):String(e)}function Sa(e,a,t,o,n){return Ze.isFunction(o)?o.call(this,a,t):(n&&(a=t),Ze.isString(a)?Ze.isString(o)?-1!==a.indexOf(o):Ze.isRegExp(o)?o.test(a):void 0:void 0)}let Aa=class{constructor(e){e&&this.set(e)}set(e,a,t){const o=this;function n(e,a,t){const n=Ea(a);if(!n)throw new Error("header name must be a non-empty string");const s=Ze.findKey(o,n);(!s||void 0===o[s]||!0===t||void 0===t&&!1!==o[s])&&(o[s||a]=xa(e))}const s=(e,a)=>Ze.forEach(e,(e,t)=>n(e,t,a));if(Ze.isPlainObject(e)||e instanceof this.constructor)s(e,a);else if(Ze.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const a={};let t,o,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),o=e.substring(n+1).trim(),!t||a[t]&&ka[t]||("set-cookie"===t?a[t]?a[t].push(o):a[t]=[o]:a[t]=a[t]?a[t]+", "+o:o)}),a})(e),a);else if(Ze.isObject(e)&&Ze.isIterable(e)){let t,o,n={};for(const a of e){if(!Ze.isArray(a))throw TypeError("Object iterator must return a key-value pair");n[o=a[0]]=(t=n[o])?Ze.isArray(t)?[...t,a[1]]:[t,a[1]]:a[1]}s(n,a)}else null!=e&&n(a,e,t);return this}get(e,a){if(e=Ea(e)){const t=Ze.findKey(this,e);if(t){const e=this[t];if(!a)return e;if(!0===a)return function(e){const a=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(e);)a[o[1]]=o[2];return a}(e);if(Ze.isFunction(a))return a.call(this,e,t);if(Ze.isRegExp(a))return a.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=Ea(e)){const t=Ze.findKey(this,e);return!(!t||void 0===this[t]||a&&!Sa(0,this[t],t,a))}return!1}delete(e,a){const t=this;let o=!1;function n(e){if(e=Ea(e)){const n=Ze.findKey(t,e);!n||a&&!Sa(0,t[n],n,a)||(delete t[n],o=!0)}}return Ze.isArray(e)?e.forEach(n):n(e),o}clear(e){const a=Object.keys(this);let t=a.length,o=!1;for(;t--;){const n=a[t];e&&!Sa(0,this[n],n,e,!0)||(delete this[n],o=!0)}return o}normalize(e){const a=this,t={};return Ze.forEach(this,(o,n)=>{const s=Ze.findKey(t,n);if(s)return a[s]=xa(o),void delete a[n];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,t)=>a.toUpperCase()+t)}(n):String(n).trim();r!==n&&delete a[n],a[r]=xa(o),t[r]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return Ze.forEach(this,(t,o)=>{null!=t&&!1!==t&&(a[o]=e&&Ze.isArray(t)?t.join(", "):t)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const t=new this(e);return a.forEach(e=>t.set(e)),t}static accessor(e){const a=(this[Ca]=this[Ca]={accessors:{}}).accessors,t=this.prototype;function o(e){const o=Ea(e);a[o]||(!function(e,a){const t=Ze.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+t,{value:function(e,t,n){return this[o].call(this,a,e,t,n)},configurable:!0})})}(t,e),a[o]=!0)}return Ze.isArray(e)?e.forEach(o):o(e),this}};function Ta(e,a){const t=this||ya,o=a||t,n=Aa.from(o.headers);let s=o.data;return Ze.forEach(e,function(e){s=e.call(t,s,n.normalize(),a?a.status:void 0)}),n.normalize(),s}function Ra(e){return!(!e||!e.__CANCEL__)}function _a(e,a,t){Ke.call(this,null==e?"canceled":e,Ke.ERR_CANCELED,a,t),this.name="CanceledError"}function Pa(e,a,t){const o=t.config.validateStatus;t.status&&o&&!o(t.status)?a(new Ke("Request failed with status code "+t.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}Aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ze.reduceDescriptors(Aa.prototype,({value:e},a)=>{let t=a[0].toUpperCase()+a.slice(1);return{get:()=>e,set(e){this[t]=e}}}),Ze.freezeMethods(Aa),Ze.inherits(_a,Ke,{__CANCEL__:!0});const Na=(e,a,t=3)=>{let o=0;const n=function(e,a){e=e||10;const t=new Array(e),o=new Array(e);let n,s=0,r=0;return a=void 0!==a?a:1e3,function(l){const i=Date.now(),c=o[r];n||(n=i),t[s]=l,o[s]=i;let d=r,u=0;for(;d!==s;)u+=t[d++],d%=e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),i-n<a)return;const m=c&&i-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,a){let t,o,n=0,s=1e3/a;const r=(a,s=Date.now())=>{n=s,t=null,o&&(clearTimeout(o),o=null),e.apply(null,a)};return[(...e)=>{const a=Date.now(),l=a-n;l>=s?r(e,a):(t=e,o||(o=setTimeout(()=>{o=null,r(t)},s-l)))},()=>t&&r(t)]}(t=>{const s=t.loaded,r=t.lengthComputable?t.total:void 0,l=s-o,i=n(l);o=s;e({loaded:s,total:r,progress:r?s/r:void 0,bytes:l,rate:i||void 0,estimated:i&&r&&s<=r?(r-s)/i:void 0,event:t,lengthComputable:null!=r,[a?"download":"upload"]:!0})},t)},La=(e,a)=>{const t=null!=e;return[o=>a[0]({lengthComputable:t,total:e,loaded:o}),a[1]]},Ia=e=>(...a)=>Ze.asap(()=>e(...a)),Oa=ba.hasStandardBrowserEnv?((e,a)=>t=>(t=new URL(t,ba.origin),e.protocol===t.protocol&&e.host===t.host&&(a||e.port===t.port)))(new URL(ba.origin),ba.navigator&&/(msie|trident)/i.test(ba.navigator.userAgent)):()=>!0,ja=ba.hasStandardBrowserEnv?{write(e,a,t,o,n,s){const r=[e+"="+encodeURIComponent(a)];Ze.isNumber(t)&&r.push("expires="+new Date(t).toGMTString()),Ze.isString(o)&&r.push("path="+o),Ze.isString(n)&&r.push("domain="+n),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read(e){const a=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Da(e,a,t){let o=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a);return e&&(o||0==t)?function(e,a){return a?e.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):e}(e,a):a}const Ma=e=>e instanceof Aa?{...e}:e;function Ua(e,a){a=a||{};const t={};function o(e,a,t,o){return Ze.isPlainObject(e)&&Ze.isPlainObject(a)?Ze.merge.call({caseless:o},e,a):Ze.isPlainObject(a)?Ze.merge({},a):Ze.isArray(a)?a.slice():a}function n(e,a,t,n){return Ze.isUndefined(a)?Ze.isUndefined(e)?void 0:o(void 0,e,0,n):o(e,a,0,n)}function s(e,a){if(!Ze.isUndefined(a))return o(void 0,a)}function r(e,a){return Ze.isUndefined(a)?Ze.isUndefined(e)?void 0:o(void 0,e):o(void 0,a)}function l(t,n,s){return s in a?o(t,n):s in e?o(void 0,t):void 0}const i={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(e,a,t)=>n(Ma(e),Ma(a),0,!0)};return Ze.forEach(Object.keys(Object.assign({},e,a)),function(o){const s=i[o]||n,r=s(e[o],a[o],o);Ze.isUndefined(r)&&s!==l||(t[o]=r)}),t}const $a=e=>{const a=Ua({},e);let t,{data:o,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:l,auth:i}=a;if(a.headers=l=Aa.from(l),a.url=ca(Da(a.baseURL,a.url,a.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),Ze.isFormData(o))if(ba.hasStandardBrowserEnv||ba.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(t=l.getContentType())){const[e,...a]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...a].join("; "))}if(ba.hasStandardBrowserEnv&&(n&&Ze.isFunction(n)&&(n=n(a)),n||!1!==n&&Oa(a.url))){const e=s&&r&&ja.read(r);e&&l.set(s,e)}return a},qa="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(a,t){const o=$a(e);let n=o.data;const s=Aa.from(o.headers).normalize();let r,l,i,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=o;function v(){c&&c(),d&&d(),o.cancelToken&&o.cancelToken.unsubscribe(r),o.signal&&o.signal.removeEventListener("abort",r)}let f=new XMLHttpRequest;function g(){if(!f)return;const o=Aa.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Pa(function(e){a(e),v()},function(e){t(e),v()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:o,config:e,request:f}),f=null}f.open(o.method.toUpperCase(),o.url,!0),f.timeout=o.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(t(new Ke("Request aborted",Ke.ECONNABORTED,e,f)),f=null)},f.onerror=function(){t(new Ke("Network Error",Ke.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let a=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const n=o.transitional||ua;o.timeoutErrorMessage&&(a=o.timeoutErrorMessage),t(new Ke(a,n.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,e,f)),f=null},void 0===n&&s.setContentType(null),"setRequestHeader"in f&&Ze.forEach(s.toJSON(),function(e,a){f.setRequestHeader(a,e)}),Ze.isUndefined(o.withCredentials)||(f.withCredentials=!!o.withCredentials),u&&"json"!==u&&(f.responseType=o.responseType),p&&([i,d]=Na(p,!0),f.addEventListener("progress",i)),m&&f.upload&&([l,c]=Na(m),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(o.cancelToken||o.signal)&&(r=a=>{f&&(t(!a||a.type?new _a(null,e,f):a),f.abort(),f=null)},o.cancelToken&&o.cancelToken.subscribe(r),o.signal&&(o.signal.aborted?r():o.signal.addEventListener("abort",r)));const h=function(e){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return a&&a[1]||""}(o.url);h&&-1===ba.protocols.indexOf(h)?t(new Ke("Unsupported protocol "+h+":",Ke.ERR_BAD_REQUEST,e)):f.send(n||null)})},Ba=(e,a)=>{const{length:t}=e=e?e.filter(Boolean):[];if(a||t){let t,o=new AbortController;const n=function(e){if(!t){t=!0,r();const a=e instanceof Error?e:this.reason;o.abort(a instanceof Ke?a:new _a(a instanceof Error?a.message:a))}};let s=a&&setTimeout(()=>{s=null,n(new Ke(`timeout ${a} of ms exceeded`,Ke.ETIMEDOUT))},a);const r=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:l}=o;return l.unsubscribe=()=>Ze.asap(r),l}},Va=function*(e,a){let t=e.byteLength;if(t<a)return void(yield e);let o,n=0;for(;n<t;)o=n+a,yield e.slice(n,o),n=o},za=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const a=e.getReader();try{for(;;){const{done:e,value:t}=await a.read();if(e)break;yield t}}finally{await a.cancel()}},Fa=(e,a,t,o)=>{const n=async function*(e,a){for await(const t of za(e))yield*Va(t,a)}(e,a);let s,r=0,l=e=>{s||(s=!0,o&&o(e))};return new ReadableStream({async pull(e){try{const{done:a,value:o}=await n.next();if(a)return l(),void e.close();let s=o.byteLength;if(t){let e=r+=s;t(e)}e.enqueue(new Uint8Array(o))}catch(a){throw l(a),a}},cancel:e=>(l(e),n.return())},{highWaterMark:2})},Ha="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Wa=Ha&&"function"==typeof ReadableStream,Ga=Ha&&("function"==typeof TextEncoder?(e=>a=>e.encode(a))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ja=(e,...a)=>{try{return!!e(...a)}catch(t){return!1}},Qa=Wa&&Ja(()=>{let e=!1;const a=new Request(ba.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!a}),Za=Wa&&Ja(()=>Ze.isReadableStream(new Response("").body)),Ka={stream:Za&&(e=>e.body)};var Ya;Ha&&(Ya=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ka[e]&&(Ka[e]=Ze.isFunction(Ya[e])?a=>a[e]():(a,t)=>{throw new Ke(`Response type '${e}' is not supported`,Ke.ERR_NOT_SUPPORT,t)})}));const Xa=async(e,a)=>{const t=Ze.toFiniteNumber(e.getContentLength());return null==t?(async e=>{if(null==e)return 0;if(Ze.isBlob(e))return e.size;if(Ze.isSpecCompliantForm(e)){const a=new Request(ba.origin,{method:"POST",body:e});return(await a.arrayBuffer()).byteLength}return Ze.isArrayBufferView(e)||Ze.isArrayBuffer(e)?e.byteLength:(Ze.isURLSearchParams(e)&&(e+=""),Ze.isString(e)?(await Ga(e)).byteLength:void 0)})(a):t},et={http:null,xhr:qa,fetch:Ha&&(async e=>{let{url:a,method:t,data:o,signal:n,cancelToken:s,timeout:r,onDownloadProgress:l,onUploadProgress:i,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=$a(e);c=c?(c+"").toLowerCase():"text";let p,v=Ba([n,s&&s.toAbortSignal()],r);const f=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let g;try{if(i&&Qa&&"get"!==t&&"head"!==t&&0!==(g=await Xa(d,o))){let e,t=new Request(a,{method:"POST",body:o,duplex:"half"});if(Ze.isFormData(o)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){const[e,a]=La(g,Na(Ia(i)));o=Fa(t.body,65536,e,a)}}Ze.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;p=new Request(a,{...m,signal:v,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:o,duplex:"half",credentials:n?u:void 0});let s=await fetch(p);const r=Za&&("stream"===c||"response"===c);if(Za&&(l||r&&f)){const e={};["status","statusText","headers"].forEach(a=>{e[a]=s[a]});const a=Ze.toFiniteNumber(s.headers.get("content-length")),[t,o]=l&&La(a,Na(Ia(l),!0))||[];s=new Response(Fa(s.body,65536,t,()=>{o&&o(),f&&f()}),e)}c=c||"text";let h=await Ka[Ze.findKey(Ka,c)||"text"](s,e);return!r&&f&&f(),await new Promise((a,t)=>{Pa(a,t,{data:h,headers:Aa.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})})}catch(h){if(f&&f(),h&&"TypeError"===h.name&&/Load failed|fetch/i.test(h.message))throw Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,e,p),{cause:h.cause||h});throw Ke.from(h,h&&h.code,e,p)}})};Ze.forEach(et,(e,a)=>{if(e){try{Object.defineProperty(e,"name",{value:a})}catch(t){}Object.defineProperty(e,"adapterName",{value:a})}});const at=e=>`- ${e}`,tt=e=>Ze.isFunction(e)||null===e||!1===e,ot=e=>{e=Ze.isArray(e)?e:[e];const{length:a}=e;let t,o;const n={};for(let s=0;s<a;s++){let a;if(t=e[s],o=t,!tt(t)&&(o=et[(a=String(t)).toLowerCase()],void 0===o))throw new Ke(`Unknown adapter '${a}'`);if(o)break;n[a||"#"+s]=o}if(!o){const e=Object.entries(n).map(([e,a])=>`adapter ${e} `+(!1===a?"is not supported by the environment":"is not available in the build"));throw new Ke("There is no suitable adapter to dispatch the request "+(a?e.length>1?"since :\n"+e.map(at).join("\n"):" "+at(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return o};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _a(null,e)}function st(e){nt(e),e.headers=Aa.from(e.headers),e.data=Ta.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ot(e.adapter||ya.adapter)(e).then(function(a){return nt(e),a.data=Ta.call(e,e.transformResponse,a),a.headers=Aa.from(a.headers),a},function(a){return Ra(a)||(nt(e),a&&a.response&&(a.response.data=Ta.call(e,e.transformResponse,a.response),a.response.headers=Aa.from(a.response.headers))),Promise.reject(a)})}const rt="1.9.0",lt={};["object","boolean","number","function","string","symbol"].forEach((e,a)=>{lt[e]=function(t){return typeof t===e||"a"+(a<1?"n ":" ")+e}});const it={};lt.transitional=function(e,a,t){function o(e,a){return"[Axios v1.9.0] Transitional option '"+e+"'"+a+(t?". "+t:"")}return(t,n,s)=>{if(!1===e)throw new Ke(o(n," has been removed"+(a?" in "+a:"")),Ke.ERR_DEPRECATED);return a&&!it[n]&&(it[n]=!0,console.warn(o(n," has been deprecated since v"+a+" and will be removed in the near future"))),!e||e(t,n,s)}},lt.spelling=function(e){return(a,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};const ct={assertOptions:function(e,a,t){if("object"!=typeof e)throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let n=o.length;for(;n-- >0;){const s=o[n],r=a[s];if(r){const a=e[s],t=void 0===a||r(a,s,e);if(!0!==t)throw new Ke("option "+s+" must be "+t,Ke.ERR_BAD_OPTION_VALUE);continue}if(!0!==t)throw new Ke("Unknown option "+s,Ke.ERR_BAD_OPTION)}},validators:lt},dt=ct.validators;let ut=class{constructor(e){this.defaults=e||{},this.interceptors={request:new da,response:new da}}async request(e,a){try{return await this._request(e,a)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const a=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?a&&!String(t.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+a):t.stack=a}catch(o){}}throw t}}_request(e,a){"string"==typeof e?(a=a||{}).url=e:a=e||{},a=Ua(this.defaults,a);const{transitional:t,paramsSerializer:o,headers:n}=a;void 0!==t&&ct.assertOptions(t,{silentJSONParsing:dt.transitional(dt.boolean),forcedJSONParsing:dt.transitional(dt.boolean),clarifyTimeoutError:dt.transitional(dt.boolean)},!1),null!=o&&(Ze.isFunction(o)?a.paramsSerializer={serialize:o}:ct.assertOptions(o,{encode:dt.function,serialize:dt.function},!0)),void 0!==a.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ct.assertOptions(a,{baseUrl:dt.spelling("baseURL"),withXsrfToken:dt.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let s=n&&Ze.merge(n.common,n[a.method]);n&&Ze.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),a.headers=Aa.concat(s,n);const r=[];let l=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(a)||(l=l&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[st.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,i),d=e.length,c=Promise.resolve(a);u<d;)c=c.then(e[u++],e[u++]);return c}d=r.length;let m=a;for(u=0;u<d;){const e=r[u++],a=r[u++];try{m=e(m)}catch(p){a.call(this,p);break}}try{c=st.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return ca(Da((e=Ua(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Ze.forEach(["delete","get","head","options"],function(e){ut.prototype[e]=function(a,t){return this.request(Ua(t||{},{method:e,url:a,data:(t||{}).data}))}}),Ze.forEach(["post","put","patch"],function(e){function a(a){return function(t,o,n){return this.request(Ua(n||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:t,data:o}))}}ut.prototype[e]=a(),ut.prototype[e+"Form"]=a(!0)});const mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach(([e,a])=>{mt[a]=e});const pt=function e(a){const t=new ut(a),o=ce(ut.prototype.request,t);return Ze.extend(o,ut.prototype,t,{allOwnKeys:!0}),Ze.extend(o,t,null,{allOwnKeys:!0}),o.create=function(t){return e(Ua(a,t))},o}(ya);pt.Axios=ut,pt.CanceledError=_a,pt.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(e){a=e});const t=this;this.promise.then(e=>{if(!t._listeners)return;let a=t._listeners.length;for(;a-- >0;)t._listeners[a](e);t._listeners=null}),this.promise.then=e=>{let a;const o=new Promise(e=>{t.subscribe(e),a=e}).then(e);return o.cancel=function(){t.unsubscribe(a)},o},e(function(e,o,n){t.reason||(t.reason=new _a(e,o,n),a(t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);-1!==a&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=a=>{e.abort(a)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let a;return{token:new e(function(e){a=e}),cancel:a}}},pt.isCancel=Ra,pt.VERSION=rt,pt.toFormData=na,pt.AxiosError=Ke,pt.Cancel=pt.CanceledError,pt.all=function(e){return Promise.all(e)},pt.spread=function(e){return function(a){return e.apply(null,a)}},pt.isAxiosError=function(e){return Ze.isObject(e)&&!0===e.isAxiosError},pt.mergeConfig=Ua,pt.AxiosHeaders=Aa,pt.formToJSON=e=>wa(Ze.isHTMLForm(e)?new FormData(e):e),pt.getAdapter=ot,pt.HttpStatusCode=mt,pt.default=pt;const{Axios:vt,AxiosError:ft,CanceledError:gt,isCancel:ht,CancelToken:bt,VERSION:wt,all:yt,Cancel:kt,isAxiosError:Ct,spread:Et,toFormData:xt,AxiosHeaders:St,HttpStatusCode:At,formToJSON:Tt,getAdapter:Rt,mergeConfig:_t}=pt,Pt=pt.create({baseURL:"https://mozoqr.com/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});Pt.interceptors.request.use(e=>{const a=localStorage.getItem("token");return console.log("Interceptor request - Token:",a),console.log("Interceptor request - URL:",e.url),a?(e.headers.Authorization=`Bearer ${a}`,console.log("Interceptor request - Headers:",e.headers)):console.warn("No hay token disponible para la petición"),e},e=>(console.error("Error en interceptor request:",e),Promise.reject(e))),Pt.interceptors.response.use(e=>{console.log("Interceptor response - Status:",e.status),console.log("Interceptor response - URL:",e.config.url);try{const a=e.data;if(a){const e=a.token||a.access_token||a.plainTextToken||a.user&&a.user.token||a.user&&a.user.access_token;e&&(console.log("Interceptor response - Token detectado en respuesta, guardando automáticamente"),localStorage.setItem("token",e))}}catch(a){console.error("Error procesando token en interceptor:",a)}return e},e=>(e.response&&401===e.response.status&&(console.warn("Interceptor error - 401 Unauthorized - Token inválido o expirado"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),e.message=(e=>{var a;if(e.response){console.error("Interceptor error - Status:",e.response.status),console.error("Interceptor error - URL:",null==(a=e.config)?void 0:a.url);const t=e.response.data;if(t){if("string"==typeof t)return t;if(t.message)return t.message;if(t.error)return t.error}return`Error ${e.response.status}: ${e.response.statusText||"Error en la respuesta del servidor"}`}return e.request?(console.error("Interceptor error - No response received"),"No se recibió respuesta del servidor. Verifique su conexión."):(console.error("Interceptor error - Request error:",e.message),e.message||"Ocurrió un error desconocido.")})(e),Promise.reject(e)));const Nt={login:e=>Pt.post("login",e),loginWithGoogle:e=>Pt.post("login/google",{token:e}),forgotPassword:e=>Pt.post("forgot-password",e),resetPassword:e=>Pt.post("reset-password",e),callWaiter:e=>Pt.post(`tables/${e}/call-waiter`),register:e=>Pt.post("register",e),getCurrentUser:()=>Pt.get("user"),logout:()=>Pt.post("logout"),selectRole:e=>Pt.post("role/select",{role:e}),updateProfile:e=>Pt.post("profile/update",e,{headers:{"Content-Type":"multipart/form-data"}}),sendWhatsAppMessage:e=>Pt.post("profile/whatsapp/send",e),getNotifications:()=>Pt.get("notifications"),handleNotification:(e,a)=>Pt.post(`notifications/handle/${e}`,a),globalNotifications:e=>Pt.post("notifications/global",e),storeDeviceToken:e=>Pt.post("device-token",e),deleteDeviceToken:e=>Pt.delete("device-token",{data:e}),toggleTableNotifications:e=>Pt.post(`tables/toggle-notifications/${e}`),waiterOnboard:e=>Pt.post("waiter/onboard",{code:e}),getWaiterTables:()=>Pt.get("waiter/tables"),listWaiterProfiles:()=>Pt.get("waiter/profiles"),createWaiterProfile:e=>Pt.post("waiter/profiles",e),deleteWaiterProfile:e=>Pt.delete(`waiter/profiles/${e}`),getWaiterNotifications:()=>Pt.get("waiter/notifications"),handleWaiterNotification:(e,a)=>Pt.post(`waiter/notifications/handle/${e}`,a),waiterGlobalNotifications:e=>Pt.post("waiter/notifications/global",e),waiterToggleTableNotifications:e=>Pt.post(`waiter/tables/toggle-notifications/${e}`),getBusinessInfo:()=>Pt.get("admin/business"),switchView:e=>Pt.post("admin/switch-view",e),removeStaff:e=>Pt.delete(`admin/staff/${e}`),handleStaffRequest:(e,a)=>Pt.post(`admin/staff/request/${e}`,a),getStaffRequests:()=>Pt.get("admin/staff/requests"),getArchivedStaffRequests:()=>Pt.get("admin/staff/requests/archived"),getTables:()=>Pt.get("tables"),createTable:e=>Pt.post("tables",e),updateTable:(e,a)=>Pt.put(`tables/${e}`,a),deleteTable:e=>Pt.delete(`tables/${e}`),getMenus:()=>Pt.get("menus"),uploadMenu:e=>Pt.post("menus",e,{headers:{"Content-Type":"multipart/form-data"}}),setDefaultMenu:e=>Pt.post("menus/default",e),generateQRCode:e=>Pt.post(`admin/qr/generate/${e}`),exportQR:e=>Pt.post("admin/qr/export",e),getSettings:()=>Pt.get("admin/settings"),updateSettings:e=>Pt.post("admin/settings",e),deleteMenu:e=>Pt.delete(`menus/${e}`),renameMenu:(e,a)=>Pt.put(`menus/${e}`,a),reorderMenus:e=>Pt.post("menus/reorder",{menu_order:e}),previewMenu:e=>Pt.get(`menus/${e}/preview`,{responseType:"blob"}),cloneTable:(e,a)=>Pt.post(`tables/clone/${e}`,a),getStaff:(e=1)=>Pt.get(`admin/staff?page=${e}`),getStaffMember:e=>Pt.get(`admin/staff/${e}`),updateStaffMember:(e,a)=>a instanceof FormData?Pt.post(`admin/staff/${e}?_method=PUT`,a,{headers:{"Content-Type":"multipart/form-data"}}):Pt.put(`admin/staff/${e}`,a),inviteStaff:e=>Pt.post("admin/staff/invite",e),addReview:(e,a)=>Pt.post(`admin/staff/${e}/reviews`,a),deleteReview:(e,a)=>Pt.delete(`admin/staff/${e}/reviews/${a}`),changePassword:e=>Pt.post("change-password",e),deleteAccount:e=>Pt.delete("delete-account",{data:e}),getAdminStatistics:()=>Pt.get("admin/statistics"),sendQrEmail:e=>Pt.post("admin/qr/email",e),getAdminNotifications:()=>Pt.get("admin/notifications"),listWorkHistory:()=>Pt.get("profile/work-history"),addWorkHistory:e=>Pt.post("profile/work-history",e),updateWorkHistory:(e,a)=>Pt.put(`profile/work-history/${e}`,a),deleteWorkHistory:e=>Pt.delete(`profile/work-history/${e}`)},Lt=Object.freeze(Object.defineProperty({__proto__:null,api:Pt,apiService:Nt,default:Nt},Symbol.toStringTag,{value:"Module"})),It=e("auth",()=>{const e=a(null),t=a(localStorage.getItem("token")||null);console.log("AuthStore - Inicialización - Token cargado de localStorage:",t.value);const o=a(!!t.value),n=a(!1),s=a(null),r=a(null),i=localStorage.getItem("user");if(i)try{const a=JSON.parse(i);console.log("AuthStore - Usuario cargado de localStorage:",a),a.selectedRole&&(r.value=a.selectedRole,a.role=a.selectedRole,console.log("AuthStore - Rol seleccionado del usuario:",a.role)),e.value=a}catch(u){console.error("AuthStore - Error al parsear usuario de localStorage:",u)}const c=l(()=>{var a;return r.value||(null==(a=e.value)?void 0:a.role)||null}),d=()=>(console.log("AuthStore - Cerrando sesión"),e.value=null,t.value=null,o.value=!1,r.value=null,localStorage.removeItem("token"),localStorage.removeItem("userRole"),localStorage.removeItem("user"),console.log("AuthStore - Sesión cerrada, token eliminado de localStorage"),!0);return{user:e,token:t,isAuthenticated:o,isLoading:n,error:s,selectedRole:r,currentRole:c,login:async a=>{var l;console.log("AuthStore - Iniciando login"),n.value=!0,s.value=null;try{const n=(await Nt.login(a)).data||{};console.log("AuthStore - Respuesta login:",n);const s=n.token||n.access_token||n.plainTextToken;return console.log("AuthStore - Token recibido:",s?"Sí (valor no mostrado)":"No"),e.value=n.user,t.value=s,o.value=!0,r.value=(null==(l=n.user)?void 0:l.selectedRole)||null,t.value&&(console.log("AuthStore - Guardando token en localStorage"),localStorage.setItem("token",t.value),console.log("AuthStore - Token después de guardar:",localStorage.getItem("token")?"Existe":"No existe")),localStorage.setItem("user",JSON.stringify(n.user)),n.user}catch(u){throw console.error("AuthStore - Error en login:",u),s.value=u.message||"Error al iniciar sesión",u}finally{n.value=!1}},register:async a=>{n.value=!0,s.value=null;try{const n=(await Nt.register(a)).data||{};return e.value=n.user,t.value=n.token,o.value=!0,r.value=null,t.value&&localStorage.setItem("token",t.value),localStorage.setItem("user",JSON.stringify(n.user)),n.user}catch(u){throw s.value=u.message||"Error al registrarse",u}finally{n.value=!1}},logout:d,fetchUser:async()=>{if(console.log("AuthStore - fetchUser iniciado"),e.value)return void console.log("AuthStore - Usuario ya existe en el estado:",e.value);const a=localStorage.getItem("user");if(a)try{e.value=JSON.parse(a),console.log("AuthStore - Usuario cargado de localStorage en fetchUser:",e.value)}catch(u){console.error("AuthStore - Error al parsear usuario en fetchUser:",u)}else o.value&&(console.log("AuthStore - Autenticado pero sin usuario en localStorage. Cerrando sesión."),d())},updateProfile:async a=>{try{console.log("Actualizando perfil con:",Object.fromEntries(a.entries()));const t=Object.fromEntries(a.entries());return e.value={...e.value,...t},localStorage.setItem("user",JSON.stringify(e.value)),{data:{user:e.value}}}catch(t){throw console.error("Error actualizando el perfil:",t),t}},forgotPassword:async e=>{n.value=!0,s.value=null;try{return!0}catch(u){throw s.value=u.message||"Error al enviar email de recuperación",u}finally{n.value=!1}},resetPassword:async(e,a)=>{n.value=!0,s.value=null;try{return!0}catch(u){throw s.value=u.message||"Error al restablecer contraseña",u}finally{n.value=!1}},setSelectedRole:a=>{console.log("AuthStore - setSelectedRole:",a),console.log("AuthStore - Estado previo:",{selectedRole:r.value,tokenInState:!!t.value,tokenInStorage:!!localStorage.getItem("token")}),r.value=a,e.value&&(e.value={...e.value,role:a});const o=localStorage.getItem("user");if(o)try{const e=JSON.parse(o);e.selectedRole=a,e.role=a,localStorage.setItem("user",JSON.stringify(e)),console.log("AuthStore - Usuario actualizado en localStorage con rol:",a)}catch(u){console.error("AuthStore - Error actualizando usuario en localStorage:",u)}console.log("AuthStore - Estado después de setSelectedRole:",{selectedRole:r.value,tokenInState:!!t.value,tokenInStorage:!!localStorage.getItem("token")})},getSelectedRole:()=>r.value}}),Ot={class:"off-canvas-panel"},jt={class:"panel-header"},Dt={class:"panel-nav"},Mt={key:0},Ut={key:1},$t={key:2},qt=ne({__name:"OffCanvasNavbar",setup(e){const a=oe(),r=It(),m=i(),p=l(()=>a.isOffCanvasOpen),v=l(()=>{var e;return null==(e=r.user)?void 0:e.role}),f=async()=>{a.closeOffCanvas(),await r.logout(),m.push("/login")},g=e=>{a.closeOffCanvas(),m.push({name:e})};return(e,r)=>(o(),t("div",{class:u(["off-canvas-container",{open:p.value}])},[n("div",{class:"off-canvas-backdrop",onClick:r[0]||(r[0]=(...e)=>s(a).closeOffCanvas&&s(a).closeOffCanvas(...e))}),n("aside",Ot,[n("header",jt,[r[7]||(r[7]=n("h3",null,"Menú",-1)),n("button",{onClick:r[1]||(r[1]=(...e)=>s(a).closeOffCanvas&&s(a).closeOffCanvas(...e)),class:"close-btn"},"×")]),n("nav",Dt,[n("ul",null,["admin"===v.value?(o(),t("li",Mt,[n("a",{onClick:r[2]||(r[2]=e=>g("admin-home"))},r[8]||(r[8]=[n("i",{class:"bi bi-speedometer2"},null,-1),d(" Dashboard ")]))])):c("",!0),"admin"===v.value?(o(),t("li",Ut,[n("a",{onClick:r[3]||(r[3]=e=>g("admin-notification-debug"))},r[9]||(r[9]=[n("i",{class:"bi bi-bug"},null,-1),d(" Debug Notificaciones ")]))])):c("",!0),"waiter"===v.value?(o(),t("li",$t,[n("a",{onClick:r[4]||(r[4]=e=>g("waiter-dashboard"))},r[10]||(r[10]=[n("i",{class:"bi bi-grid-1x2-fill"},null,-1),d(" Tablero ")]))])):c("",!0),n("li",null,[n("a",{onClick:r[5]||(r[5]=e=>g("profile"))},r[11]||(r[11]=[n("i",{class:"bi bi-person-fill"},null,-1),d(" Mi Perfil ")]))]),n("li",null,[n("a",{onClick:r[6]||(r[6]=e=>g("role-selection"))},r[12]||(r[12]=[n("i",{class:"bi bi-person-badge-fill"},null,-1),d(" Cambiar Rol ")]))]),r[14]||(r[14]=n("li",{class:"separator"},null,-1)),n("li",null,[n("a",{onClick:f},r[13]||(r[13]=[n("i",{class:"bi bi-box-arrow-right"},null,-1),d(" Cerrar Sesión ")]))])])])])],2))}},[["__scopeId","data-v-dc272bcf"]]),Bt=e("waiter",()=>{const e=a(localStorage.getItem("waiterBusinessId")||null),t=a(null),o=a([]),n=a([]),s=a([]),r=a(!1),i=a(null),c=l(()=>!!e.value),d=l(()=>s.value.filter(e=>"pending"===e.status).sort((e,a)=>new Date(a.timestamp)-new Date(e.timestamp))),u=e=>({...e,name:String(e.number),notifications_on:e.notifications_enabled??!0,is_muted:!(e.notifications_enabled??1),color:e.color??null,alert:!1});return{businessId:e,businessData:t,tables:o,profiles:n,notifications:s,isLoading:r,error:i,isAssociated:c,activeNotifications:d,associateBusiness:async a=>{var o,n;r.value=!0,i.value=null;try{const o=await Nt.waiterOnboard(a),{business:n}=o.data;return e.value=n.id,t.value=n,localStorage.setItem("waiterBusinessId",n.id),!0}catch(s){throw i.value=(null==(n=null==(o=s.response)?void 0:o.data)?void 0:n.message)||"Error al asociar el negocio.",s}finally{r.value=!1}},fetchInitialData:async()=>{var e,a,t;if(c.value){r.value=!0,i.value=null;try{const[a,t,r]=await Promise.all([Nt.getWaiterTables(),Nt.listWaiterProfiles(),Nt.getWaiterNotifications()]),l=(null==(e=a.data)?void 0:e.tables)??a.data;o.value=Array.isArray(l)?l.map(u):[],n.value=t.data,s.value=r.data}catch(l){i.value=(null==(t=null==(a=l.response)?void 0:a.data)?void 0:t.message)||"Error al cargar los datos iniciales.",console.error(l)}finally{r.value=!1}}},toggleTableNotifications:async e=>{var a,t;const o=e.notifications_on;e.notifications_on=!o,e.is_muted=!e.notifications_on;try{await Nt.toggleTableNotifications(e.id,{value:e.notifications_on})}catch(n){e.notifications_on=o,e.is_muted=!o,i.value=(null==(t=null==(a=n.response)?void 0:a.data)?void 0:t.message)||"Error al actualizar la mesa.",console.error(n)}},fetchNotifications:async()=>{try{const e=await Nt.getWaiterNotifications();s.value=e.data}catch(e){console.error("Error fetching notifications:",e)}},handleNotification:async(e,a)=>{var t,o;try{await Nt.handleWaiterNotification(e,{action:a}),s.value=s.value.filter(a=>a.id!==e)}catch(n){i.value=(null==(o=null==(t=n.response)?void 0:t.data)?void 0:o.message)||"Error al procesar la notificación.",console.error(n)}},createProfile:async e=>{var a,t;try{const a=await Nt.createWaiterProfile({name:e});n.value.push(a.data)}catch(o){i.value=(null==(t=null==(a=o.response)?void 0:a.data)?void 0:t.message)||"Error al crear el perfil.",console.error(o)}},deleteProfile:async e=>{var a,t;try{await Nt.deleteWaiterProfile(e),n.value=n.value.filter(a=>a.id!==e)}catch(o){i.value=(null==(t=null==(a=o.response)?void 0:a.data)?void 0:t.message)||"Error al eliminar el perfil.",console.error(o)}},clearWaiterData:()=>{e.value=null,t.value=null,o.value=[],n.value=[],s.value=[],localStorage.removeItem("waiterBusinessId")}}}),Vt=e("admin",()=>{const e=a(localStorage.getItem("businessId")||null),t=a(null),o=a([]),n=a([]),s=a([]),r=a([]),i=a([]),c=a(null),d=a(!1),u=a(null),m=a({next:null,prev:null}),p=a({current_page:1,last_page:1}),v=l(()=>o.value.length>0),f=l(()=>n.value.length>0),g=l(()=>s.value.filter(e=>"pending"===e.status)),h=async()=>{var e;d.value=!0,u.value=null;try{const a=await Nt.getMenus(),t=(null==(e=a.data)?void 0:e.menus)??a.data,n=Array.isArray(t)?t:[];return o.value=n.map(e=>({id:e.id,name:e.name,url:e.view_url||e.file_path,thumbnailUrl:e.preview_url||e.thumbnail_url||"/src/assets/pdf-thumb.png",isDefault:e.is_default})),o.value}catch(a){throw u.value=a.message||"Error al cargar menús",a}finally{d.value=!1}},b=async()=>{d.value=!0,u.value=null;try{const e=await Nt.getTables();return n.value=e.data.tables||[],!0}catch(e){return u.value=e.message||"Error al obtener mesas",!1}finally{d.value=!1}},w=async()=>{var e;d.value=!0,u.value=null;try{const a=await Nt.getStaffRequests(),t=(null==(e=a.data)?void 0:e.requests)??a.data,o=Array.isArray(t)?t:[];return s.value=o,s.value}catch(a){throw u.value=a.message||"Error al cargar solicitudes de personal",a}finally{d.value=!1}},y=async()=>{var e,a;d.value=!0,u.value=null;try{const t=await Nt.getArchivedStaffRequests(),o=(null==(e=t.data)?void 0:e.archived_requests)??(null==(a=t.data)?void 0:a.requests)??t.data,n=Array.isArray(o)?o:[];return r.value=n,r.value}catch(t){throw u.value=t.message||"Error al cargar solicitudes archivadas",t}finally{d.value=!1}},k=async(e=1)=>{var a,t,o,n,s,r,l,c,v,f;d.value=!0,u.value=null;try{const d="string"==typeof e?await Pt.get(e.replace(Pt.defaults.baseURL+"/","")):await Nt.getStaff(e),u=(null==(a=d.data)?void 0:a.staff)??(null==(t=d.data)?void 0:t.data)??d.data;return i.value=Array.isArray(u)?u:[],m.value={next:(null==(n=null==(o=d.data)?void 0:o.links)?void 0:n.next)??null,prev:(null==(r=null==(s=d.data)?void 0:s.links)?void 0:r.prev)??null},p.value={current_page:(null==(c=null==(l=d.data)?void 0:l.meta)?void 0:c.current_page)??1,last_page:(null==(f=null==(v=d.data)?void 0:v.meta)?void 0:f.last_page)??1},i.value}catch(g){throw u.value=g.message||"Error al cargar el personal",g}finally{d.value=!1}};return{businessId:e,businessData:t,menus:o,tables:n,staffRequests:s,archivedRequests:r,staff:i,statistics:c,isLoading:d,error:u,staffLinks:m,staffMeta:p,hasMenus:v,hasTables:f,pendingRequests:g,fetchBusinessData:async()=>{d.value=!0,u.value=null;try{return t.value={id:"rest-1",name:"Mi Restaurante",address:"Calle Principal 123",phone:"+34 678 123 456",email:"contacto@mirestaurante.com",logo:"/src/assets/mozo-logo.svg",description:"El mejor restaurante de la ciudad",openingHours:{monday:{open:"12:00",close:"23:00"},tuesday:{open:"12:00",close:"23:00"},wednesday:{open:"12:00",close:"23:00"},thursday:{open:"12:00",close:"23:00"},friday:{open:"12:00",close:"00:00"},saturday:{open:"12:00",close:"00:00"},sunday:{open:"12:00",close:"23:00"}},tables:20,capacity:80,averageRating:4.5},e.value||(e.value=t.value.id,localStorage.setItem("businessId",t.value.id)),t.value}catch(a){throw u.value=a.message||"Error al cargar datos del negocio",a}finally{d.value=!1}},fetchMenus:h,setDefaultMenu:async e=>{d.value=!0,u.value=null;try{return await Nt.setDefaultMenu({menu_id:e}),await h(),!0}catch(a){throw u.value=a.message||"Error al establecer menú predeterminado",a}finally{d.value=!1}},uploadMenu:async e=>{d.value=!0,u.value=null;try{const a=await Nt.uploadMenu(e);return await h(),a.data}catch(a){throw u.value=a.message||"Error al subir menú",a}finally{d.value=!1}},fetchTables:b,createTable:async e=>{d.value=!0,u.value=null;try{await Nt.createTable(e);return await b(),!0}catch(a){return u.value=a.message||"Error al crear mesa",!1}finally{d.value=!1}},updateTable:async(e,a)=>{d.value=!0,u.value=null;try{const t=await Nt.updateTable(e,a),o=n.value.findIndex(a=>a.id===e);return-1!==o&&(n.value[o]=t.data),t.data}catch(t){throw u.value=t.message||"Error al actualizar mesa",t}finally{d.value=!1}},deleteTable:async e=>{d.value=!0,u.value=null;try{return await Nt.deleteTable(e),n.value=n.value.filter(a=>a.id!==e),!0}catch(a){throw u.value=a.message||"Error al eliminar mesa",a}finally{d.value=!1}},fetchStaffRequests:w,fetchArchivedRequests:y,handleStaffRequest:async(e,a)=>{d.value=!0,u.value=null;try{return await Nt.handleStaffRequest(e,{action:a}),await w(),await y(),"confirm"===a&&await k(),!0}catch(t){throw u.value=t.message||"Error al procesar solicitud",t}finally{d.value=!1}},fetchStaff:k,inviteStaff:async e=>{d.value=!0,u.value=null;try{const a=await Nt.inviteStaff(e);return await w(),a.data}catch(a){throw u.value=a.message||"Error al enviar invitación",a}finally{d.value=!1}},fetchDashboardStats:async()=>{var e;d.value=!0,u.value=null;try{const a=await Nt.getAdminStatistics();return(null==(e=a.data)?void 0:e.statistics)??a.data}catch(a){throw u.value=a.message||"Error al cargar estadísticas",a}finally{d.value=!1}},fetchStaffMember:async e=>{var a;d.value=!0,u.value=null;try{const t=await Nt.getStaffMember(e);return(null==(a=t.data)?void 0:a.staff)??t.data}catch(t){throw u.value=t.message||"Error al cargar datos del miembro del personal",t}finally{d.value=!1}},updateStaffMember:async(e,a)=>{d.value=!0,u.value=null;try{const t=await Nt.updateStaffMember(e,a),o=i.value.findIndex(a=>a.id===e);return-1!==o&&(i.value[o]={...i.value[o],...t.data}),t.data}catch(t){throw u.value=t.message||"Error al actualizar miembro del personal",t}finally{d.value=!1}},removeStaff:async e=>{d.value=!0,u.value=null;try{return await Nt.removeStaff(e),i.value=i.value.filter(a=>a.id!==e),!0}catch(a){throw u.value=a.message||"Error al eliminar miembro del personal",a}finally{d.value=!1}},addReview:async(e,a)=>{d.value=!0,u.value=null;try{return(await Nt.addReview(e,a)).data}catch(t){throw u.value=t.message||"Error al añadir reseña",t}finally{d.value=!1}},deleteReview:async(e,a)=>{d.value=!0,u.value=null;try{return await Nt.deleteReview(e,a),!0}catch(t){throw u.value=t.message||"Error al eliminar reseña",t}finally{d.value=!1}},renameMenu:async(e,a)=>{d.value=!0,u.value=null;try{return await Nt.renameMenu(e,{name:a}),await h(),!0}catch(t){return u.value=t.message||"Error al renombrar menú",!1}finally{d.value=!1}},deleteMenu:async e=>{d.value=!0,u.value=null;try{return await Nt.deleteMenu(e),await h(),!0}catch(a){throw u.value=a.message||"Error al eliminar menú",a}finally{d.value=!1}},reorderMenus:async e=>{try{await Nt.reorderMenus(e),o.value.sort((a,t)=>e.indexOf(a.id)-e.indexOf(t.id))}catch(a){console.error("Error reordenando menús",a)}},previewMenu:async e=>{try{const a=await Nt.previewMenu(e);return URL.createObjectURL(a.data)}catch(a){return console.error("Error obteniendo preview",a),null}},cloneTable:async(e,a)=>{d.value=!0;try{const t=await Nt.cloneTable(e,a);n.value.push(t.data)}catch(t){console.error("Error clonando mesa",t)}finally{d.value=!1}},generateQrCode:async e=>{d.value=!0,u.value=null;try{await Nt.generateQRCode(e),await b()}catch(a){throw u.value=a.message||"Error al generar código QR",a}finally{d.value=!1}}}}),zt=e("user",()=>{const e=a(localStorage.getItem("userRole")||null),t=a(null),o=a(!1),n=a(null),s=l(()=>"admin"===e.value),r=l(()=>"waiter"===e.value);return{userRole:e,userProfile:t,isLoading:o,error:n,isAdmin:s,isWaiter:r,setRole:a=>"admin"===a||"waiter"===a?(e.value=a,localStorage.setItem("userRole",a),!0):(n.value="Rol inválido",!1),fetchProfile:async()=>{o.value=!0,n.value=null;try{console.log("Obteniendo perfil del usuario");const e={id:1,name:"Usuario Demo",email:"usuario@demo.com",avatar:null,preferences:{notifications:!0,theme:"light"}};return t.value=e,!0}catch(e){return n.value=e.message||"Error al obtener el perfil",!1}finally{o.value=!1}},updateProfile:async e=>{o.value=!0,n.value=null;try{return console.log("Actualizando perfil con datos:",e),t.value={...t.value,...e},!0}catch(a){return n.value=a.message||"Error al actualizar el perfil",!1}finally{o.value=!1}},changePassword:async e=>{o.value=!0,n.value=null;try{return await Nt.changePassword(e),!0}catch(a){return n.value=a.message||"Error al cambiar la contraseña",!1}finally{o.value=!1}},deleteAccount:async a=>{o.value=!0,n.value=null;try{await Nt.deleteAccount({password:a});return It().logout(),e.value=null,t.value=null,!0}catch(s){return n.value=s.message||"Error al eliminar la cuenta",!1}finally{o.value=!1}}}}),Ft={class:"debug-container"},Ht={key:0,class:"error-badge"},Wt={key:0,class:"debug-panel"},Gt={class:"debug-tabs"},Jt=["onClick"],Qt={key:0,class:"tab-badge"},Zt={class:"debug-content"},Kt={key:0,class:"tab-content"},Yt={class:"log-filters"},Xt=["onUpdate:modelValue","checked"],eo={class:"logs-container"},ao={class:"log-header"},to={class:"log-time"},oo={class:"log-level"},no={class:"log-source"},so={class:"log-message"},ro={key:0,class:"log-data"},lo={key:1,class:"tab-content"},io={class:"errors-container"},co={class:"error-header"},uo={class:"error-time"},mo={class:"error-status"},po={class:"error-url"},vo={class:"error-message"},fo={key:0,class:"error-response"},go={key:2,class:"tab-content"},ho={class:"stores-container"},bo={key:3,class:"tab-content"},wo={class:"network-stats"},yo={class:"stat-item"},ko={class:"stat-item"},Co={class:"stat-item"},Eo={class:"recent-requests"},xo={class:"request-header"},So={class:"request-method"},Ao={class:"request-status"},To={class:"request-time"},Ro={class:"request-url"},_o={key:4,class:"tab-content"},Po={class:"system-info"},No={class:"info-item"},Lo={class:"info-item"},Io={class:"info-item"},Oo={class:"info-item"},jo={class:"info-item"},Do=ne({__name:"DebugPanel",setup(e){const s=It(),i=Bt(),b=Vt(),w=zt(),y=oe(),k=a(!1),C=a("logs"),E=a([]),x=["info","warn","error","debug"],S=a({info:!0,warn:!0,error:!0,debug:!0}),A=a([]),T=a([]),R=a({requests:0,errors:0}),_=a({userAgent:navigator.userAgent,platform:navigator.platform,screen:`${window.screen.width}x${window.screen.height}`,memory:"N/A",uptime:"0s"}),P=l(()=>[{id:"logs",name:"Logs",badge:E.value.length},{id:"errors",name:"Errores",badge:A.value.length},{id:"stores",name:"Stores"},{id:"network",name:"Red",badge:R.value.errors},{id:"system",name:"Sistema"}]),N=l(()=>E.value.filter(e=>S.value[e.level])),L=l(()=>A.value.length+E.value.filter(e=>"error"===e.level).length),I=l(()=>0===R.value.requests?100:Math.round((R.value.requests-R.value.errors)/R.value.requests*100)),O=l(()=>[{name:"Auth",state:s.$state},{name:"Waiter",state:i.$state},{name:"Admin",state:b.$state},{name:"User",state:w.$state},{name:"UI",state:y.$state}]),j=()=>{k.value=!k.value},D=()=>{E.value=[],A.value=[],T.value=[],R.value={requests:0,errors:0}},M=(e,a,t="App",o=null)=>{E.value.unshift({id:Date.now()+Math.random(),timestamp:new Date,level:e,message:a,source:t,data:o}),E.value.length>100&&(E.value=E.value.slice(0,100))},U=e=>{var a,t,o;const n={id:Date.now()+Math.random(),timestamp:new Date,status:(null==(a=e.response)?void 0:a.status)||"NETWORK",url:(null==(t=e.config)?void 0:t.url)||"Unknown",message:e.message,response:null==(o=e.response)?void 0:o.data};A.value.unshift(n),R.value.errors++,A.value.length>50&&(A.value=A.value.slice(0,50))},$=(e,a,t)=>{var o;const n={id:Date.now()+Math.random(),method:(null==(o=e.method)?void 0:o.toUpperCase())||"GET",url:e.url,status:(null==a?void 0:a.status)||"ERROR",duration:t};T.value.unshift(n),R.value.requests++,T.value.length>20&&(T.value=T.value.slice(0,20))},q=e=>new Date(e).toLocaleTimeString(),B=()=>{if(navigator.memory){const e=Math.round(navigator.memory.usedJSHeapSize/1024/1024),a=Math.round(navigator.memory.totalJSHeapSize/1024/1024);_.value.memory=`${e}MB / ${a}MB`}const e=Math.floor((Date.now()-window.performance.timing.navigationStart)/1e3),a=Math.floor(e/60),t=e%60;_.value.uptime=`${a}m ${t}s`};return m(()=>{z(async()=>{const{default:e}=await Promise.resolve().then(()=>Lt);return{default:e}},void 0).then(({default:e})=>{e.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>(U(e),Promise.reject(e))),e.interceptors.response.use(e=>{const a=Date.now()-e.config.metadata.startTime;return $(e.config,e,a),e},e=>{var a;const t=(null==(a=e.config)?void 0:a.metadata)?Date.now()-e.config.metadata.startTime:0;return $(e.config,e.response,t),U(e),Promise.reject(e)})}).catch(()=>{window.axios&&(window.axios.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>(U(e),Promise.reject(e))),window.axios.interceptors.response.use(e=>{const a=Date.now()-e.config.metadata.startTime;return $(e.config,e,a),e},e=>{var a;const t=(null==(a=e.config)?void 0:a.metadata)?Date.now()-e.config.metadata.startTime:0;return $(e.config,e.response,t),U(e),Promise.reject(e)}))}),(()=>{const e=console.log,a=console.warn,t=console.error,o=console.debug;console.log=(...a)=>{e.apply(console,a),M("info",a.join(" "),"Console")},console.warn=(...e)=>{a.apply(console,e),M("warn",e.join(" "),"Console")},console.error=(...e)=>{t.apply(console,e),M("error",e.join(" "),"Console")},console.debug=(...e)=>{o.apply(console,e),M("debug",e.join(" "),"Console")}})(),window.addEventListener("error",e=>{M("error",`${e.message} at ${e.filename}:${e.lineno}`,"Global Error")}),window.addEventListener("unhandledrejection",e=>{M("error",`Unhandled Promise Rejection: ${e.reason}`,"Global Error")});const e=setInterval(B,5e3);M("info","Debug Panel iniciado","Debug Panel"),p(()=>{clearInterval(e)})}),window.debugPanel={addLog:M,addAxiosError:U,addRequest:$,togglePanel:()=>k.value=!k.value},(e,a)=>(o(),t("div",Ft,[n("button",{class:u(["debug-toggle",{active:k.value}]),onClick:j,title:"Debug Panel"},[a[0]||(a[0]=n("i",{class:"bi bi-bug-fill"},null,-1)),L.value>0?(o(),t("span",Ht,r(L.value),1)):c("",!0)],2),k.value?(o(),t("div",Wt,[n("div",{class:"debug-header"},[a[3]||(a[3]=n("h3",null,"Debug Panel",-1)),n("div",{class:"debug-controls"},[n("button",{onClick:D,class:"btn-clear"},a[1]||(a[1]=[n("i",{class:"bi bi-trash"},null,-1),d(" Limpiar ")])),n("button",{onClick:j,class:"btn-close"},a[2]||(a[2]=[n("i",{class:"bi bi-x-lg"},null,-1)]))])]),n("div",Gt,[(o(!0),t(v,null,f(P.value,e=>(o(),t("button",{key:e.id,onClick:a=>C.value=e.id,class:u([{active:C.value===e.id},"tab-button"])},[d(r(e.name)+" ",1),e.badge?(o(),t("span",Qt,r(e.badge),1)):c("",!0)],10,Jt))),128))]),n("div",Zt,["logs"===C.value?(o(),t("div",Kt,[n("div",Yt,[(o(),t(v,null,f(x,e=>n("label",{key:e},[g(n("input",{type:"checkbox","onUpdate:modelValue":a=>S.value[e]=a,checked:S.value[e]},null,8,Xt),[[h,S.value[e]]]),d(" "+r(e.toUpperCase()),1)])),64))]),n("div",eo,[(o(!0),t(v,null,f(N.value,e=>(o(),t("div",{key:e.id,class:u(["log-entry",`log-${e.level}`])},[n("div",ao,[n("span",to,r(q(e.timestamp)),1),n("span",oo,r(e.level.toUpperCase()),1),n("span",no,r(e.source),1)]),n("div",so,r(e.message),1),e.data?(o(),t("div",ro,[n("pre",null,r(JSON.stringify(e.data,null,2)),1)])):c("",!0)],2))),128))])])):c("",!0),"errors"===C.value?(o(),t("div",lo,[n("div",io,[(o(!0),t(v,null,f(A.value,e=>(o(),t("div",{key:e.id,class:"error-entry"},[n("div",co,[n("span",uo,r(q(e.timestamp)),1),n("span",mo,r(e.status),1)]),n("div",po,r(e.url),1),n("div",vo,r(e.message),1),e.response?(o(),t("div",fo,[a[4]||(a[4]=n("strong",null,"Response:",-1)),n("pre",null,r(JSON.stringify(e.response,null,2)),1)])):c("",!0)]))),128))])])):c("",!0),"stores"===C.value?(o(),t("div",go,[n("div",ho,[(o(!0),t(v,null,f(O.value,e=>(o(),t("div",{key:e.name,class:"store-section"},[n("h4",null,r(e.name),1),n("pre",null,r(JSON.stringify(e.state,null,2)),1)]))),128))])])):c("",!0),"network"===C.value?(o(),t("div",bo,[n("div",wo,[n("div",yo,[a[5]||(a[5]=n("strong",null,"Requests:",-1)),d(" "+r(R.value.requests),1)]),n("div",ko,[a[6]||(a[6]=n("strong",null,"Errors:",-1)),d(" "+r(R.value.errors),1)]),n("div",Co,[a[7]||(a[7]=n("strong",null,"Success Rate:",-1)),d(" "+r(I.value)+"% ",1)])]),n("div",Eo,[a[8]||(a[8]=n("h4",null,"Requests Recientes",-1)),(o(!0),t(v,null,f(T.value,e=>(o(),t("div",{key:e.id,class:u(["request-entry",`status-${e.status}`])},[n("div",xo,[n("span",So,r(e.method),1),n("span",Ao,r(e.status),1),n("span",To,r(e.duration)+"ms",1)]),n("div",Ro,r(e.url),1)],2))),128))])])):c("",!0),"system"===C.value?(o(),t("div",_o,[n("div",Po,[n("div",No,[a[9]||(a[9]=n("strong",null,"User Agent:",-1)),d(" "+r(_.value.userAgent),1)]),n("div",Lo,[a[10]||(a[10]=n("strong",null,"Platform:",-1)),d(" "+r(_.value.platform),1)]),n("div",Io,[a[11]||(a[11]=n("strong",null,"Screen:",-1)),d(" "+r(_.value.screen),1)]),n("div",Oo,[a[12]||(a[12]=n("strong",null,"Memory:",-1)),d(" "+r(_.value.memory),1)]),n("div",jo,[a[13]||(a[13]=n("strong",null,"Uptime:",-1)),d(" "+r(_.value.uptime),1)])])])):c("",!0)])])):c("",!0)]))}},[["__scopeId","data-v-7bf7a4f6"]]),Mo={class:"app-container"},Uo={__name:"App",setup(e){const a=b(),s=i(),r=l(()=>!["login","register","forgot-password","reset-password","role-selection"].includes(a.name)),d=l(()=>!1),v=()=>{["login","register","forgot-password","reset-password","role-selection"].includes(a.name)?te.exitApp():s.options.history.state.back?s.back():te.exitApp()};return m(()=>{(async()=>{try{await te.addListener("backButton",v),console.log("Back button listener configurado")}catch(e){console.warn("No se pudo configurar el listener del botón atrás:",e)}})()}),p(()=>{(async()=>{try{await te.removeAllListeners()}catch(e){console.warn("Error al limpiar listeners:",e)}})()}),(e,a)=>{const s=C("router-view");return o(),t("div",Mo,[r.value?(o(),w(ie,{key:0})):c("",!0),r.value?(o(),w(qt,{key:1})):c("",!0),n("main",{class:u({"with-navbar":r.value})},[y(s,null,{default:k(({Component:e})=>[y(E,{name:"fade",mode:"out-in"},{default:k(()=>[(o(),w(x(e)))]),_:2},1024)]),_:1})],2),d.value?(o(),w(Do,{key:2})):c("",!0)])}}},$o={setToken(e){console.log("Guardando token en localStorage:",e),e?(localStorage.setItem("token",e),console.log("Token después de guardar:",localStorage.getItem("token"))):console.error("Intento de guardar un token inválido:",e)},getToken(){const e=localStorage.getItem("token");return console.log("Obteniendo token de localStorage:",e),e},removeToken(){console.log("Eliminando token de localStorage"),localStorage.removeItem("token")},setUser(e){console.log("Guardando usuario en localStorage:",e),localStorage.setItem("user",JSON.stringify(e))},getUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},removeUser(){localStorage.removeItem("user")},isAuthenticated(){const e=!!this.getToken();return console.log("¿Está autenticado?",e),e},async login(e,a){var t,o;try{console.log("Iniciando login con:",{email:e});const n=await Nt.login({email:e,password:a});console.log("Respuesta login COMPLETA:",JSON.stringify(n));const s=n.data.token||n.data.access_token||n.data.plainTextToken||n.data.user&&n.data.user.token||n.data.user&&n.data.user.access_token||(null==(o=null==(t=n.headers)?void 0:t.authorization)?void 0:o.replace("Bearer ",""));if(console.log("Token encontrado:",s?"Sí (valor no mostrado)":"No"),!s)throw console.error("No se encontró un token válido en la respuesta:",n.data),new Error("No se recibió un token válido del servidor");return this.setToken(s),this.setUser(n.data.user),n.data}catch(n){throw console.error("Error en login:",n),n}},async loginWithGoogle(e){try{const a=await Nt.loginWithGoogle(e);console.log("Respuesta loginWithGoogle COMPLETA:",JSON.stringify(a));const t=a.data.token||a.data.access_token||a.data.plainTextToken||a.data.user&&a.data.user.token||a.data.user&&a.data.user.access_token;if(!t)throw new Error("No se recibió un token válido del servidor");return this.setToken(t),this.setUser(a.data.user),a.data}catch(a){throw console.error("Error en loginWithGoogle:",a),a}},async register(e,a,t,o){try{return(await Nt.register({name:e,email:a,password:t,password_confirmation:o})).data}catch(n){throw n}},async forgotPassword(e){try{return(await Nt.forgotPassword({email:e})).data}catch(a){throw a}},async resetPassword(e,a,t,o){try{return(await Nt.resetPassword({token:e,email:a,password:t,password_confirmation:o})).data}catch(n){throw n}},async logout(){try{this.isAuthenticated()&&await Nt.logout()}catch(e){console.error("Error durante el logout:",e)}finally{this.removeToken(),this.removeUser()}},async getCurrentUser(){try{const e=await Nt.getCurrentUser();return this.setUser(e.data),e.data}catch(e){throw e}},async selectRole(e){try{console.log("Seleccionando rol:",e),console.log("Token antes de seleccionar rol:",this.getToken());const a=await Nt.selectRole(e);console.log("Respuesta selectRole COMPLETA:",JSON.stringify(a));const t=a.data||{},o=t.token||t.access_token||t.plainTextToken||t.user&&t.user.token||t.user&&t.user.access_token;console.log("Nuevo token recibido:",o?"Sí (valor no mostrado)":"No"),o?this.setToken(o):console.warn("No se recibió un nuevo token al seleccionar el rol");const n=this.getUser();return n&&(n.role=e,this.setUser(n)),console.log("Token después de seleccionar rol:",this.getToken()),t}catch(a){throw console.error("Error en selectRole:",a),a}}},qo={class:"auth-container"},Bo={class:"auth-card"},Vo={key:0,class:"alert alert-danger"},zo={class:"mb-3"},Fo=["disabled"],Ho={class:"mb-3"},Wo=["disabled"],Go={class:"d-flex justify-content-between align-items-center mb-4"},Jo={class:"form-check"},Qo=["disabled"],Zo={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Ko=["disabled"],Yo={class:"text-center mt-4"};const Xo=ne({name:"LoginView",setup(){const e=i(),t=a(""),o=a(""),n=a(!1),s=a(""),r=a(!1),c=l(()=>""!==t.value.trim()&&""!==o.value.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value));return{email:t,password:o,remember:n,error:s,loading:r,isFormValid:c,handleLogin:async()=>{var a,n;if(c.value){r.value=!0,s.value="";try{await $o.login(t.value,o.value),e.push({name:"role-selection"})}catch(l){console.error("Error de inicio de sesión:",l),s.value=(null==(n=null==(a=l.response)?void 0:a.data)?void 0:n.message)||"Error al iniciar sesión. Por favor, inténtalo de nuevo."}finally{r.value=!1}}},handleGoogleLogin:async()=>{alert("La función de inicio de sesión con Google será implementada próximamente")}}}},[["render",function(e,a,s,l,i,u){const m=C("router-link");return o(),t("div",qo,[n("div",Bo,[a[14]||(a[14]=n("div",{class:"text-center mb-4"},[n("h1",{class:"h3"},"Iniciar Sesión"),n("p",{class:"text-muted"},"Accede a tu cuenta de MOZO")],-1)),l.error?(o(),t("div",Vo,r(l.error),1)):c("",!0),n("form",{onSubmit:a[4]||(a[4]=S((...e)=>l.handleLogin&&l.handleLogin(...e),["prevent"]))},[n("div",zo,[a[5]||(a[5]=n("label",{for:"email",class:"form-label"},"Correo electrónico",-1)),g(n("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>l.email=e),required:"",disabled:l.loading,placeholder:"correo@ejemplo.com"},null,8,Fo),[[A,l.email]])]),n("div",Ho,[a[6]||(a[6]=n("label",{for:"password",class:"form-label"},"Contraseña",-1)),g(n("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),required:"",disabled:l.loading,placeholder:"Tu contraseña"},null,8,Wo),[[A,l.password]])]),n("div",Go,[n("div",Jo,[g(n("input",{class:"form-check-input",type:"checkbox",id:"remember","onUpdate:modelValue":a[2]||(a[2]=e=>l.remember=e)},null,512),[[h,l.remember]]),a[7]||(a[7]=n("label",{class:"form-check-label",for:"remember"}," Recordarme ",-1))]),y(m,{to:"/forgot-password",class:"link-primary"},{default:k(()=>a[8]||(a[8]=[d("¿Olvidaste tu contraseña?")])),_:1,__:[8]})]),n("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:l.loading||!l.isFormValid},[l.loading?(o(),t("span",Zo)):c("",!0),a[9]||(a[9]=d(" Iniciar sesión "))],8,Qo),a[13]||(a[13]=n("div",{class:"text-center my-3"},[n("span",{class:"text-muted"},"O continúa con")],-1)),n("button",{type:"button",class:"btn btn-outline-secondary w-100 mb-3",onClick:a[3]||(a[3]=(...e)=>l.handleGoogleLogin&&l.handleGoogleLogin(...e)),disabled:l.loading},a[10]||(a[10]=[n("i",{class:"bi bi-google me-2"},null,-1),d(" Google ")]),8,Ko),n("div",Yo,[a[12]||(a[12]=n("span",{class:"text-muted"},"¿No tienes una cuenta?",-1)),y(m,{to:"/register",class:"link-primary ms-1"},{default:k(()=>a[11]||(a[11]=[d("Registrarse")])),_:1,__:[11]})])],32)])])}],["__scopeId","data-v-6360d58a"]]),en={class:"auth-container"},an={class:"auth-card"},tn={key:0,class:"alert alert-danger"},on={class:"mb-3"},nn=["disabled"],sn={class:"mb-3"},rn=["disabled"],ln={key:0,class:"form-text text-danger"},cn={class:"mb-3"},dn=["disabled"],un={key:0,class:"form-text text-danger"},mn={class:"mb-4"},pn=["disabled"],vn={key:0,class:"form-text text-danger"},fn=["disabled"],gn={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},hn={class:"text-center"};const bn=ne({name:"RegisterView",setup(){const e=i(),t=a(""),o=a(""),n=a(""),s=a(""),r=a(""),c=a(!1),d=l(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)),u=l(()=>n.value.length>=8),m=l(()=>n.value===s.value),p=l(()=>""!==t.value.trim()&&d.value&&u.value&&m.value);return{name:t,email:o,password:n,passwordConfirmation:s,error:r,loading:c,isEmailValid:d,isPasswordValid:u,doPasswordsMatch:m,isFormValid:p,handleRegister:async()=>{var a,l;if(p.value){c.value=!0,r.value="";try{await $o.register(t.value,o.value,n.value,s.value),e.push({path:"/login",query:{registered:"success"}})}catch(i){console.error("Error de registro:",i),r.value=(null==(l=null==(a=i.response)?void 0:a.data)?void 0:l.message)||"Error al crear la cuenta. Por favor, inténtalo de nuevo."}finally{c.value=!1}}}}}},[["render",function(e,a,s,l,i,u){const m=C("router-link");return o(),t("div",en,[n("div",an,[a[12]||(a[12]=n("div",{class:"text-center mb-4"},[n("h1",{class:"h3"},"Crear cuenta"),n("p",{class:"text-muted"},"Regístrate para acceder a MOZO")],-1)),l.error?(o(),t("div",tn,r(l.error),1)):c("",!0),n("form",{onSubmit:a[4]||(a[4]=S((...e)=>l.handleRegister&&l.handleRegister(...e),["prevent"]))},[n("div",on,[a[5]||(a[5]=n("label",{for:"name",class:"form-label"},"Nombre completo",-1)),g(n("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>l.name=e),required:"",disabled:l.loading,placeholder:"Tu nombre completo"},null,8,nn),[[A,l.name]])]),n("div",sn,[a[6]||(a[6]=n("label",{for:"email",class:"form-label"},"Correo electrónico",-1)),g(n("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>l.email=e),required:"",disabled:l.loading,placeholder:"correo@ejemplo.com"},null,8,rn),[[A,l.email]]),!l.isEmailValid&&l.email?(o(),t("div",ln," Introduce un correo electrónico válido ")):c("",!0)]),n("div",cn,[a[7]||(a[7]=n("label",{for:"password",class:"form-label"},"Contraseña",-1)),g(n("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":a[2]||(a[2]=e=>l.password=e),required:"",disabled:l.loading,placeholder:"Mínimo 8 caracteres"},null,8,dn),[[A,l.password]]),!l.isPasswordValid&&l.password?(o(),t("div",un," La contraseña debe tener al menos 8 caracteres ")):c("",!0)]),n("div",mn,[a[8]||(a[8]=n("label",{for:"passwordConfirmation",class:"form-label"},"Confirmar contraseña",-1)),g(n("input",{type:"password",class:"form-control",id:"passwordConfirmation","onUpdate:modelValue":a[3]||(a[3]=e=>l.passwordConfirmation=e),required:"",disabled:l.loading,placeholder:"Repite tu contraseña"},null,8,pn),[[A,l.passwordConfirmation]]),!l.doPasswordsMatch&&l.passwordConfirmation?(o(),t("div",vn," Las contraseñas no coinciden ")):c("",!0)]),n("button",{type:"submit",class:"btn btn-primary w-100 mb-4",disabled:l.loading||!l.isFormValid},[l.loading?(o(),t("span",gn)):c("",!0),a[9]||(a[9]=d(" Crear cuenta "))],8,fn),n("div",hn,[a[11]||(a[11]=n("span",{class:"text-muted"},"¿Ya tienes una cuenta?",-1)),y(m,{to:"/login",class:"link-primary ms-1"},{default:k(()=>a[10]||(a[10]=[d("Iniciar sesión")])),_:1,__:[10]})])],32)])])}],["__scopeId","data-v-50da499d"]]),wn={class:"auth-container"},yn={class:"auth-card"},kn={key:0,class:"alert alert-success"},Cn={key:1,class:"alert alert-danger"},En={class:"mb-4"},xn=["disabled"],Sn=["disabled"],An={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Tn={class:"text-center"},Rn={key:3,class:"text-center mt-3"};const _n=ne({name:"ForgotPasswordView",setup(){const e=a(""),t=a(""),o=a(""),n=a(!1),s=l(()=>""!==e.value.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value));return{email:e,error:t,success:o,loading:n,isFormValid:s,handleForgotPassword:async()=>{var a,r;if(s.value){n.value=!0,t.value="",o.value="";try{await $o.forgotPassword(e.value),o.value="Se ha enviado un enlace de recuperación a tu correo electrónico. Por favor, revisa tu bandeja de entrada.",e.value=""}catch(l){console.error("Error al solicitar recuperación de contraseña:",l),t.value=(null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.message)||"No se pudo enviar el enlace de recuperación. Por favor, inténtalo de nuevo."}finally{n.value=!1}}}}}},[["render",function(e,a,s,l,i,u){const m=C("router-link");return o(),t("div",wn,[n("div",yn,[a[6]||(a[6]=n("div",{class:"text-center mb-4"},[n("h1",{class:"h3"},"Recuperar contraseña"),n("p",{class:"text-muted"},"Ingresa tu correo electrónico para recibir un enlace de recuperación")],-1)),l.success?(o(),t("div",kn,r(l.success),1)):c("",!0),l.error?(o(),t("div",Cn,r(l.error),1)):c("",!0),l.success?c("",!0):(o(),t("form",{key:2,onSubmit:a[1]||(a[1]=S((...e)=>l.handleForgotPassword&&l.handleForgotPassword(...e),["prevent"]))},[n("div",En,[a[2]||(a[2]=n("label",{for:"email",class:"form-label"},"Correo electrónico",-1)),g(n("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>l.email=e),required:"",disabled:l.loading,placeholder:"correo@ejemplo.com"},null,8,xn),[[A,l.email]])]),n("button",{type:"submit",class:"btn btn-primary w-100 mb-4",disabled:l.loading||!l.isFormValid},[l.loading?(o(),t("span",An)):c("",!0),a[3]||(a[3]=d(" Enviar enlace de recuperación "))],8,Sn),n("div",Tn,[y(m,{to:"/login",class:"link-primary"},{default:k(()=>a[4]||(a[4]=[n("i",{class:"bi bi-arrow-left me-1"},null,-1),d(" Volver a inicio de sesión ")])),_:1,__:[4]})])],32)),l.success?(o(),t("div",Rn,[y(m,{to:"/login",class:"btn btn-outline-primary"},{default:k(()=>a[5]||(a[5]=[d(" Volver a inicio de sesión ")])),_:1,__:[5]})])):c("",!0)])])}],["__scopeId","data-v-b3fc4488"]]),Pn={name:"ResetPasswordView",setup(){i();const e=b(),t=a(""),o=a(""),n=a(""),s=a(""),r=a(""),c=a(""),d=a(!1),u=l(()=>n.value.length>=8),p=l(()=>n.value===s.value),v=l(()=>""!==t.value&&""!==o.value.trim()&&u.value&&p.value);m(()=>{t.value=e.query.token||"",o.value=e.query.email||"",t.value||(r.value="Token de restablecimiento no válido o expirado. Por favor, solicita un nuevo enlace de recuperación.")});return{email:o,password:n,passwordConfirmation:s,error:r,success:c,loading:d,isPasswordValid:u,doPasswordsMatch:p,isFormValid:v,handleResetPassword:async()=>{var e,a;if(v.value){d.value=!0,r.value="",c.value="";try{await $o.resetPassword(t.value,o.value,n.value,s.value),c.value="Tu contraseña ha sido restablecida con éxito. Ya puedes iniciar sesión con tu nueva contraseña.",n.value="",s.value=""}catch(l){console.error("Error al restablecer contraseña:",l),r.value=(null==(a=null==(e=l.response)?void 0:e.data)?void 0:a.message)||"No se pudo restablecer la contraseña. Por favor, inténtalo de nuevo o solicita un nuevo enlace."}finally{d.value=!1}}}}}},Nn={class:"auth-container"},Ln={class:"auth-card"},In={key:0,class:"alert alert-success"},On={key:1,class:"alert alert-danger"},jn={class:"mb-3"},Dn=["disabled"],Mn={class:"mb-3"},Un=["disabled"],$n={key:0,class:"form-text text-danger"},qn={class:"mb-4"},Bn=["disabled"],Vn={key:0,class:"form-text text-danger"},zn=["disabled"],Fn={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Hn={class:"text-center"},Wn={key:3,class:"text-center mt-3"};const Gn=ne(Pn,[["render",function(e,a,s,l,i,u){const m=C("router-link");return o(),t("div",Nn,[n("div",Ln,[a[10]||(a[10]=n("div",{class:"text-center mb-4"},[n("h1",{class:"h3"},"Restablecer contraseña"),n("p",{class:"text-muted"},"Crea una nueva contraseña segura")],-1)),l.success?(o(),t("div",In,r(l.success),1)):c("",!0),l.error?(o(),t("div",On,r(l.error),1)):c("",!0),l.success?c("",!0):(o(),t("form",{key:2,onSubmit:a[3]||(a[3]=S((...e)=>l.handleResetPassword&&l.handleResetPassword(...e),["prevent"]))},[n("div",jn,[a[4]||(a[4]=n("label",{for:"email",class:"form-label"},"Correo electrónico",-1)),g(n("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>l.email=e),required:"",disabled:l.loading,placeholder:"correo@ejemplo.com"},null,8,Dn),[[A,l.email]])]),n("div",Mn,[a[5]||(a[5]=n("label",{for:"password",class:"form-label"},"Nueva contraseña",-1)),g(n("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),required:"",disabled:l.loading,placeholder:"Mínimo 8 caracteres"},null,8,Un),[[A,l.password]]),!l.isPasswordValid&&l.password?(o(),t("div",$n," La contraseña debe tener al menos 8 caracteres ")):c("",!0)]),n("div",qn,[a[6]||(a[6]=n("label",{for:"passwordConfirmation",class:"form-label"},"Confirmar nueva contraseña",-1)),g(n("input",{type:"password",class:"form-control",id:"passwordConfirmation","onUpdate:modelValue":a[2]||(a[2]=e=>l.passwordConfirmation=e),required:"",disabled:l.loading,placeholder:"Repite tu nueva contraseña"},null,8,Bn),[[A,l.passwordConfirmation]]),!l.doPasswordsMatch&&l.passwordConfirmation?(o(),t("div",Vn," Las contraseñas no coinciden ")):c("",!0)]),n("button",{type:"submit",class:"btn btn-primary w-100 mb-4",disabled:l.loading||!l.isFormValid},[l.loading?(o(),t("span",Fn)):c("",!0),a[7]||(a[7]=d(" Cambiar contraseña "))],8,zn),n("div",Hn,[y(m,{to:"/login",class:"link-primary"},{default:k(()=>a[8]||(a[8]=[n("i",{class:"bi bi-arrow-left me-1"},null,-1),d(" Volver a inicio de sesión ")])),_:1,__:[8]})])],32)),l.success?(o(),t("div",Wn,[y(m,{to:"/login",class:"btn btn-primary"},{default:k(()=>a[9]||(a[9]=[d(" Ir a inicio de sesión ")])),_:1,__:[9]})])):c("",!0)])])}],["__scopeId","data-v-b482c273"]]),Jn={class:"container d-flex justify-content-center align-items-center vh-100"},Qn={class:"row justify-content-center align-items-center w-100"},Zn={class:"role-card col-11 d-flex flex-column justify-content-center align-items-center"},Kn={class:"row justify-content-between align-items-center w-100"},Yn={class:"col me-2 d-flex flex-column justify-content-center align-items-center px-0"},Xn={class:"col ms-2 d-flex flex-column justify-content-center align-items-center px-0"},es={class:"mt-5 text-center row justify-content-center align-items-center w-100"},as=["disabled"],ts=ne({__name:"RoleSelection",props:[],setup(e){const s=i(),r=a(""),l=a(!1),c=a(""),u=It(),m=async e=>{if(c.value)return;c.value=e,r.value="";try{console.log("RoleSelection - Inicio de selección de rol:",e),console.log("RoleSelection - Token antes de selectRole:",localStorage.getItem("token"));const a=await $o.selectRole(e);console.log("RoleSelection - Respuesta de selectRole:",a),console.log("RoleSelection - Token después de selectRole:",localStorage.getItem("token"))}catch(t){console.warn("RoleSelection - selectRole falló, se continúa localmente:",(null==t?void 0:t.message)||t),console.error("RoleSelection - Error completo:",t)}console.log("RoleSelection - Actualizando estado local con setSelectedRole"),u.setSelectedRole(e),console.log("RoleSelection - Estado actualizado, token actual:",localStorage.getItem("token"));const a="waiter"===e?"waiter-dashboard":"admin";console.log("RoleSelection - Redirigiendo a:",a),s.push({name:a}),c.value=""},p=async()=>{try{await $o.logout(),u.logout(),s.push({name:"login"})}catch(e){s.push({name:"login"})}};return(e,a)=>(o(),t("div",Jn,[n("div",Qn,[n("div",Zn,[a[5]||(a[5]=n("div",{class:"text-center mb-4 row justify-content-center align-items-center w-100"},[n("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDwhLS0gRm9uZG8gZGVsIGxvZ28gLS0+DQogIDxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiByeD0iNDAiIGZpbGw9IiM3QzZDRjMiLz4NCiAgDQogIDwhLS0gT2pvcyAtLT4NCiAgPGNpcmNsZSBjeD0iNzAiIGN5PSI4MCIgcj0iMTUiIGZpbGw9ImJsYWNrIi8+DQogIDxjaXJjbGUgY3g9IjEzMCIgY3k9IjgwIiByPSIxNSIgZmlsbD0iYmxhY2siLz4NCiAgDQogIDwhLS0gQ2VqYXMgLS0+DQogIDxsaW5lIHgxPSI1MCIgeTE9IjYwIiB4Mj0iOTAiIHkyPSI2MCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSI1IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4NCiAgPGxpbmUgeDE9IjExMCIgeTE9IjYwIiB4Mj0iMTUwIiB5Mj0iNjAiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+DQogIA0KICA8IS0tIEJvY2Egc29ucmllbnRlIC0tPg0KICA8cGF0aCBkPSJNNzAgMTMwIFExMDAgMTYwIDEzMCAxMzAiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+DQogIA0KICA8IS0tIFRleHRvICJNT1pPIiAtLT4NCiAgPHRleHQgeD0iMTAwIiB5PSIxMTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZvbnQtc2l6ZT0iMzQiIGZpbGw9ImJsYWNrIj5NT1pPPC90ZXh0Pg0KPC9zdmc+IA==",alt:"MOZO Logo",class:"logo mb-3"}),n("h1",{class:"h3"},"¿Qué rol tienes?")],-1)),n("div",Kn,[n("div",Yn,[n("div",{class:"role-option static",onClick:a[0]||(a[0]=e=>m("admin"))},a[2]||(a[2]=[n("div",{class:"role-icon"},[n("i",{class:"bi bi-house-door"})],-1),n("h3",{class:"h5 mt-3"},"Dueño",-1)]))]),n("div",Xn,[n("div",{class:"role-option static",onClick:a[1]||(a[1]=e=>m("waiter"))},a[3]||(a[3]=[n("div",{class:"role-icon"},[n("i",{class:"bi bi-person"})],-1),n("h3",{class:"h5 mt-3"},"Mozo",-1)]))])]),n("div",es,[n("button",{class:"btn btn-outline-secondary w-100",onClick:p,disabled:l.value||!!c.value},a[4]||(a[4]=[n("i",{class:"bi bi-box-arrow-left me-1"},null,-1),d(" Cerrar sesión ")]),8,as)])])])]))}},[["__scopeId","data-v-6d93c391"]]),os={class:"waiter-layout"},ns={class:"sidebar"},ss={class:"sidebar-content"},rs={class:"tables-list"},ls=["onClick"],is={key:0,class:"badge-alert"},cs={key:1,class:"bi bi-bell-slash-fill muted-icon"},ds={class:"main-content"},us={class:"main-header"},ms={class:"header-selectors"},ps={class:"selector-wrapper"},vs={class:"selector-wrapper"},fs=["value"],gs={class:"notifications-feed"},hs={key:0,class:"empty-state"},bs={key:1,class:"notifications-list-main"},ws={class:"notification-header"},ys={class:"notification-message"},ks={class:"notification-actions"},Cs=["onClick"],Es=["onClick"],xs=ne({__name:"Dashboard",setup(e){const h=i(),b=Bt(),w=It(),y=a(null);a(""),a(!1);let k=null;l(()=>b.isLoading),l(()=>b.error);const C=l(()=>b.tables),E=l(()=>b.profiles),x=l(()=>b.activeNotifications),S=l(()=>{var e;return(null==(e=b.businessData)?void 0:e.name)||"Mi Negocio"}),A=l(()=>y.value?C.value.filter(e=>e.profile_id===y.value):C.value);m(async()=>{b.isAssociated?(await b.fetchInitialData(),k=setInterval(b.fetchNotifications,1e4)):h.replace({name:"waiter-onboard"})}),p(()=>{k&&clearInterval(k)});const P=async()=>{b.clearWaiterData(),await w.logout(),h.push("/login")},N=e=>({call:{icon:"bi-bell",text:"Solicita mozo"},order:{icon:"bi-file-text",text:"Nuevo pedido"},payment:{icon:"bi-credit-card",text:"Pide la cuenta"}}[e.type]||{icon:"bi-info-circle",text:"Notificación"});return(e,a)=>(o(),t("div",os,[n("aside",ns,[n("div",ss,[n("ul",rs,[n("li",{onClick:a[0]||(a[0]=e=>y.value=null),class:u({active:!y.value})},a[2]||(a[2]=[n("i",{class:"bi bi-grid-fill"},null,-1),d(" Todas ")]),2),(o(!0),t(v,null,f(A.value,e=>(o(),t("li",{key:e.id,onClick:a=>console.log("Filter by table",e.id)},[n("i",{class:"bi bi-square-fill",style:_({color:e.color||"#ccc"})},null,4),d(" Mesa "+r(e.name)+" ",1),e.alert?(o(),t("span",is,"!")):c("",!0),e.is_muted?(o(),t("i",cs)):c("",!0)],8,ls))),128))])]),n("div",{class:"sidebar-footer"},[n("button",{class:"logout-button",onClick:P}," Salir y desactivar notificaciones ")])]),n("main",ds,[n("header",us,[n("div",ms,[n("div",ps,[a[3]||(a[3]=n("i",{class:"bi bi-person-workspace"},null,-1)),n("select",null,[n("option",null,r(S.value),1)])]),n("div",vs,[a[5]||(a[5]=n("i",{class:"bi bi-geo-alt-fill"},null,-1)),g(n("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e)},[a[4]||(a[4]=n("option",{value:null},"Todos los perfiles",-1)),(o(!0),t(v,null,f(E.value,e=>(o(),t("option",{key:e.id,value:e.id},r(e.name),9,fs))),128))],512),[[R,y.value]])])])]),a[10]||(a[10]=T('<div class="quick-actions" data-v-f51ec2cc><button class="action-card" data-v-f51ec2cc><i class="bi bi-check-circle-fill" data-v-f51ec2cc></i><span data-v-f51ec2cc>Activar todas</span></button><button class="action-card" data-v-f51ec2cc><i class="bi bi-x-circle-fill" data-v-f51ec2cc></i><span data-v-f51ec2cc>Silenciar todas</span></button><button class="action-card" data-v-f51ec2cc><i class="bi bi-exclamation-triangle-fill" data-v-f51ec2cc></i><span data-v-f51ec2cc>Activar solitarias</span></button></div>',1)),n("div",gs,[a[9]||(a[9]=n("h4",null,"Notificaciones",-1)),0===x.value.length?(o(),t("div",hs," No hay notificaciones activas. ")):(o(),t("div",bs,[(o(!0),t(v,null,f(x.value,e=>(o(),t("div",{key:e.id,class:"notification-card"},[n("div",ws,[n("i",{class:u(["bi",N(e).icon])},null,2),d(" Mesa "+r(e.table_name)+": "+r(N(e).text),1)]),n("p",ys,r(e.message),1),n("div",ks,[n("button",{class:"btn-action accept",onClick:a=>s(b).handleNotification(e.id,"accept")},a[6]||(a[6]=[n("i",{class:"bi bi-check-lg"},null,-1)]),8,Cs),n("button",{class:"btn-action reject",onClick:a=>s(b).handleNotification(e.id,"reject")},a[7]||(a[7]=[n("i",{class:"bi bi-x-lg"},null,-1)]),8,Es),a[8]||(a[8]=n("button",{class:"btn-action prioritize"},[n("i",{class:"bi bi-exclamation-lg"})],-1))])]))),128))]))])])]))}},[["__scopeId","data-v-f51ec2cc"]]),Ss={class:"editable-field"},As={key:0,class:"field-label"},Ts={key:1,class:"edit-container"},Rs=["placeholder"],_s=["placeholder","min","max"],Ps=["value"],Ns=ne({__name:"EditableField",props:{value:{type:[String,Number],default:""},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},options:{type:Array,default:()=>[]},editable:{type:Boolean,default:!0},min:{type:[Number,String],default:null},max:{type:[Number,String],default:null},unit:{type:String,default:""},displayValue:{type:String,default:""}},emits:["update:value"],setup(e,{emit:s}){const i=e,m=s,p=a(i.value),h=a(!1),b=a(null);P(()=>i.value,e=>{h.value||(p.value=e)});const w=l(()=>{if(i.displayValue)return i.displayValue;if("select"===i.type&&i.options.length){const e=i.options.find(e=>e.value===p.value);return e?e.label:p.value}return p.value+(i.unit?" "+i.unit:"")}),y=()=>{i.editable&&(h.value=!0,setTimeout(()=>{b.value&&b.value.focus()},100))},k=()=>{h.value=!1,m("update:value",p.value)},C=e=>{"Enter"===e.key?k():"Escape"===e.key&&(h.value=!1,p.value=i.value)},E=()=>{h.value=!1,p.value=i.value};return(a,s)=>(o(),t("div",Ss,[e.label?(o(),t("div",As,r(e.label),1)):c("",!0),n("div",{class:u(["field-content",{"is-editing":h.value}])},[h.value?(o(),t("div",Ts,["text"===e.type?g((o(),t("input",{key:0,ref_key:"inputRef",ref:b,type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>p.value=e),placeholder:e.placeholder,class:"edit-input",onKeydown:C,onChange:k,onBlur:E},null,40,Rs)),[[A,p.value]]):"number"===e.type?g((o(),t("input",{key:1,ref_key:"inputRef",ref:b,type:"number","onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),placeholder:e.placeholder,min:e.min,max:e.max,class:"edit-input",onKeydown:C,onChange:k,onBlur:E},null,40,_s)),[[A,p.value]]):"date"===e.type?g((o(),t("input",{key:2,ref_key:"inputRef",ref:b,type:"date","onUpdate:modelValue":s[2]||(s[2]=e=>p.value=e),class:"edit-input",onKeydown:C,onChange:k,onBlur:E},null,544)),[[A,p.value]]):"textarea"===e.type?g((o(),t("textarea",{key:3,ref_key:"inputRef",ref:b,"onUpdate:modelValue":s[3]||(s[3]=e=>p.value=e),rows:"3",class:"edit-input",onKeydown:C,onChange:k,onBlur:E},null,544)),[[A,p.value]]):"select"===e.type?g((o(),t("select",{key:4,ref_key:"inputRef",ref:b,"onUpdate:modelValue":s[4]||(s[4]=e=>p.value=e),class:"edit-select",onChange:k,onBlur:E},[(o(!0),t(v,null,f(e.options,e=>(o(),t("option",{key:e.value,value:e.value},r(e.label),9,Ps))),128))],544)),[[R,p.value]]):c("",!0),n("div",{class:"edit-actions"},[n("button",{type:"button",class:"action-button save-button",onClick:k},s[6]||(s[6]=[n("i",{class:"bi bi-check"},null,-1)])),n("button",{type:"button",class:"action-button cancel-button",onClick:E},s[7]||(s[7]=[n("i",{class:"bi bi-x"},null,-1)]))])])):(o(),t("div",{key:0,class:"display-value",onClick:y},[d(r(w.value)+" ",1),e.editable?(o(),t("button",{key:0,class:"edit-button",onClick:S(y,["stop"])},s[5]||(s[5]=[n("i",{class:"bi bi-pencil"},null,-1)]))):c("",!0)]))],2)]))}},[["__scopeId","data-v-f2ae253e"]]),Ls={class:"profile-container"},Is={class:"container py-4"},Os={class:"row justify-content-center"},js={class:"col-12 col-lg-8"},Ds={class:"card"},Ms={class:"card-body"},Us={key:0,class:"alert alert-success"},$s={key:1,class:"alert alert-danger"},qs={key:2,class:"text-center my-5"},Bs={class:"mb-4 text-center"},Vs={class:"avatar-container"},zs=["src"],Fs={class:"avatar-overlay"},Hs={class:"mb-3"},Ws=["disabled"],Gs={class:"mb-3"},Js=["disabled"],Qs={class:"mb-3"},Zs=["disabled"],Ks={class:"mb-3"},Ys=["disabled"],Xs={class:"mb-3"},er=["disabled"],ar={key:0,class:"form-text"},tr={class:"mb-4"},or=["disabled"],nr={key:0,class:"form-text"},sr={class:"d-flex gap-2 mt-4"},rr=["disabled"],lr={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},ir=["disabled"],cr={class:"text-end"},dr=["disabled"],ur={class:"modal-dialog"},mr={class:"modal-content"},pr={class:"modal-header"},vr={class:"modal-body"},fr={class:"mb-3"},gr=["disabled"],hr={class:"modal-footer"},br=["disabled"],wr=["disabled"],yr={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},kr={key:0,class:"modal-backdrop fade show"};const Cr=ne({name:"WaiterProfileView",setup(){const e=i(),t=It(),o=a({name:"",email:"",phone:"",avatar:""}),n=a({current:"",new:"",confirm:""}),s=a(!0),r=a(!1),c=a(""),d=a(""),u=a(null),p=a(null),v=a(!1),f=a(""),g=a(!1),h=l(()=>!n.value.new||n.value.new.length>=8),b=l(()=>!n.value.new||!n.value.confirm||n.value.new===n.value.confirm),w=l(()=>!(!o.value.name||!o.value.email)&&(!(n.value.current||n.value.new||n.value.confirm)||n.value.current&&h.value&&b.value));m(()=>{(async()=>{s.value=!0,c.value="";try{const e=$o.getUser()||{id:"1",name:"Juan Pérez",email:"juan@ejemplo.com",phone:"555-123-4567",avatar:"https://randomuser.me/api/portraits/men/32.jpg"};o.value={...e}}catch(e){console.error("Error al cargar datos del usuario:",e),c.value="No se pudieron cargar tus datos. Por favor, inténtalo de nuevo."}finally{s.value=!1}})()});const y=a(!1),k=a(["Atención al cliente","Trabajo en equipo","Resolución de problemas","Manejo de bandeja","Conocimiento de vinos"]);return{user:o,passwords:n,loading:s,updating:r,error:c,success:d,avatarPreview:u,showDeleteModal:v,deleteConfirmation:f,deleting:g,isPasswordValid:h,doPasswordsMatch:b,isFormValid:w,handleAvatarChange:e=>{const a=e.target.files[0];if(!a)return;if(a.size>5242880)return void(c.value="La imagen no puede ser mayor a 5MB");p.value=a;const t=new FileReader;t.onload=e=>{u.value=e.target.result},t.readAsDataURL(a)},updateProfile:async()=>{var e,a;if(w.value){r.value=!0,c.value="",d.value="";try{const e=new FormData;e.append("name",o.value.name),e.append("email",o.value.email),e.append("phone",o.value.phone||""),p.value&&e.append("avatar",p.value),n.value.current&&n.value.new&&(e.append("current_password",n.value.current),e.append("password",n.value.new),e.append("password_confirmation",n.value.confirm)),console.log("Perfil actualizado:",{name:o.value.name,email:o.value.email,phone:o.value.phone,passwordChanged:!!n.value.current,avatarChanged:!!p.value});const a=$o.getUser();a&&(a.name=o.value.name,a.email=o.value.email,a.phone=o.value.phone,u.value&&(a.avatar=u.value),$o.setUser(a)),n.value.current="",n.value.new="",n.value.confirm="",p.value=null,d.value="Perfil actualizado correctamente"}catch(t){console.error("Error al actualizar perfil:",t),c.value=(null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||"No se pudo actualizar el perfil. Por favor, inténtalo de nuevo."}finally{r.value=!1}}},deleteAccount:async()=>{var a,t;if("ELIMINAR"===f.value){g.value=!0;try{console.log("Cuenta eliminada"),await $o.logout(),e.push("/login")}catch(o){console.error("Error al eliminar cuenta:",o),c.value=(null==(t=null==(a=o.response)?void 0:a.data)?void 0:t.message)||"No se pudo eliminar la cuenta. Por favor, inténtalo de nuevo.",v.value=!1,f.value="",g.value=!1}}},goBack:()=>{e.push("/waiter")},isEditing:y,skills:k,handleUpdate:async(e,a)=>{console.log(`Actualizando ${e} a ${a}`);const o=new FormData;o.append(e,a);try{await t.updateProfile(o)}catch(n){console.error("Fallo al actualizar, la tienda necesita ser corregida.",n)}}}}},[["render",function(e,a,s,l,i,m){return o(),t("div",Ls,[n("div",Is,[n("div",Os,[n("div",js,[n("div",Ds,[n("div",Ms,[a[26]||(a[26]=n("h1",{class:"h3 mb-4"},"Mi perfil",-1)),l.success?(o(),t("div",Us,r(l.success),1)):c("",!0),l.error?(o(),t("div",$s,r(l.error),1)):c("",!0),l.loading&&!l.user.name?(o(),t("div",qs,a[14]||(a[14]=[n("div",{class:"spinner-border text-primary",role:"status"},[n("span",{class:"visually-hidden"},"Cargando...")],-1)]))):(o(),t("form",{key:3,onSubmit:a[9]||(a[9]=S((...e)=>l.updateProfile&&l.updateProfile(...e),["prevent"]))},[n("div",Bs,[n("div",Vs,[n("img",{src:l.user.avatar||"/placeholder-avatar.png",alt:"Avatar",class:"avatar-img"},null,8,zs),n("div",Fs,[a[15]||(a[15]=n("label",{for:"avatar-upload",class:"avatar-edit-btn"},[n("i",{class:"bi bi-camera"})],-1)),n("input",{type:"file",id:"avatar-upload",accept:"image/*",class:"visually-hidden",onChange:a[0]||(a[0]=(...e)=>l.handleAvatarChange&&l.handleAvatarChange(...e))},null,32)])])]),n("div",Hs,[a[16]||(a[16]=n("label",{for:"name",class:"form-label"},"Nombre completo",-1)),g(n("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[1]||(a[1]=e=>l.user.name=e),required:"",disabled:l.updating},null,8,Ws),[[A,l.user.name]])]),n("div",Gs,[a[17]||(a[17]=n("label",{for:"email",class:"form-label"},"Correo electrónico",-1)),g(n("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":a[2]||(a[2]=e=>l.user.email=e),required:"",disabled:l.updating},null,8,Js),[[A,l.user.email]])]),n("div",Qs,[a[18]||(a[18]=n("label",{for:"phone",class:"form-label"},"Teléfono",-1)),g(n("input",{type:"tel",class:"form-control",id:"phone","onUpdate:modelValue":a[3]||(a[3]=e=>l.user.phone=e),disabled:l.updating},null,8,Zs),[[A,l.user.phone]])]),a[23]||(a[23]=n("hr",{class:"my-4"},null,-1)),a[24]||(a[24]=n("h4",{class:"h5 mb-3"},"Cambiar contraseña",-1)),n("div",Ks,[a[19]||(a[19]=n("label",{for:"current-password",class:"form-label"},"Contraseña actual",-1)),g(n("input",{type:"password",class:"form-control",id:"current-password","onUpdate:modelValue":a[4]||(a[4]=e=>l.passwords.current=e),disabled:l.updating},null,8,Ys),[[A,l.passwords.current]])]),n("div",Xs,[a[20]||(a[20]=n("label",{for:"new-password",class:"form-label"},"Nueva contraseña",-1)),g(n("input",{type:"password",class:"form-control",id:"new-password","onUpdate:modelValue":a[5]||(a[5]=e=>l.passwords.new=e),disabled:l.updating},null,8,er),[[A,l.passwords.new]]),l.passwords.new&&!l.isPasswordValid?(o(),t("div",ar," La contraseña debe tener al menos 8 caracteres ")):c("",!0)]),n("div",tr,[a[21]||(a[21]=n("label",{for:"confirm-password",class:"form-label"},"Confirmar nueva contraseña",-1)),g(n("input",{type:"password",class:"form-control",id:"confirm-password","onUpdate:modelValue":a[6]||(a[6]=e=>l.passwords.confirm=e),disabled:l.updating},null,8,or),[[A,l.passwords.confirm]]),l.passwords.confirm&&!l.doPasswordsMatch?(o(),t("div",nr," Las contraseñas no coinciden ")):c("",!0)]),n("div",sr,[n("button",{type:"submit",class:"btn btn-primary",disabled:l.updating||!l.isFormValid},[l.updating?(o(),t("span",lr)):c("",!0),a[22]||(a[22]=d(" Guardar cambios "))],8,rr),n("button",{type:"button",class:"btn btn-outline-secondary",onClick:a[7]||(a[7]=(...e)=>l.goBack&&l.goBack(...e)),disabled:l.updating}," Cancelar ",8,ir)]),a[25]||(a[25]=n("hr",{class:"my-4"},null,-1)),n("div",cr,[n("button",{type:"button",class:"btn btn-outline-danger",onClick:a[8]||(a[8]=e=>l.showDeleteModal=!0),disabled:l.updating}," Eliminar cuenta ",8,dr)])],32))])])])])]),n("div",{class:u(["modal",{"show d-block":l.showDeleteModal}]),tabindex:"-1"},[n("div",ur,[n("div",mr,[n("div",pr,[a[27]||(a[27]=n("h5",{class:"modal-title"},"Eliminar cuenta",-1)),n("button",{type:"button",class:"btn-close",onClick:a[10]||(a[10]=e=>l.showDeleteModal=!1)})]),n("div",vr,[a[29]||(a[29]=n("p",{class:"mb-3"},"¿Estás seguro de que deseas eliminar tu cuenta? Esta acción no se puede deshacer.",-1)),a[30]||(a[30]=n("div",{class:"alert alert-danger"},[n("i",{class:"bi bi-exclamation-triangle-fill me-2"}),d(" Al eliminar tu cuenta perderás todo el acceso a tus datos y negocios asociados. ")],-1)),n("div",fr,[a[28]||(a[28]=n("label",{for:"confirm-delete",class:"form-label"},'Escribe "ELIMINAR" para confirmar',-1)),g(n("input",{type:"text",class:"form-control",id:"confirm-delete","onUpdate:modelValue":a[11]||(a[11]=e=>l.deleteConfirmation=e),disabled:l.deleting},null,8,gr),[[A,l.deleteConfirmation]])])]),n("div",hr,[n("button",{type:"button",class:"btn btn-secondary",onClick:a[12]||(a[12]=e=>l.showDeleteModal=!1),disabled:l.deleting}," Cancelar ",8,br),n("button",{type:"button",class:"btn btn-danger",onClick:a[13]||(a[13]=(...e)=>l.deleteAccount&&l.deleteAccount(...e)),disabled:"ELIMINAR"!==l.deleteConfirmation||l.deleting},[l.deleting?(o(),t("span",yr)):c("",!0),a[31]||(a[31]=d(" Eliminar mi cuenta "))],8,wr)])])])],2),l.showDeleteModal?(o(),t("div",kr)):c("",!0)])}],["__scopeId","data-v-59c2be1b"]]),Er={class:"onboarding-container"},xr={class:"content-wrapper"},Sr=["src"],Ar={class:"form-container"},Tr=["disabled"],Rr={key:0,class:"spinner"},_r={key:1},Pr=["onInput","onKeydown"],Nr={key:0,class:"error-feedback"},Lr=ne({__name:"Onboarding",setup(e){const l=i(),d=Bt(),u=It(),m=a(["","","",""]),p=a(!1),g=a(""),h=a([]),b=e=>{e.preventDefault();const a=e.clipboardData.getData("text").trim().slice(0,4);/^\d{4}$/.test(a)&&(a.split("").forEach((e,a)=>{m.value[a]=e,h.value[a].value=e}),h.value[3].focus(),w())},w=async()=>{const e=m.value.join("");if(4===e.length){p.value=!0,g.value="";try{await d.associateBusiness(e),await u.fetchUser(),l.push({name:"waiter-dashboard"})}catch(a){g.value=a.message||"El código es incorrecto o ha expirado.","vibrate"in navigator&&navigator.vibrate(100)}finally{p.value=!1}}else g.value="El código debe tener 4 dígitos."},y=()=>{l.push("/profile")};return(e,a)=>{var l;return o(),t("div",Er,[n("div",xr,[n("div",{class:"user-header",onClick:y,title:"Editar perfil"},[n("img",{src:(null==(l=s(u).user)?void 0:l.avatar)||"/src/assets/default-avatar.png",alt:"Avatar",class:"user-avatar"},null,8,Sr),a[0]||(a[0]=n("div",{class:"business-selector-wrapper",title:"Vincúlate introduciendo un código"},[n("span",null,"Negocio:"),n("select",{disabled:""},[n("option",null,"Ninguno")])],-1))]),n("div",Ar,[n("form",{onSubmit:S(w,["prevent"])},[n("button",{type:"submit",class:"btn-primary",disabled:p.value},[p.value?(o(),t("span",Rr)):(o(),t("span",_r,"AGREGAR NEGOCIO"))],8,Tr),a[1]||(a[1]=n("h2",{class:"code-prompt"},"Código",-1)),n("div",{class:"otp-inputs",onPaste:b},[(o(),t(v,null,f(4,e=>n("input",{key:e,type:"text",inputmode:"numeric",maxlength:"1",class:"otp-box",ref_for:!0,ref:a=>h.value[e-1]=a,onInput:a=>((e,a)=>{const t=e.target;let o=t.value;/^\d*$/.test(o)?(m.value[a-1]=o,o&&t.nextElementSibling&&t.nextElementSibling.focus()):t.value=""})(a,e),onKeydown:e=>{var a;"Backspace"===(a=e).key&&!a.target.value&&a.target.previousElementSibling&&a.target.previousElementSibling.focus()}},null,40,Pr)),64))],32)],32),g.value?(o(),t("p",Nr,r(g.value),1)):c("",!0)])])])}}},[["__scopeId","data-v-f5df5087"]]),Ir={class:"dashboard"},Or={class:"container py-3"},jr={class:"role-section"},Dr={class:"role-dropdown me-2"},Mr={class:"dropdown-menu","aria-labelledby":"roleMenu"},Ur={class:"user-id-container d-flex align-items-center"},$r={class:"user-id me-2"},qr={class:"row mb-3"},Br={class:"col-12"},Vr={class:"card"},zr={class:"card-body"},Fr={class:"d-flex gap-2"},Hr=["disabled"],Wr=["disabled"],Gr={class:"row g-3 card-grid"},Jr={class:"col-6"},Qr={class:"col-6"},Zr={class:"col-6"},Kr={class:"col-6"},Yr={class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},Xr={key:0,class:"toast show",role:"alert","aria-live":"assertive","aria-atomic":"true"},el={class:"toast-header"},al={class:"toast-body"};const tl=ne({name:"AdminDashboardView",setup(){const e=i(),t=a("FGT-464"),o=a("admin"),n=a(!1),s=a(""),r=a(!1);return m(()=>{(async()=>{try{t.value="FGT-464"}catch(e){console.error("Error al cargar datos del negocio:",e)}})()}),{businessCode:t,selectedRole:o,showToast:n,toastMessage:s,isSendingNotification:r,copyBusinessCode:()=>{navigator.clipboard.writeText(t.value).then(()=>{n.value=!0,s.value="Código copiado al portapapeles",setTimeout(()=>{n.value=!1},3e3)}).catch(e=>{console.error("Error al copiar al portapapeles:",e)})},sendTestNotification:async()=>{r.value=!0;try{await Pt.post("/admin/notifications/test",{waiter_id:"all"});n.value=!0,s.value="Notificación de prueba enviada exitosamente",window.debugPanel&&window.debugPanel.addLog("info","Notificación de prueba enviada a todos los mozos","Admin Dashboard")}catch(e){console.error("Error al enviar notificación de prueba:",e),n.value=!0,s.value="Error al enviar notificación de prueba",window.debugPanel&&window.debugPanel.addLog("error",`Error al enviar notificación: ${e.message}`,"Admin Dashboard",e)}finally{r.value=!1,setTimeout(()=>{n.value=!1},3e3)}},sendTestNotificationToSpecificWaiter:async()=>{const e=prompt("Ingresa el ID del mozo para enviar la notificación de prueba:");if(e){r.value=!0;try{await Pt.post("/admin/notifications/test",{waiter_id:e});n.value=!0,s.value=`Notificación de prueba enviada al mozo ${e}`,window.debugPanel&&window.debugPanel.addLog("info",`Notificación de prueba enviada al mozo ${e}`,"Admin Dashboard")}catch(a){console.error("Error al enviar notificación de prueba:",a),n.value=!0,s.value="Error al enviar notificación de prueba",window.debugPanel&&window.debugPanel.addLog("error",`Error al enviar notificación: ${a.message}`,"Admin Dashboard",a)}finally{r.value=!1,setTimeout(()=>{n.value=!1},3e3)}}},handleRoleChange:()=>{"admin"===o.value?o.value="waiter":o.value="admin","waiter"===o.value&&e.push("/waiter")}}}},[["render",function(e,a,s,l,i,u){const m=C("router-link");return o(),t("div",Ir,[n("div",Or,[n("div",jr,[n("div",Dr,[a[6]||(a[6]=n("button",{class:"btn btn-outline-secondary dropdown-toggle",id:"roleMenu","data-bs-toggle":"dropdown"}," Rol Admin ",-1)),n("ul",Mr,[n("li",null,[n("a",{class:"dropdown-item",href:"#",onClick:a[0]||(a[0]=e=>l.selectedRole="admin")},"Admin")]),n("li",null,[n("a",{class:"dropdown-item",href:"#",onClick:a[1]||(a[1]=(...e)=>l.handleRoleChange&&l.handleRoleChange(...e))},"Mozo")])])]),n("div",Ur,[n("span",$r,"ID:"+r(l.businessCode),1),n("button",{class:"btn btn-sm btn-outline-secondary",onClick:a[2]||(a[2]=(...e)=>l.copyBusinessCode&&l.copyBusinessCode(...e)),title:"Copiar al portapapeles"},a[7]||(a[7]=[n("i",{class:"bi bi-clipboard"},null,-1)]))])]),n("div",qr,[n("div",Br,[n("div",Vr,[n("div",zr,[a[10]||(a[10]=n("h5",{class:"card-title"},[n("i",{class:"bi bi-bell-fill text-primary me-2"}),d(" Prueba de Notificaciones ")],-1)),a[11]||(a[11]=n("p",{class:"card-text text-muted"}," Envía una notificación de prueba a todos los mozos activos para verificar el sistema. ",-1)),n("div",Fr,[n("button",{class:"btn btn-primary",onClick:a[3]||(a[3]=(...e)=>l.sendTestNotification&&l.sendTestNotification(...e)),disabled:l.isSendingNotification},[a[8]||(a[8]=n("i",{class:"bi bi-send me-2"},null,-1)),d(" "+r(l.isSendingNotification?"Enviando...":"Enviar Notificación de Prueba"),1)],8,Hr),n("button",{class:"btn btn-outline-secondary",onClick:a[4]||(a[4]=(...e)=>l.sendTestNotificationToSpecificWaiter&&l.sendTestNotificationToSpecificWaiter(...e)),disabled:l.isSendingNotification},a[9]||(a[9]=[n("i",{class:"bi bi-person-plus me-2"},null,-1),d(" Enviar a Mozo Específico ")]),8,Wr)])])])])]),n("div",Gr,[n("div",Jr,[y(m,{to:"/admin/qr",class:"card dashboard-card text-center text-decoration-none"},{default:k(()=>a[12]||(a[12]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-qr-code"})],-1),n("div",{class:"card-footer"},"QR",-1)])),_:1,__:[12]})]),n("div",Qr,[y(m,{to:"/admin/stats",class:"card dashboard-card text-center text-decoration-none"},{default:k(()=>a[13]||(a[13]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-graph-up"})],-1),n("div",{class:"card-footer"},"ESTADÍSTICAS",-1)])),_:1,__:[13]})]),n("div",Zr,[y(m,{to:"/admin/staff",class:"card dashboard-card text-center text-decoration-none"},{default:k(()=>a[14]||(a[14]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-person-fill"})],-1),n("div",{class:"card-footer"},"PERSONAL",-1)])),_:1,__:[14]})]),n("div",Kr,[y(m,{to:"/admin/settings",class:"card dashboard-card text-center text-decoration-none"},{default:k(()=>a[15]||(a[15]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-gear-fill"})],-1),n("div",{class:"card-footer"},"CONFIGURACIÓN",-1)])),_:1,__:[15]})])])]),n("div",Yr,[l.showToast?(o(),t("div",Xr,[n("div",el,[a[16]||(a[16]=n("strong",{class:"me-auto"},"Notificación",-1)),n("button",{type:"button",class:"btn-close",onClick:a[5]||(a[5]=e=>l.showToast=!1)})]),n("div",al,r(l.toastMessage),1)])):c("",!0)])])}],["__scopeId","data-v-8a51c204"]]),ol={class:"dashboard"},nl={class:"container py-3"},sl={class:"role-section"},rl={class:"user-id"},ll={key:0,class:"text-center py-5"},il={key:1,class:"alert alert-danger"},cl={key:2,class:"row g-3 card-grid"},dl={class:"col-6"},ul={class:"col-6"},ml={class:"col-6"},pl={class:"col-6"},vl=ne({__name:"Home",setup(e){const l=i(),c=Vt();It();const d=a(!1),u=a(""),p=a({activeRequests:0,pendingRequests:0,totalOrders:0,totalSales:0,salesThisMonth:0});m(async()=>{d.value=!0,u.value="";try{await c.fetchBusinessData(),await c.fetchStaffRequests();const e=await c.fetchDashboardStats();p.value=e}catch(e){u.value=e.message||"Error al cargar datos del negocio"}finally{d.value=!1}});const v=e=>{l.push({name:e})};return(e,a)=>(o(),t("div",ol,[n("div",nl,[n("div",sl,[a[5]||(a[5]=T('<div class="role-dropdown me-2" data-v-8292aad6><button class="btn btn-outline-secondary dropdown-toggle" id="roleMenu" data-bs-toggle="dropdown" data-v-8292aad6> Rol Admin </button><ul class="dropdown-menu" aria-labelledby="roleMenu" data-v-8292aad6><li data-v-8292aad6><a class="dropdown-item" href="#" data-v-8292aad6>Admin</a></li><li data-v-8292aad6><a class="dropdown-item" href="#" data-v-8292aad6>Mozo</a></li></ul></div>',1)),n("span",rl,"ID:"+r(s(c).businessId),1)]),d.value?(o(),t("div",ll,a[6]||(a[6]=[n("div",{class:"spinner-border text-primary",role:"status"},[n("span",{class:"visually-hidden"},"Cargando...")],-1),n("p",{class:"mt-2"},"Cargando...",-1)]))):u.value?(o(),t("div",il,[n("p",null,r(u.value),1),n("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=a=>e.$router.go(0))}," Reintentar ")])):(o(),t("div",cl,[n("div",dl,[n("a",{href:"#",onClick:a[1]||(a[1]=S(e=>v("admin-qr"),["prevent"])),class:"card dashboard-card text-center text-decoration-none"},a[7]||(a[7]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-qr-code"})],-1),n("div",{class:"card-footer"},"QR",-1)]))]),n("div",ul,[n("a",{href:"#",onClick:a[2]||(a[2]=S(e=>v("admin-stats"),["prevent"])),class:"card dashboard-card text-center text-decoration-none"},a[8]||(a[8]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-graph-up"})],-1),n("div",{class:"card-footer"},"ESTADÍSTICAS",-1)]))]),n("div",ml,[n("a",{href:"#",onClick:a[3]||(a[3]=S(e=>v("admin-staff"),["prevent"])),class:"card dashboard-card text-center text-decoration-none"},a[9]||(a[9]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-person-fill"})],-1),n("div",{class:"card-footer"},"PERSONAL",-1)]))]),n("div",pl,[n("a",{href:"#",onClick:a[4]||(a[4]=S(e=>v("admin-settings"),["prevent"])),class:"card dashboard-card text-center text-decoration-none"},a[10]||(a[10]=[n("div",{class:"card-body"},[n("i",{class:"bi bi-gear-fill"})],-1),n("div",{class:"card-footer"},"CONFIGURACIÓN",-1)]))])]))])]))}},[["__scopeId","data-v-8292aad6"]]),fl={class:"modal-content rounded-4"},gl={class:"modal-header"},hl={class:"modal-title"},bl={class:"modal-body"},wl={key:0,class:"modal-footer"},yl=ne({__name:"BaseModal",props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:""},size:{type:String,default:"",validator:e=>["","sm","lg","xl"].includes(e)},centered:{type:Boolean,default:!0},scrollable:{type:Boolean,default:!1},staticBackdrop:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:s}){const i=e,d=s,p=a(null);let v=null;m(()=>{p.value&&(v=new B(p.value,{backdrop:!i.staticBackdrop||"static",keyboard:!i.staticBackdrop}),p.value.addEventListener("hidden.bs.modal",()=>{d("update:modelValue",!1)}),i.modelValue&&v.show())}),N(()=>{v&&v.dispose()}),P(()=>i.modelValue,e=>{!v&&p.value&&(v=new B(p.value,{backdrop:!i.staticBackdrop||"static",keyboard:!i.staticBackdrop})),e&&v?v.show():!e&&v&&v.hide()});const f=l(()=>{const e=["modal-dialog"];return i.centered&&e.push("modal-dialog-centered"),i.scrollable&&e.push("modal-dialog-scrollable"),i.size&&e.push(`modal-${i.size}`),e.join(" ")});return(a,s)=>(o(),t("div",{ref_key:"modalElement",ref:p,class:"modal fade",tabindex:"-1","aria-hidden":"true"},[n("div",{class:u(f.value)},[n("div",fl,[n("div",gl,[n("h5",hl,r(e.title),1),n("button",{type:"button",class:"btn-close",onClick:s[0]||(s[0]=e=>d("update:modelValue",!1)),"aria-label":"Close"})]),n("div",bl,[L(a.$slots,"default",{},void 0)]),a.$slots.footer?(o(),t("div",wl,[L(a.$slots,"footer",{},void 0)])):c("",!0)])],2)],512))}},[["__scopeId","data-v-8812196f"]]),kl={class:"mb-3"},Cl={class:"form-label"},El=["type","placeholder"],xl=["disabled"],Sl={__name:"InputModal",props:{modelValue:Boolean,title:{type:String,default:"Ingresar dato"},label:{type:String,default:""},placeholder:{type:String,default:""},defaultValue:{type:[String,Number],default:""},inputType:{type:String,default:"text"}},emits:["update:modelValue","confirm"],setup(e,{emit:t}){const s=e,l=t,i=a(s.defaultValue);P(()=>s.modelValue,e=>{e&&(i.value=s.defaultValue)});const c=()=>{const e="number"===s.inputType?i.value:i.value.trim();l("confirm",e),l("update:modelValue",!1)};return(a,t)=>(o(),w(yl,{"model-value":e.modelValue,"onUpdate:modelValue":t[2]||(t[2]=e=>a.$emit("update:modelValue",e)),title:e.title,size:"sm"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=e=>a.$emit("update:modelValue",!1))},"Cancelar"),n("button",{class:"btn btn-primary",disabled:!i.value.toString().trim(),onClick:c},"Aceptar",8,xl)]),default:k(()=>[n("div",kl,[n("label",Cl,r(e.label),1),g(n("input",{type:e.inputType,class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),placeholder:e.placeholder},null,8,El),[[I,i.value]])])]),_:1},8,["model-value","title"]))}};
/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/
function Al(e,a,t){if("function"==typeof e?e===a:e.has(a))return arguments.length<3?a:t;throw new TypeError("Private element is not present on this object")}function Tl(e,a){return e.get(Al(e,a))}function Rl(e,a,t){(function(e,a){if(a.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,a),a.set(e,t)}const _l={},Pl=e=>new Promise(a=>{if(!e)return a();const t=window.scrollX,o=window.scrollY;_l.restoreFocusTimeout=setTimeout(()=>{_l.previousActiveElement instanceof HTMLElement?(_l.previousActiveElement.focus(),_l.previousActiveElement=null):document.body&&document.body.focus(),a()},100),window.scrollTo(t,o)}),Nl="swal2-",Ll=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,a)=>(e[a]=Nl+a,e),{}),Il=["success","warning","info","question","error"].reduce((e,a)=>(e[a]=Nl+a,e),{}),Ol="SweetAlert2:",jl=e=>e.charAt(0).toUpperCase()+e.slice(1),Dl=e=>{console.warn(`${Ol} ${"object"==typeof e?e.join(" "):e}`)},Ml=e=>{console.error(`${Ol} ${e}`)},Ul=[],$l=(e,a=null)=>{var t;t=`"${e}" is deprecated and will be removed in the next major release.${a?` Use "${a}" instead.`:""}`,Ul.includes(t)||(Ul.push(t),Dl(t))},ql=e=>"function"==typeof e?e():e,Bl=e=>e&&"function"==typeof e.toPromise,Vl=e=>Bl(e)?e.toPromise():Promise.resolve(e),zl=e=>e&&Promise.resolve(e)===e,Fl=()=>document.body.querySelector(`.${Ll.container}`),Hl=e=>{const a=Fl();return a?a.querySelector(e):null},Wl=e=>Hl(`.${e}`),Gl=()=>Wl(Ll.popup),Jl=()=>Wl(Ll.icon),Ql=()=>Wl(Ll.title),Zl=()=>Wl(Ll["html-container"]),Kl=()=>Wl(Ll.image),Yl=()=>Wl(Ll["progress-steps"]),Xl=()=>Wl(Ll["validation-message"]),ei=()=>Hl(`.${Ll.actions} .${Ll.confirm}`),ai=()=>Hl(`.${Ll.actions} .${Ll.cancel}`),ti=()=>Hl(`.${Ll.actions} .${Ll.deny}`),oi=()=>Hl(`.${Ll.loader}`),ni=()=>Wl(Ll.actions),si=()=>Wl(Ll.footer),ri=()=>Wl(Ll["timer-progress-bar"]),li=()=>Wl(Ll.close),ii=()=>{const e=Gl();if(!e)return[];const a=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(a).sort((e,a)=>{const t=parseInt(e.getAttribute("tabindex")||"0"),o=parseInt(a.getAttribute("tabindex")||"0");return t>o?1:t<o?-1:0}),o=e.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),n=Array.from(o).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(t.concat(n))].filter(e=>Ai(e))},ci=()=>mi(document.body,Ll.shown)&&!mi(document.body,Ll["toast-shown"])&&!mi(document.body,Ll["no-backdrop"]),di=()=>{const e=Gl();return!!e&&mi(e,Ll.toast)},ui=(e,a)=>{if(e.textContent="",a){const t=(new DOMParser).parseFromString(a,"text/html"),o=t.querySelector("head");o&&Array.from(o.childNodes).forEach(a=>{e.appendChild(a)});const n=t.querySelector("body");n&&Array.from(n.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?e.appendChild(a.cloneNode(!0)):e.appendChild(a)})}},mi=(e,a)=>{if(!a)return!1;const t=a.split(/\s+/);for(let o=0;o<t.length;o++)if(!e.classList.contains(t[o]))return!1;return!0},pi=(e,a,t)=>{if(((e,a)=>{Array.from(e.classList).forEach(t=>{Object.values(Ll).includes(t)||Object.values(Il).includes(t)||Object.values(a.showClass||{}).includes(t)||e.classList.remove(t)})})(e,a),!a.customClass)return;const o=a.customClass[t];o&&("string"==typeof o||o.forEach?hi(e,o):Dl(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof o}"`))},vi=(e,a)=>{if(!a)return null;switch(a){case"select":case"textarea":case"file":return e.querySelector(`.${Ll.popup} > .${Ll[a]}`);case"checkbox":return e.querySelector(`.${Ll.popup} > .${Ll.checkbox} input`);case"radio":return e.querySelector(`.${Ll.popup} > .${Ll.radio} input:checked`)||e.querySelector(`.${Ll.popup} > .${Ll.radio} input:first-child`);case"range":return e.querySelector(`.${Ll.popup} > .${Ll.range} input`);default:return e.querySelector(`.${Ll.popup} > .${Ll.input}`)}},fi=e=>{if(e.focus(),"file"!==e.type){const a=e.value;e.value="",e.value=a}},gi=(e,a,t)=>{e&&a&&("string"==typeof a&&(a=a.split(/\s+/).filter(Boolean)),a.forEach(a=>{Array.isArray(e)?e.forEach(e=>{t?e.classList.add(a):e.classList.remove(a)}):t?e.classList.add(a):e.classList.remove(a)}))},hi=(e,a)=>{gi(e,a,!0)},bi=(e,a)=>{gi(e,a,!1)},wi=(e,a)=>{const t=Array.from(e.children);for(let o=0;o<t.length;o++){const e=t[o];if(e instanceof HTMLElement&&mi(e,a))return e}},yi=(e,a,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||0===parseInt(t)?e.style.setProperty(a,"number"==typeof t?`${t}px`:t):e.style.removeProperty(a)},ki=(e,a="flex")=>{e&&(e.style.display=a)},Ci=e=>{e&&(e.style.display="none")},Ei=(e,a="block")=>{e&&new MutationObserver(()=>{Si(e,e.innerHTML,a)}).observe(e,{childList:!0,subtree:!0})},xi=(e,a,t,o)=>{const n=e.querySelector(a);n&&n.style.setProperty(t,o)},Si=(e,a,t="flex")=>{a?ki(e,t):Ci(e)},Ai=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),Ti=e=>!!(e.scrollHeight>e.clientHeight),Ri=e=>{const a=window.getComputedStyle(e),t=parseFloat(a.getPropertyValue("animation-duration")||"0"),o=parseFloat(a.getPropertyValue("transition-duration")||"0");return t>0||o>0},_i=(e,a=!1)=>{const t=ri();t&&Ai(t)&&(a&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${e/1e3}s linear`,t.style.width="0%"},10))},Pi=`\n <div aria-labelledby="${Ll.title}" aria-describedby="${Ll["html-container"]}" class="${Ll.popup}" tabindex="-1">\n   <button type="button" class="${Ll.close}"></button>\n   <ul class="${Ll["progress-steps"]}"></ul>\n   <div class="${Ll.icon}"></div>\n   <img class="${Ll.image}" />\n   <h2 class="${Ll.title}" id="${Ll.title}"></h2>\n   <div class="${Ll["html-container"]}" id="${Ll["html-container"]}"></div>\n   <input class="${Ll.input}" id="${Ll.input}" />\n   <input type="file" class="${Ll.file}" />\n   <div class="${Ll.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${Ll.select}" id="${Ll.select}"></select>\n   <div class="${Ll.radio}"></div>\n   <label class="${Ll.checkbox}">\n     <input type="checkbox" id="${Ll.checkbox}" />\n     <span class="${Ll.label}"></span>\n   </label>\n   <textarea class="${Ll.textarea}" id="${Ll.textarea}"></textarea>\n   <div class="${Ll["validation-message"]}" id="${Ll["validation-message"]}"></div>\n   <div class="${Ll.actions}">\n     <div class="${Ll.loader}"></div>\n     <button type="button" class="${Ll.confirm}"></button>\n     <button type="button" class="${Ll.deny}"></button>\n     <button type="button" class="${Ll.cancel}"></button>\n   </div>\n   <div class="${Ll.footer}"></div>\n   <div class="${Ll["timer-progress-bar-container"]}">\n     <div class="${Ll["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Ni=()=>{_l.currentInstance.resetValidationMessage()},Li=e=>{const a=(()=>{const e=Fl();return!!e&&(e.remove(),bi([document.documentElement,document.body],[Ll["no-backdrop"],Ll["toast-shown"],Ll["has-column"]]),!0)})();if("undefined"==typeof window||"undefined"==typeof document)return void Ml("SweetAlert2 requires document to initialize");const t=document.createElement("div");t.className=Ll.container,a&&hi(t,Ll["no-transition"]),ui(t,Pi),t.dataset.swal2Theme=e.theme;const o="string"==typeof(n=e.target)?document.querySelector(n):n;var n;o.appendChild(t),e.topLayer&&(t.setAttribute("popover",""),t.showPopover()),(e=>{const a=Gl();a.setAttribute("role",e.toast?"alert":"dialog"),a.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||a.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&hi(Fl(),Ll.rtl)})(o),(()=>{const e=Gl(),a=wi(e,Ll.input),t=wi(e,Ll.file),o=e.querySelector(`.${Ll.range} input`),n=e.querySelector(`.${Ll.range} output`),s=wi(e,Ll.select),r=e.querySelector(`.${Ll.checkbox} input`),l=wi(e,Ll.textarea);a.oninput=Ni,t.onchange=Ni,s.onchange=Ni,r.onchange=Ni,l.oninput=Ni,o.oninput=()=>{Ni(),n.value=o.value},o.onchange=()=>{Ni(),n.value=o.value}})()},Ii=(e,a)=>{e instanceof HTMLElement?a.appendChild(e):"object"==typeof e?Oi(e,a):e&&ui(a,e)},Oi=(e,a)=>{e.jquery?ji(a,e):ui(a,e.toString())},ji=(e,a)=>{if(e.textContent="",0 in a)for(let t=0;t in a;t++)e.appendChild(a[t].cloneNode(!0));else e.appendChild(a.cloneNode(!0))},Di=(e,a)=>{const t=ni(),o=oi();t&&o&&(a.showConfirmButton||a.showDenyButton||a.showCancelButton?ki(t):Ci(t),pi(t,a,"actions"),function(e,a,t){const o=ei(),n=ti(),s=ai();if(!o||!n||!s)return;Ui(o,"confirm",t),Ui(n,"deny",t),Ui(s,"cancel",t),function(e,a,t,o){if(!o.buttonsStyling)return void bi([e,a,t],Ll.styled);hi([e,a,t],Ll.styled),o.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor);o.denyButtonColor&&a.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor);o.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor);Mi(e),Mi(a),Mi(t)}(o,n,s,t),t.reverseButtons&&(t.toast?(e.insertBefore(s,o),e.insertBefore(n,o)):(e.insertBefore(s,a),e.insertBefore(n,a),e.insertBefore(o,a)))}(t,o,a),ui(o,a.loaderHtml||""),pi(o,a,"loader"))};function Mi(e){const a=window.getComputedStyle(e);if(a.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=a.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",a.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function Ui(e,a,t){const o=jl(a);Si(e,t[`show${o}Button`],"inline-block"),ui(e,t[`${a}ButtonText`]||""),e.setAttribute("aria-label",t[`${a}ButtonAriaLabel`]||""),e.className=Ll[a],pi(e,t,`${a}Button`)}const $i=(e,a)=>{const t=Fl();t&&(!function(e,a){"string"==typeof a?e.style.background=a:a||hi([document.documentElement,document.body],Ll["no-backdrop"])}(t,a.backdrop),function(e,a){if(!a)return;a in Ll?hi(e,Ll[a]):(Dl('The "position" parameter is not valid, defaulting to "center"'),hi(e,Ll.center))}(t,a.position),function(e,a){if(!a)return;hi(e,Ll[`grow-${a}`])}(t,a.grow),pi(t,a,"container"))};var qi={innerParams:new WeakMap,domCache:new WeakMap};const Bi=["input","file","range","select","radio","checkbox","textarea"],Vi=e=>{if(!e.input)return;if(!Qi[e.input])return void Ml(`Unexpected type of input! Expected ${Object.keys(Qi).join(" | ")}, got "${e.input}"`);const a=Gi(e.input);if(!a)return;const t=Qi[e.input](a,e);ki(a),e.inputAutoFocus&&setTimeout(()=>{fi(t)})},zi=(e,a)=>{const t=Gl();if(!t)return;const o=vi(t,e);if(o){(e=>{for(let a=0;a<e.attributes.length;a++){const t=e.attributes[a].name;["id","type","value","style"].includes(t)||e.removeAttribute(t)}})(o);for(const e in a)o.setAttribute(e,a[e])}},Fi=e=>{if(!e.input)return;const a=Gi(e.input);a&&pi(a,e,"input")},Hi=(e,a)=>{!e.placeholder&&a.inputPlaceholder&&(e.placeholder=a.inputPlaceholder)},Wi=(e,a,t)=>{if(t.inputLabel){const o=document.createElement("label"),n=Ll["input-label"];o.setAttribute("for",e.id),o.className=n,"object"==typeof t.customClass&&hi(o,t.customClass.inputLabel),o.innerText=t.inputLabel,a.insertAdjacentElement("beforebegin",o)}},Gi=e=>{const a=Gl();if(a)return wi(a,Ll[e]||Ll.input)},Ji=(e,a)=>{["string","number"].includes(typeof a)?e.value=`${a}`:zl(a)||Dl(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof a}"`)},Qi={};Qi.text=Qi.email=Qi.password=Qi.number=Qi.tel=Qi.url=Qi.search=Qi.date=Qi["datetime-local"]=Qi.time=Qi.week=Qi.month=(e,a)=>(Ji(e,a.inputValue),Wi(e,e,a),Hi(e,a),e.type=a.input,e),Qi.file=(e,a)=>(Wi(e,e,a),Hi(e,a),e),Qi.range=(e,a)=>{const t=e.querySelector("input"),o=e.querySelector("output");return Ji(t,a.inputValue),t.type=a.input,Ji(o,a.inputValue),Wi(t,e,a),e},Qi.select=(e,a)=>{if(e.textContent="",a.inputPlaceholder){const t=document.createElement("option");ui(t,a.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,e.appendChild(t)}return Wi(e,e,a),e},Qi.radio=e=>(e.textContent="",e),Qi.checkbox=(e,a)=>{const t=vi(Gl(),"checkbox");t.value="1",t.checked=Boolean(a.inputValue);const o=e.querySelector("span");return ui(o,a.inputPlaceholder||a.inputLabel),t},Qi.textarea=(e,a)=>{Ji(e,a.inputValue),Hi(e,a),Wi(e,e,a);return setTimeout(()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(Gl()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;const o=e.offsetWidth+(n=e,parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight));var n;o>t?Gl().style.width=`${o}px`:yi(Gl(),"width",a.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Zi=(e,a)=>{const t=Zl();t&&(Ei(t),pi(t,a,"htmlContainer"),a.html?(Ii(a.html,t),ki(t,"block")):a.text?(t.textContent=a.text,ki(t,"block")):Ci(t),((e,a)=>{const t=Gl();if(!t)return;const o=qi.innerParams.get(e),n=!o||a.input!==o.input;Bi.forEach(e=>{const o=wi(t,Ll[e]);o&&(zi(e,a.inputAttributes),o.className=Ll[e],n&&Ci(o))}),a.input&&(n&&Vi(a),Fi(a))})(e,a))},Ki=(e,a)=>{for(const[t,o]of Object.entries(Il))a.icon!==t&&bi(e,o);hi(e,a.icon&&Il[a.icon]),ec(e,a),Yi(),pi(e,a,"icon")},Yi=()=>{const e=Gl();if(!e)return;const a=window.getComputedStyle(e).getPropertyValue("background-color"),t=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<t.length;o++)t[o].style.backgroundColor=a},Xi=(e,a)=>{if(!a.icon&&!a.iconHtml)return;let t=e.innerHTML,o="";if(a.iconHtml)o=ac(a.iconHtml);else if("success"===a.icon)o='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',t=t.replace(/ style=".*?"/g,"");else if("error"===a.icon)o='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n';else if(a.icon){o=ac({question:"?",warning:"!",info:"i"}[a.icon])}t.trim()!==o.trim()&&ui(e,o)},ec=(e,a)=>{if(a.iconColor){e.style.color=a.iconColor,e.style.borderColor=a.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])xi(e,t,"background-color",a.iconColor);xi(e,".swal2-success-ring","border-color",a.iconColor)}},ac=e=>`<div class="${Ll["icon-content"]}">${e}</div>`;let tc=!1,oc=0,nc=0,sc=0,rc=0;const lc=e=>{const a=Gl();if(e.target===a||Jl().contains(e.target)){tc=!0;const t=dc(e);oc=t.clientX,nc=t.clientY,sc=parseInt(a.style.insetInlineStart)||0,rc=parseInt(a.style.insetBlockStart)||0,hi(a,"swal2-dragging")}},ic=e=>{const a=Gl();if(tc){let{clientX:t,clientY:o}=dc(e);a.style.insetInlineStart=`${sc+(t-oc)}px`,a.style.insetBlockStart=`${rc+(o-nc)}px`}},cc=()=>{const e=Gl();tc=!1,bi(e,"swal2-dragging")},dc=e=>{let a=0,t=0;return e.type.startsWith("mouse")?(a=e.clientX,t=e.clientY):e.type.startsWith("touch")&&(a=e.touches[0].clientX,t=e.touches[0].clientY),{clientX:a,clientY:t}},uc=(e,a)=>{const t=Fl(),o=Gl();if(t&&o){if(a.toast){yi(t,"width",a.width),o.style.width="100%";const e=oi();e&&o.insertBefore(e,Jl())}else yi(o,"width",a.width);yi(o,"padding",a.padding),a.color&&(o.style.color=a.color),a.background&&(o.style.background=a.background),Ci(Xl()),mc(o,a),a.draggable&&!a.toast?(hi(o,Ll.draggable),(e=>{e.addEventListener("mousedown",lc),document.body.addEventListener("mousemove",ic),e.addEventListener("mouseup",cc),e.addEventListener("touchstart",lc),document.body.addEventListener("touchmove",ic),e.addEventListener("touchend",cc)})(o)):(bi(o,Ll.draggable),(e=>{e.removeEventListener("mousedown",lc),document.body.removeEventListener("mousemove",ic),e.removeEventListener("mouseup",cc),e.removeEventListener("touchstart",lc),document.body.removeEventListener("touchmove",ic),e.removeEventListener("touchend",cc)})(o))}},mc=(e,a)=>{const t=a.showClass||{};e.className=`${Ll.popup} ${Ai(e)?t.popup:""}`,a.toast?(hi([document.documentElement,document.body],Ll["toast-shown"]),hi(e,Ll.toast)):hi(e,Ll.modal),pi(e,a,"popup"),"string"==typeof a.customClass&&hi(e,a.customClass),a.icon&&hi(e,Ll[`icon-${a.icon}`])},pc=e=>{const a=document.createElement("li");return hi(a,Ll["progress-step"]),ui(a,e),a},vc=e=>{const a=document.createElement("li");return hi(a,Ll["progress-step-line"]),e.progressStepsDistance&&yi(a,"width",e.progressStepsDistance),a},fc=(e,a)=>{uc(0,a),$i(0,a),((e,a)=>{const t=Yl();if(!t)return;const{progressSteps:o,currentProgressStep:n}=a;o&&0!==o.length&&void 0!==n?(ki(t),t.textContent="",n>=o.length&&Dl("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((e,s)=>{const r=pc(e);if(t.appendChild(r),s===n&&hi(r,Ll["active-progress-step"]),s!==o.length-1){const e=vc(a);t.appendChild(e)}})):Ci(t)})(0,a),((e,a)=>{const t=qi.innerParams.get(e),o=Jl();if(!o)return;if(t&&a.icon===t.icon)return Xi(o,a),void Ki(o,a);if(!a.icon&&!a.iconHtml)return void Ci(o);if(a.icon&&-1===Object.keys(Il).indexOf(a.icon))return Ml(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${a.icon}"`),void Ci(o);ki(o),Xi(o,a),Ki(o,a),hi(o,a.showClass&&a.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Yi)})(e,a),((e,a)=>{const t=Kl();t&&(a.imageUrl?(ki(t,""),t.setAttribute("src",a.imageUrl),t.setAttribute("alt",a.imageAlt||""),yi(t,"width",a.imageWidth),yi(t,"height",a.imageHeight),t.className=Ll.image,pi(t,a,"image")):Ci(t))})(0,a),((e,a)=>{const t=Ql();t&&(Ei(t),Si(t,a.title||a.titleText,"block"),a.title&&Ii(a.title,t),a.titleText&&(t.innerText=a.titleText),pi(t,a,"title"))})(0,a),((e,a)=>{const t=li();t&&(ui(t,a.closeButtonHtml||""),pi(t,a,"closeButton"),Si(t,a.showCloseButton),t.setAttribute("aria-label",a.closeButtonAriaLabel||""))})(0,a),Zi(e,a),Di(0,a),((e,a)=>{const t=si();t&&(Ei(t),Si(t,a.footer,"block"),a.footer&&Ii(a.footer,t),pi(t,a,"footer"))})(0,a);const t=Gl();"function"==typeof a.didRender&&t&&a.didRender(t),_l.eventEmitter.emit("didRender",t)},gc=()=>{var e;return null===(e=ei())||void 0===e?void 0:e.click()},hc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bc=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},wc=(e,a)=>{var t;const o=ii();if(o.length)return-2===(e+=a)&&(e=o.length-1),e===o.length?e=0:-1===e&&(e=o.length-1),void o[e].focus();null===(t=Gl())||void 0===t||t.focus()},yc=["ArrowRight","ArrowDown"],kc=["ArrowLeft","ArrowUp"],Cc=(e,a,t)=>{e&&(a.isComposing||229===a.keyCode||(e.stopKeydownPropagation&&a.stopPropagation(),"Enter"===a.key?Ec(a,e):"Tab"===a.key?xc(a):[...yc,...kc].includes(a.key)?Sc(a.key):"Escape"===a.key&&Ac(a,e,t)))},Ec=(e,a)=>{if(!ql(a.allowEnterKey))return;const t=vi(Gl(),a.input);if(e.target&&t&&e.target instanceof HTMLElement&&e.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(a.input))return;gc(),e.preventDefault()}},xc=e=>{const a=e.target,t=ii();let o=-1;for(let n=0;n<t.length;n++)if(a===t[n]){o=n;break}e.shiftKey?wc(o,-1):wc(o,1),e.stopPropagation(),e.preventDefault()},Sc=e=>{const a=ni(),t=ei(),o=ti(),n=ai();if(!(a&&t&&o&&n))return;const s=[t,o,n];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const r=yc.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let e=0;e<a.children.length;e++){if(l=l[r],!l)return;if(l instanceof HTMLButtonElement&&Ai(l))break}l instanceof HTMLButtonElement&&l.focus()}},Ac=(e,a,t)=>{ql(a.allowEscapeKey)&&(e.preventDefault(),t(hc.esc))};var Tc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Rc=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},_c="undefined"!=typeof window&&!!window.GestureEvent,Pc=()=>{const e=Fl();if(!e)return;let a;e.ontouchstart=e=>{a=Nc(e)},e.ontouchmove=e=>{a&&(e.preventDefault(),e.stopPropagation())}},Nc=e=>{const a=e.target,t=Fl(),o=Zl();return!(!t||!o)&&(!Lc(e)&&!Ic(e)&&(a===t||!(Ti(t)||!(a instanceof HTMLElement)||((e,a)=>{let t=e;for(;t&&t!==a;){if(Ti(t))return!0;t=t.parentElement}return!1})(a,o)||"INPUT"===a.tagName||"TEXTAREA"===a.tagName||Ti(o)&&o.contains(a))))},Lc=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Ic=e=>e.touches&&e.touches.length>1;let Oc=null;const jc=e=>{null===Oc&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Oc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Oc+(()=>{const e=document.createElement("div");e.className=Ll["scrollbar-measure"],document.body.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),a})()}px`)};function Dc(e,a,t,o){di()?Fc(e,o):(Pl(t).then(()=>Fc(e,o)),bc(_l)),_c?(a.setAttribute("style","display:none !important"),a.removeAttribute("class"),a.innerHTML=""):a.remove(),ci()&&(null!==Oc&&(document.body.style.paddingRight=`${Oc}px`,Oc=null),(()=>{if(mi(document.body,Ll.iosfix)){const e=parseInt(document.body.style.top,10);bi(document.body,Ll.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),Rc()),bi([document.documentElement,document.body],[Ll.shown,Ll["height-auto"],Ll["no-backdrop"],Ll["toast-shown"]])}function Mc(e){e=Bc(e);const a=Tc.swalPromiseResolve.get(this),t=Uc(this);this.isAwaitingPromise?e.isDismissed||(qc(this),a(e)):t&&a(e)}const Uc=e=>{const a=Gl();if(!a)return!1;const t=qi.innerParams.get(e);if(!t||mi(a,t.hideClass.popup))return!1;bi(a,t.showClass.popup),hi(a,t.hideClass.popup);const o=Fl();return bi(o,t.showClass.backdrop),hi(o,t.hideClass.backdrop),Vc(e,a,t),!0};function $c(e){const a=Tc.swalPromiseReject.get(this);qc(this),a&&a(e)}const qc=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,qi.innerParams.get(e)||e._destroy())},Bc=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Vc=(e,a,t)=>{var o;const n=Fl(),s=Ri(a);"function"==typeof t.willClose&&t.willClose(a),null===(o=_l.eventEmitter)||void 0===o||o.emit("willClose",a),s?zc(e,a,n,t.returnFocus,t.didClose):Dc(e,n,t.returnFocus,t.didClose)},zc=(e,a,t,o,n)=>{_l.swalCloseEventFinishedCallback=Dc.bind(null,e,t,o,n);const s=function(e){var t;e.target===a&&(null===(t=_l.swalCloseEventFinishedCallback)||void 0===t||t.call(_l),delete _l.swalCloseEventFinishedCallback,a.removeEventListener("animationend",s),a.removeEventListener("transitionend",s))};a.addEventListener("animationend",s),a.addEventListener("transitionend",s)},Fc=(e,a)=>{setTimeout(()=>{var t;"function"==typeof a&&a.bind(e.params)(),null===(t=_l.eventEmitter)||void 0===t||t.emit("didClose"),e._destroy&&e._destroy()})},Hc=e=>{let a=Gl();if(a||new xu,a=Gl(),!a)return;const t=oi();di()?Ci(Jl()):Wc(a,e),ki(t),a.setAttribute("data-loading","true"),a.setAttribute("aria-busy","true"),a.focus()},Wc=(e,a)=>{const t=ni(),o=oi();t&&o&&(!a&&Ai(ei())&&(a=ei()),ki(t),a&&(Ci(a),o.setAttribute("data-button-to-replace",a.className),t.insertBefore(o,a)),hi([e,t],Ll.loading))},Gc=e=>e.checked?1:0,Jc=e=>e.checked?e.value:null,Qc=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,Zc=(e,a)=>{const t=Gl();if(!t)return;const o=e=>{"select"===a.input?function(e,a,t){const o=wi(e,Ll.select);if(!o)return;const n=(e,a,o)=>{const n=document.createElement("option");n.value=o,ui(n,a),n.selected=Xc(o,t.inputValue),e.appendChild(n)};a.forEach(e=>{const a=e[0],t=e[1];if(Array.isArray(t)){const e=document.createElement("optgroup");e.label=a,e.disabled=!1,o.appendChild(e),t.forEach(a=>n(e,a[1],a[0]))}else n(o,t,a)}),o.focus()}(t,Yc(e),a):"radio"===a.input&&function(e,a,t){const o=wi(e,Ll.radio);if(!o)return;a.forEach(e=>{const a=e[0],n=e[1],s=document.createElement("input"),r=document.createElement("label");s.type="radio",s.name=Ll.radio,s.value=a,Xc(a,t.inputValue)&&(s.checked=!0);const l=document.createElement("span");ui(l,n),l.className=Ll.label,r.appendChild(s),r.appendChild(l),o.appendChild(r)});const n=o.querySelectorAll("input");n.length&&n[0].focus()}(t,Yc(e),a)};Bl(a.inputOptions)||zl(a.inputOptions)?(Hc(ei()),Vl(a.inputOptions).then(a=>{e.hideLoading(),o(a)})):"object"==typeof a.inputOptions?o(a.inputOptions):Ml("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof a.inputOptions)},Kc=(e,a)=>{const t=e.getInput();t&&(Ci(t),Vl(a.inputValue).then(o=>{t.value="number"===a.input?`${parseFloat(o)||0}`:`${o}`,ki(t),t.focus(),e.hideLoading()}).catch(a=>{Ml(`Error in inputValue promise: ${a}`),t.value="",ki(t),t.focus(),e.hideLoading()}))};const Yc=e=>{const a=[];return e instanceof Map?e.forEach((e,t)=>{let o=e;"object"==typeof o&&(o=Yc(o)),a.push([t,o])}):Object.keys(e).forEach(t=>{let o=e[t];"object"==typeof o&&(o=Yc(o)),a.push([t,o])}),a},Xc=(e,a)=>!!a&&a.toString()===e.toString(),ed=(e,a)=>{const t=qi.innerParams.get(e);if(!t.input)return void Ml(`The "input" parameter is needed to be set when using returnInputValueOn${jl(a)}`);const o=e.getInput(),n=((e,a)=>{const t=e.getInput();if(!t)return null;switch(a.input){case"checkbox":return Gc(t);case"radio":return Jc(t);case"file":return Qc(t);default:return a.inputAutoTrim?t.value.trim():t.value}})(e,t);t.inputValidator?ad(e,n,a):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(t.validationMessage||o.validationMessage)):"deny"===a?td(e,n):sd(e,n)},ad=(e,a,t)=>{const o=qi.innerParams.get(e);e.disableInput();Promise.resolve().then(()=>Vl(o.inputValidator(a,o.validationMessage))).then(o=>{e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):"deny"===t?td(e,a):sd(e,a)})},td=(e,a)=>{const t=qi.innerParams.get(e||void 0);if(t.showLoaderOnDeny&&Hc(ti()),t.preDeny){e.isAwaitingPromise=!0;Promise.resolve().then(()=>Vl(t.preDeny(a,t.validationMessage))).then(t=>{!1===t?(e.hideLoading(),qc(e)):e.close({isDenied:!0,value:void 0===t?a:t})}).catch(a=>nd(e||void 0,a))}else e.close({isDenied:!0,value:a})},od=(e,a)=>{e.close({isConfirmed:!0,value:a})},nd=(e,a)=>{e.rejectPromise(a)},sd=(e,a)=>{const t=qi.innerParams.get(e||void 0);if(t.showLoaderOnConfirm&&Hc(),t.preConfirm){e.resetValidationMessage(),e.isAwaitingPromise=!0;Promise.resolve().then(()=>Vl(t.preConfirm(a,t.validationMessage))).then(t=>{Ai(Xl())||!1===t?(e.hideLoading(),qc(e)):od(e,void 0===t?a:t)}).catch(a=>nd(e||void 0,a))}else od(e,a)};function rd(){const e=qi.innerParams.get(this);if(!e)return;const a=qi.domCache.get(this);Ci(a.loader),di()?e.icon&&ki(Jl()):ld(a),bi([a.popup,a.actions],Ll.loading),a.popup.removeAttribute("aria-busy"),a.popup.removeAttribute("data-loading"),a.confirmButton.disabled=!1,a.denyButton.disabled=!1,a.cancelButton.disabled=!1}const ld=e=>{const a=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));a.length?ki(a[0],"inline-block"):Ai(ei())||Ai(ti())||Ai(ai())||Ci(e.actions)};function id(){const e=qi.innerParams.get(this),a=qi.domCache.get(this);return a?vi(a.popup,e.input):null}function cd(e,a,t){const o=qi.domCache.get(e);a.forEach(e=>{o[e].disabled=t})}function dd(e,a){const t=Gl();if(t&&e)if("radio"===e.type){const e=t.querySelectorAll(`[name="${Ll.radio}"]`);for(let t=0;t<e.length;t++)e[t].disabled=a}else e.disabled=a}function ud(){cd(this,["confirmButton","denyButton","cancelButton"],!1)}function md(){cd(this,["confirmButton","denyButton","cancelButton"],!0)}function pd(){dd(this.getInput(),!1)}function vd(){dd(this.getInput(),!0)}function fd(e){const a=qi.domCache.get(this),t=qi.innerParams.get(this);ui(a.validationMessage,e),a.validationMessage.className=Ll["validation-message"],t.customClass&&t.customClass.validationMessage&&hi(a.validationMessage,t.customClass.validationMessage),ki(a.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",Ll["validation-message"]),fi(o),hi(o,Ll.inputerror))}function gd(){const e=qi.domCache.get(this);e.validationMessage&&Ci(e.validationMessage);const a=this.getInput();a&&(a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),bi(a,Ll.inputerror))}const hd={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},bd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],wd={allowEnterKey:void 0},yd=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],kd=e=>Object.prototype.hasOwnProperty.call(hd,e),Cd=e=>-1!==bd.indexOf(e),Ed=e=>wd[e],xd=e=>{kd(e)||Dl(`Unknown parameter "${e}"`)},Sd=e=>{yd.includes(e)&&Dl(`The parameter "${e}" is incompatible with toasts`)},Ad=e=>{const a=Ed(e);a&&$l(e,a)},Td=e=>{!1===e.backdrop&&e.allowOutsideClick&&Dl('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Dl(`Invalid theme "${e.theme}"`);for(const a in e)xd(a),e.toast&&Sd(a),Ad(a)};function Rd(e){const a=Fl(),t=Gl(),o=qi.innerParams.get(this);if(!t||mi(t,o.hideClass.popup))return void Dl("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const n=_d(e),s=Object.assign({},o,n);Td(s),a.dataset.swal2Theme=s.theme,fc(this,s),qi.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const _d=e=>{const a={};return Object.keys(e).forEach(t=>{Cd(t)?a[t]=e[t]:Dl(`Invalid parameter to update: ${t}`)}),a};function Pd(){const e=qi.domCache.get(this),a=qi.innerParams.get(this);a?(e.popup&&_l.swalCloseEventFinishedCallback&&(_l.swalCloseEventFinishedCallback(),delete _l.swalCloseEventFinishedCallback),"function"==typeof a.didDestroy&&a.didDestroy(),_l.eventEmitter.emit("didDestroy"),Nd(this)):Ld(this)}const Nd=e=>{Ld(e),delete e.params,delete _l.keydownHandler,delete _l.keydownTarget,delete _l.currentInstance},Ld=e=>{e.isAwaitingPromise?(Id(qi,e),e.isAwaitingPromise=!0):(Id(Tc,e),Id(qi,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Id=(e,a)=>{for(const t in e)e[t].delete(a)};var Od=Object.freeze({__proto__:null,_destroy:Pd,close:Mc,closeModal:Mc,closePopup:Mc,closeToast:Mc,disableButtons:md,disableInput:vd,disableLoading:rd,enableButtons:ud,enableInput:pd,getInput:id,handleAwaitingPromise:qc,hideLoading:rd,rejectPromise:$c,resetValidationMessage:gd,showValidationMessage:fd,update:Rd});const jd=(e,a,t)=>{a.popup.onclick=()=>{e&&(Dd(e)||e.timer||e.input)||t(hc.close)}},Dd=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let Md=!1;const Ud=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(a){e.container.onmouseup=()=>{},a.target===e.container&&(Md=!0)}}},$d=e=>{e.container.onmousedown=a=>{a.target===e.container&&a.preventDefault(),e.popup.onmouseup=function(a){e.popup.onmouseup=()=>{},(a.target===e.popup||a.target instanceof HTMLElement&&e.popup.contains(a.target))&&(Md=!0)}}},qd=(e,a,t)=>{a.container.onclick=o=>{Md?Md=!1:o.target===a.container&&ql(e.allowOutsideClick)&&t(hc.backdrop)}},Bd=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const Vd=()=>{if(_l.timeout)return(()=>{const e=ri();if(!e)return;const a=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const t=a/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${t}%`})(),_l.timeout.stop()},zd=()=>{if(_l.timeout){const e=_l.timeout.start();return _i(e),e}};let Fd=!1;const Hd={};const Wd=e=>{for(let a=e.target;a&&a!==document;a=a.parentNode)for(const e in Hd){const t=a.getAttribute(e);if(t)return void Hd[e].fire({template:t})}};_l.eventEmitter=new class{constructor(){this.events={}}_getHandlersByEventName(e){return void 0===this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,a){const t=this._getHandlersByEventName(e);t.includes(a)||t.push(a)}once(e,a){const t=(...o)=>{this.removeListener(e,t),a.apply(this,o)};this.on(e,t)}emit(e,...a){this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,a)}catch(t){console.error(t)}})}removeListener(e,a){const t=this._getHandlersByEventName(e),o=t.indexOf(a);o>-1&&t.splice(o,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}};var Gd=Object.freeze({__proto__:null,argsToParams:e=>{const a={};return"object"!=typeof e[0]||Bd(e[0])?["title","html","icon"].forEach((t,o)=>{const n=e[o];"string"==typeof n||Bd(n)?a[t]=n:void 0!==n&&Ml(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof n}`)}):Object.assign(a,e[0]),a},bindClickHandler:function(e="data-swal-template"){Hd[e]=this,Fd||(document.body.addEventListener("click",Wd),Fd=!0)},clickCancel:()=>{var e;return null===(e=ai())||void 0===e?void 0:e.click()},clickConfirm:gc,clickDeny:()=>{var e;return null===(e=ti())||void 0===e?void 0:e.click()},enableLoading:Hc,fire:function(...e){return new this(...e)},getActions:ni,getCancelButton:ai,getCloseButton:li,getConfirmButton:ei,getContainer:Fl,getDenyButton:ti,getFocusableElements:ii,getFooter:si,getHtmlContainer:Zl,getIcon:Jl,getIconContent:()=>Wl(Ll["icon-content"]),getImage:Kl,getInputLabel:()=>Wl(Ll["input-label"]),getLoader:oi,getPopup:Gl,getProgressSteps:Yl,getTimerLeft:()=>_l.timeout&&_l.timeout.getTimerLeft(),getTimerProgressBar:ri,getTitle:Ql,getValidationMessage:Xl,increaseTimer:e=>{if(_l.timeout){const a=_l.timeout.increase(e);return _i(a,!0),a}},isDeprecatedParameter:Ed,isLoading:()=>{const e=Gl();return!!e&&e.hasAttribute("data-loading")},isTimerRunning:()=>!(!_l.timeout||!_l.timeout.isRunning()),isUpdatableParameter:Cd,isValidParameter:kd,isVisible:()=>Ai(Gl()),mixin:function(e){return class extends(this){_main(a,t){return super._main(a,Object.assign({},e,t))}}},off:(e,a)=>{e?a?_l.eventEmitter.removeListener(e,a):_l.eventEmitter.removeAllListeners(e):_l.eventEmitter.reset()},on:(e,a)=>{_l.eventEmitter.on(e,a)},once:(e,a)=>{_l.eventEmitter.once(e,a)},resumeTimer:zd,showLoading:Hc,stopTimer:Vd,toggleTimer:()=>{const e=_l.timeout;return e&&(e.running?Vd():zd())}});class Jd{constructor(e,a){this.callback=e,this.remaining=a,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const a=this.running;return a&&this.stop(),this.remaining+=e,a&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Qd=["swal-title","swal-html","swal-footer"],Zd=e=>{const a={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{nu(e,["name","value"]);const t=e.getAttribute("name"),o=e.getAttribute("value");t&&o&&(a[t]="boolean"==typeof hd[t]?"false"!==o:"object"==typeof hd[t]?JSON.parse(o):o)}),a},Kd=e=>{const a={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const t=e.getAttribute("name"),o=e.getAttribute("value");t&&o&&(a[t]=new Function(`return ${o}`)())}),a},Yd=e=>{const a={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{nu(e,["type","color","aria-label"]);const t=e.getAttribute("type");t&&["confirm","cancel","deny"].includes(t)&&(a[`${t}ButtonText`]=e.innerHTML,a[`show${jl(t)}Button`]=!0,e.hasAttribute("color")&&(a[`${t}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(a[`${t}ButtonAriaLabel`]=e.getAttribute("aria-label")))}),a},Xd=e=>{const a={},t=e.querySelector("swal-image");return t&&(nu(t,["src","width","height","alt"]),t.hasAttribute("src")&&(a.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(a.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(a.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(a.imageAlt=t.getAttribute("alt")||void 0)),a},eu=e=>{const a={},t=e.querySelector("swal-icon");return t&&(nu(t,["type","color"]),t.hasAttribute("type")&&(a.icon=t.getAttribute("type")),t.hasAttribute("color")&&(a.iconColor=t.getAttribute("color")),a.iconHtml=t.innerHTML),a},au=e=>{const a={},t=e.querySelector("swal-input");t&&(nu(t,["type","label","placeholder","value"]),a.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(a.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(a.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(a.inputValue=t.getAttribute("value")));const o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(a.inputOptions={},o.forEach(e=>{nu(e,["value"]);const t=e.getAttribute("value");if(!t)return;const o=e.innerHTML;a.inputOptions[t]=o})),a},tu=(e,a)=>{const t={};for(const o in a){const n=a[o],s=e.querySelector(n);s&&(nu(s,[]),t[n.replace(/^swal-/,"")]=s.innerHTML.trim())}return t},ou=e=>{const a=Qd.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const t=e.tagName.toLowerCase();a.includes(t)||Dl(`Unrecognized element <${t}>`)})},nu=(e,a)=>{Array.from(e.attributes).forEach(t=>{-1===a.indexOf(t.name)&&Dl([`Unrecognized attribute "${t.name}" on <${e.tagName.toLowerCase()}>.`,""+(a.length?`Allowed attributes are: ${a.join(", ")}`:"To set the value, use HTML within the element.")])})},su=e=>{const a=Fl(),t=Gl();"function"==typeof e.willOpen&&e.willOpen(t),_l.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;cu(a,t,e),setTimeout(()=>{lu(a,t)},10),ci()&&(iu(a,e.scrollbarPadding,o),(()=>{const e=Fl();Array.from(document.body.children).forEach(a=>{a.contains(e)||(a.hasAttribute("aria-hidden")&&a.setAttribute("data-previous-aria-hidden",a.getAttribute("aria-hidden")||""),a.setAttribute("aria-hidden","true"))})})()),di()||_l.previousActiveElement||(_l.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout(()=>e.didOpen(t)),_l.eventEmitter.emit("didOpen",t),bi(a,Ll["no-transition"])},ru=e=>{const a=Gl();if(e.target!==a)return;const t=Fl();a.removeEventListener("animationend",ru),a.removeEventListener("transitionend",ru),t.style.overflowY="auto"},lu=(e,a)=>{Ri(a)?(e.style.overflowY="hidden",a.addEventListener("animationend",ru),a.addEventListener("transitionend",ru)):e.style.overflowY="auto"},iu=(e,a,t)=>{(()=>{if(_c&&!mi(document.body,Ll.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",hi(document.body,Ll.iosfix),Pc()}})(),a&&"hidden"!==t&&jc(t),setTimeout(()=>{e.scrollTop=0})},cu=(e,a,t)=>{hi(e,t.showClass.backdrop),t.animation?(a.style.setProperty("opacity","0","important"),ki(a,"grid"),setTimeout(()=>{hi(a,t.showClass.popup),a.style.removeProperty("opacity")},10)):ki(a,"grid"),hi([document.documentElement,document.body],Ll.shown),t.heightAuto&&t.backdrop&&!t.toast&&hi([document.documentElement,document.body],Ll["height-auto"])};var du=(e,a)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(a||"Invalid email address"),uu=(e,a)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(a||"Invalid URL");function mu(e){!function(e){e.inputValidator||("email"===e.input&&(e.inputValidator=du),"url"===e.input&&(e.inputValidator=uu))}(e),e.showLoaderOnConfirm&&!e.preConfirm&&Dl("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(Dl('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Li(e)}let pu;var vu=new WeakMap;class fu{constructor(...e){if(Rl(this,vu,void 0),"undefined"==typeof window)return;pu=this;const a=Object.freeze(this.constructor.argsToParams(e));var t,o,n;this.params=a,this.isAwaitingPromise=!1,t=vu,o=this,n=this._main(pu.params),t.set(Al(t,o),n)}_main(e,a={}){if(Td(Object.assign({},a,e)),_l.currentInstance){const e=Tc.swalPromiseResolve.get(_l.currentInstance),{isAwaitingPromise:a}=_l.currentInstance;_l.currentInstance._destroy(),a||e({isDismissed:!0}),ci()&&Rc()}_l.currentInstance=pu;const t=hu(e,a);mu(t),Object.freeze(t),_l.timeout&&(_l.timeout.stop(),delete _l.timeout),clearTimeout(_l.restoreFocusTimeout);const o=bu(pu);return fc(pu,t),qi.innerParams.set(pu,t),gu(pu,o,t)}then(e){return Tl(vu,this).then(e)}finally(e){return Tl(vu,this).finally(e)}}const gu=(e,a,t)=>new Promise((o,n)=>{const s=a=>{e.close({isDismissed:!0,dismiss:a})};Tc.swalPromiseResolve.set(e,o),Tc.swalPromiseReject.set(e,n),a.confirmButton.onclick=()=>{(e=>{const a=qi.innerParams.get(e);e.disableButtons(),a.input?ed(e,"confirm"):sd(e,!0)})(e)},a.denyButton.onclick=()=>{(e=>{const a=qi.innerParams.get(e);e.disableButtons(),a.returnInputValueOnDeny?ed(e,"deny"):td(e,!1)})(e)},a.cancelButton.onclick=()=>{((e,a)=>{e.disableButtons(),a(hc.cancel)})(e,s)},a.closeButton.onclick=()=>{s(hc.close)},((e,a,t)=>{e.toast?jd(e,a,t):(Ud(a),$d(a),qd(e,a,t))})(t,a,s),((e,a,t)=>{bc(e),a.toast||(e.keydownHandler=e=>Cc(a,e,t),e.keydownTarget=a.keydownListenerCapture?window:Gl(),e.keydownListenerCapture=a.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(_l,t,s),((e,a)=>{"select"===a.input||"radio"===a.input?Zc(e,a):["text","email","number","tel","textarea"].some(e=>e===a.input)&&(Bl(a.inputValue)||zl(a.inputValue))&&(Hc(ei()),Kc(e,a))})(e,t),su(t),wu(_l,t,s),yu(a,t),setTimeout(()=>{a.container.scrollTop=0})}),hu=(e,a)=>{const t=(e=>{const a="string"==typeof e.template?document.querySelector(e.template):e.template;if(!a)return{};const t=a.content;return ou(t),Object.assign(Zd(t),Kd(t),Yd(t),Xd(t),eu(t),au(t),tu(t,Qd))})(e),o=Object.assign({},hd,a,t,e);return o.showClass=Object.assign({},hd.showClass,o.showClass),o.hideClass=Object.assign({},hd.hideClass,o.hideClass),!1===o.animation&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},bu=e=>{const a={popup:Gl(),container:Fl(),actions:ni(),confirmButton:ei(),denyButton:ti(),cancelButton:ai(),loader:oi(),closeButton:li(),validationMessage:Xl(),progressSteps:Yl()};return qi.domCache.set(e,a),a},wu=(e,a,t)=>{const o=ri();Ci(o),a.timer&&(e.timeout=new Jd(()=>{t("timer"),delete e.timeout},a.timer),a.timerProgressBar&&(ki(o),pi(o,a,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&_i(a.timer)})))},yu=(e,a)=>{if(!a.toast)return ql(a.allowEnterKey)?void(ku(e)||Cu(e,a)||wc(-1,1)):($l("allowEnterKey"),void Eu())},ku=e=>{const a=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const t of a)if(t instanceof HTMLElement&&Ai(t))return t.focus(),!0;return!1},Cu=(e,a)=>a.focusDeny&&Ai(e.denyButton)?(e.denyButton.focus(),!0):a.focusCancel&&Ai(e.cancelButton)?(e.cancelButton.focus(),!0):!(!a.focusConfirm||!Ai(e.confirmButton))&&(e.confirmButton.focus(),!0),Eu=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,a=localStorage.getItem("swal-initiation");a?(e.getTime()-Date.parse(a))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}fu.prototype.disableButtons=md,fu.prototype.enableButtons=ud,fu.prototype.getInput=id,fu.prototype.disableInput=vd,fu.prototype.enableInput=pd,fu.prototype.hideLoading=rd,fu.prototype.disableLoading=rd,fu.prototype.showValidationMessage=fd,fu.prototype.resetValidationMessage=gd,fu.prototype.close=Mc,fu.prototype.closePopup=Mc,fu.prototype.closeModal=Mc,fu.prototype.closeToast=Mc,fu.prototype.rejectPromise=$c,fu.prototype.update=Rd,fu.prototype._destroy=Pd,Object.assign(fu,Gd),Object.keys(Od).forEach(e=>{fu[e]=function(...a){return pu&&pu[e]?pu[e](...a):null}}),fu.DismissReason=hc,fu.version="11.22.0";const xu=fu;xu.default=xu,"undefined"!=typeof document&&function(e,a){var t=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=a);else try{t.innerHTML=a}catch(o){t.innerText=a}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Su=xu.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",xu.stopTimer),e.addEventListener("mouseleave",xu.resumeTimer)}}),Au=e=>{Su.fire({icon:"success",title:e})},Tu=e=>{Su.fire({icon:"error",title:e})},Ru=ne({__name:"SkeletonLoader",props:{width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:"4px"}},setup:e=>(a,n)=>(o(),t("div",{class:"skeleton",style:_({width:e.width,height:e.height,borderRadius:e.borderRadius})},null,4))},[["__scopeId","data-v-7bfd6ab9"]]),_u={class:"menu-card-skeleton"},Pu={class:"skeleton-info"},Nu=ne({__name:"MenuCardSkeleton",setup:e=>(e,a)=>(o(),t("div",_u,[y(Ru,{height:"150px",borderRadius:"12px 12px 0 0"}),n("div",Pu,[y(Ru,{width:"70%",height:"1.25rem",borderRadius:"4px"}),y(Ru,{width:"40%",height:"1rem",borderRadius:"4px",style:{"margin-top":"8px"}})])]))},[["__scopeId","data-v-01f8ef4d"]]),Lu={class:"table-item-skeleton"},Iu=ne({__name:"TableListItemSkeleton",setup:e=>(e,a)=>(o(),t("div",Lu,[y(Ru,{width:"80%",height:"24px",borderRadius:"6px"})]))},[["__scopeId","data-v-41c50015"]]),Ou={class:"qr-container"},ju={class:"tabs-container"},Du={class:"tabs-header d-flex justify-content-center align-items-center"},Mu={key:0,class:"loading-container"},Uu={key:1,class:"alert alert-danger"},$u={key:2,class:"qr-content"},qu={key:0,class:"qr-layout"},Bu={class:"tables-panel"},Vu={class:"select-all-container"},zu=["checked"],Fu={key:0,class:"tables-list"},Hu={key:1,class:"tables-list"},Wu=["onClick"],Gu=["checked","onChange"],Ju={class:"qr-panel"},Qu={key:0,class:"qr-display-multiple"},Zu={class:"share-buttons"},Ku={key:1,class:"qr-display"},Yu={class:"qr-table-name"},Xu={key:0,class:"qr-code-item"},em={key:0,class:"qr-image-loader"},am=["src"],tm={key:2,class:"qr-image-error"},om={class:"share-buttons"},nm={key:1,class:"no-qr-codes"},sm={key:2,class:"qr-placeholder"},rm={key:1,class:"menu-layout"},lm={key:0,class:"menu-grid"},im={key:1,class:"menu-grid"},cm=["onClick"],dm={class:"card-content"},um={class:"menu-info"},mm={class:"menu-name"},pm={key:0,class:"menu-badge"},vm=["onClick"],fm=["onClick"],gm=["onClick"],hm=["onClick"],bm=["onClick"],wm={key:0,class:"processing-overlay"},ym={class:"download-modal-content"},km={class:"form-group"},Cm={class:"email-modal-content"},Em={class:"form-group"},xm={class:"form-group"},Sm={class:"form-group"},Am={class:"form-group"},Tm=ne({__name:"QR",setup(e){i();const s=Vt(),p=l(()=>s.isLoading),h=l(()=>s.error),b=l(()=>s.tables),w=l(()=>s.menus),C=a(null);a("");const E=a(localStorage.getItem("adminQRTab")||"tables"),x=a(!1),T=a(""),_=a(null),N=a(null),L=a([]),I=a(!1),O=a("pdf");let j=[];const D=a(""),M=a(!1),U=a(!1),$=a("pdf"),q=a(""),B=a("Mesas QR"),V=a("Te comparto los códigos.");let z=[];const F=e=>L.value.some(a=>a.id===e.id),H=e=>{e.target.checked?L.value=[...b.value]:L.value=[]},W=e=>{E.value=e,localStorage.setItem("adminQRTab",e)},G=()=>{T.value="",x.value=!0},J=async e=>{const a=parseInt(e,10);if(isNaN(a)||a<=0)Tu("Por favor, ingresa un número de mesa válido y mayor a cero.");else try{await s.createTable({number:a}),Au("Mesa creada correctamente")}catch(t){Tu(t.message||"Error al crear la mesa")}},Q=async()=>{if(C.value)try{await s.generateQrCode(C.value.id),Au("Se ha procesado el QR para la mesa.")}catch(e){Tu(e.message||"Error al generar código QR")}},Z=async()=>{const{value:e}=await xu.fire({title:"Selecciona un PDF",input:"file",inputAttributes:{accept:"application/pdf"},confirmButtonText:"Subir",showCancelButton:!0,cancelButtonText:"Cancelar"});if(!e)return;if(e.size>10485760)return void Tu("El archivo supera los 10 MB");const{value:a}=await xu.fire({title:"Nombre del menú",input:"text",inputValue:e.name.replace(/\.pdf$/i,""),showCancelButton:!0,confirmButtonText:"Guardar"});if(!a)return;const t=new FormData;t.append("file",e),t.append("name",a),await s.uploadMenu(t),Au("Menú subido")},K=e=>{j=e,I.value=!0},Y=async()=>{I.value=!1;const e=j.filter(e=>e.qr_code&&e.qr_code.id).map(e=>e.qr_code.id);if(0===e.length)return void Tu("Ninguna de las mesas seleccionadas tiene un QR para exportar.");const a=O.value;try{const t=await Pt.post("/admin/qr/export",{qr_ids:e,format:a},{responseType:"blob"}),o=window.URL.createObjectURL(t.data),n=document.createElement("a");n.href=o;const s=t.headers["content-disposition"];let r;if(s){const e=s.match(/filename="(.+)"/);e&&2===e.length&&(r=e[1])}if(!r){const t=a;if(1===e.length){r=`QR_Mesa_${j.find(a=>a.qr_code&&a.qr_code.id===e[0]).number}.${t}`}else r=`QRs_Export.${t}`}n.download=r,document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(o)}catch(t){Tu("Error al exportar los códigos QR.")}},X=e=>{z=e,U.value=!0},ee=async()=>{U.value=!1;const e=q.value.split(",").map(e=>e.trim()).filter(e=>e);if(0===e.length)return void Tu("Ingresa al menos un destinatario.");const a=z.filter(e=>e.qr_code&&e.qr_code.id).map(e=>e.qr_code.id);if(0===a.length)return void Tu("Ninguna de las mesas seleccionadas tiene un QR para enviar.");const t={qr_ids:a,format:$.value,recipients:e,subject:B.value,body:V.value};try{await Pt.post("/admin/qr/email",t),Au("Correo enviado correctamente.")}catch(o){Tu(o.message||"Error al enviar el correo.")}};return m(()=>{s.fetchTables(),s.fetchMenus()}),P(C,async e=>{if(D.value&&(URL.revokeObjectURL(D.value),D.value=""),e&&e.qr_code){M.value=!0;try{const a=await Pt.get(`/admin/qr/preview/${e.id}`,{responseType:"blob"});D.value=URL.createObjectURL(a.data)}catch(a){console.error("Error fetching QR code image:",a),Tu("No se pudo cargar la imagen del QR.")}finally{M.value=!1}}}),(e,a)=>(o(),t("div",Ou,[n("div",ju,[n("div",Du,[n("button",{class:u(["tab-button",{active:"tables"===E.value}]),onClick:a[0]||(a[0]=e=>W("tables"))}," MESAS ",2),n("button",{class:u(["tab-button",{active:"menus"===E.value}]),onClick:a[1]||(a[1]=e=>W("menus"))}," MENÚ ",2)])]),p.value&&!b.value.length?(o(),t("div",Mu,a[19]||(a[19]=[n("div",{class:"loading-spinner"},null,-1),n("p",null,"Cargando datos...",-1)]))):c("",!0),h.value&&!p.value?(o(),t("div",Uu,r(h.value),1)):(o(),t("div",$u,["tables"===E.value?(o(),t("div",qu,[n("div",Bu,[a[21]||(a[21]=n("h2",{class:"panel-title"},"Selecciona una mesa",-1)),n("div",Vu,[n("input",{type:"checkbox",onChange:H,checked:b.value.length>0&&L.value.length===b.value.length,class:"form-check-input"},null,40,zu),a[20]||(a[20]=n("label",null,"Seleccionar todo",-1))]),p.value?(o(),t("div",Fu,[(o(),t(v,null,f(8,e=>y(Iu,{key:e})),64))])):(o(),t("div",Hu,[(o(!0),t(v,null,f(b.value,e=>(o(),t("div",{key:e.id,class:u(["table-item",{active:C.value&&C.value.id===e.id}]),onClick:a=>(e=>{C.value=e})(e)},[n("input",{type:"checkbox",checked:F(e),onChange:a=>(e=>{const a=L.value.findIndex(a=>a.id===e.id);-1===a?L.value.push(e):L.value.splice(a,1)})(e),onClick:a[2]||(a[2]=S(()=>{},["stop"])),class:"form-check-input"},null,40,Gu),n("span",null,r((e.name||`MESA ${e.number}`).toUpperCase()),1)],10,Wu))),128))])),n("button",{class:"add-table-btn",onClick:G},"MESA ＋")]),n("div",Ju,[L.value.length>0?(o(),t("div",Qu,[n("h3",null,r(L.value.length)+" mesa(s) seleccionada(s)",1),a[24]||(a[24]=n("p",null,"Selecciona una acción para aplicar a todas las mesas seleccionadas.",-1)),n("div",Zu,[n("button",{onClick:a[3]||(a[3]=e=>K(L.value)),class:"share-btn download"},a[22]||(a[22]=[n("i",{class:"bi bi-download"},null,-1),d(" Descargar QRs ")])),n("button",{onClick:a[4]||(a[4]=e=>X(L.value)),class:"share-btn email"},a[23]||(a[23]=[n("i",{class:"bi bi-envelope-fill"},null,-1),d(" Enviar por correo ")]))])])):C.value?(o(),t("div",Ku,[n("h3",Yu,"Mesa "+r(C.value.number),1),C.value.qr_code?(o(),t("div",Xu,[M.value?(o(),t("div",em,a[25]||(a[25]=[n("div",{class:"loading-spinner-small"},null,-1)]))):D.value?(o(),t("img",{key:1,src:D.value,alt:"Código QR",class:"qr-image"},null,8,am)):(o(),t("div",tm,a[26]||(a[26]=[n("i",{class:"bi bi-exclamation-triangle-fill"},null,-1),n("span",null,"Error al cargar QR",-1)]))),n("div",om,[n("button",{onClick:a[5]||(a[5]=e=>K([C.value])),class:"share-btn download"},a[27]||(a[27]=[n("i",{class:"bi bi-download"},null,-1),d(" Descargar ")])),n("button",{onClick:a[6]||(a[6]=e=>(async e=>{if(e&&e.qr_code)try{const a=await Pt.post("/admin/qr/export",{qr_ids:[e.qr_code.id],format:"png"},{responseType:"blob"}),t=new File([a.data],`QR_Mesa_${e.number}.png`,{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[t]}))await navigator.share({files:[t],title:`Código QR para Mesa ${e.number}`,text:`Aquí está el código QR para la mesa ${e.number}.`});else{const e=window.URL.createObjectURL(t),a=document.createElement("a");a.href=e,a.download=t.name,document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(e),Au("Archivo descargado (el navegador no admite compartir).")}}catch(a){"AbortError"!==a.name&&Tu("Error al intentar compartir el código QR.")}else Tu("La mesa no tiene un QR para compartir.")})(C.value)),class:"share-btn share"},a[28]||(a[28]=[n("i",{class:"bi bi-share-fill"},null,-1),d(" Compartir ")])),n("button",{onClick:a[7]||(a[7]=e=>X([C.value])),class:"share-btn email"},a[29]||(a[29]=[n("i",{class:"bi bi-envelope-fill"},null,-1),d(" Enviar ")]))]),n("button",{class:"btn btn-secondary mt-3",onClick:Q},"Regenerar QR")])):(o(),t("div",nm,[a[30]||(a[30]=n("p",null,"Esta mesa aún no tiene un código QR.",-1)),n("button",{class:"btn btn-primary mt-3",onClick:Q},"Generar QR")]))])):(o(),t("div",sm,a[31]||(a[31]=[n("p",null,"Selecciona una mesa para ver su código QR",-1)])))])])):(o(),t("div",rm,[a[39]||(a[39]=n("div",{class:"row mb-3"},[n("div",{class:"col-12 d-flex flex-column align-items-start justify-content-start"},[n("h2",null,"Menús"),n("p",{class:"text-left"},"Administra tus menús para que tus clientes puedan escanearlos y verlos en su mesa.")])],-1)),p.value?(o(),t("div",lm,[(o(),t(v,null,f(6,e=>y(Nu,{key:e})),64))])):(o(),t("div",im,[(o(!0),t(v,null,f(w.value,e=>(o(),t("div",{key:e.id,class:u(["menu-card",{default:e.isDefault,processing:N.value===e.id}]),onClick:a=>{return t=e.id,void(_.value=_.value===t?null:t);var t}},[n("div",dm,[a[32]||(a[32]=n("div",{class:"menu-cover"},null,-1)),n("div",um,[n("span",mm,r(e.name),1),e.isDefault?(o(),t("span",pm,"PREDETERMINADO")):c("",!0)])]),n("div",{class:u(["menu-actions",{show:_.value===e.id}]),onClick:a[8]||(a[8]=S(()=>{},["stop"]))},[e.isPredefined?c("",!0):(o(),t("button",{key:0,onClick:a=>(async e=>{N.value=e.id;try{await s.setDefaultMenu(e.id),Au("Menú predeterminado actualizado"),_.value=null}catch(a){Tu(a.message||"Error al establecer menú predeterminado")}finally{N.value=null}})(e),class:"action-item"},a[33]||(a[33]=[n("span",{class:"action-icon select"},[n("i",{class:"bi bi-check-lg"})],-1),n("span",{class:"action-label"},"Seleccionar",-1)]),8,vm)),n("button",{onClick:a=>(async e=>{const a=await s.previewMenu(e.id);a&&window.open(a,"_blank")})(e),class:"action-item"},a[34]||(a[34]=[n("span",{class:"action-icon view"},[n("i",{class:"bi bi-eye-fill"})],-1),n("span",{class:"action-label"},"Ver",-1)]),8,fm),n("button",{onClick:a=>(async e=>{const{value:a}=await xu.fire({title:"Nuevo nombre",input:"text",inputValue:e.name,showCancelButton:!0});if(a&&a!==e.name){N.value=e.id;try{await s.renameMenu(e.id,a),Au("Nombre cambiado"),_.value=null}catch(t){Tu(t.message||"Error al renombrar menú")}finally{N.value=null}}})(e),class:"action-item"},a[35]||(a[35]=[n("span",{class:"action-icon rename"},[n("i",{class:"bi bi-pencil-fill"})],-1),n("span",{class:"action-label"},"Renombrar",-1)]),8,gm),n("button",{onClick:a=>(async e=>{N.value=e.id;try{const a=await Pt.get(`/menus/${e.id}/download`,{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([a.data])),o=document.createElement("a");o.href=t;const n=a.headers["content-disposition"];let s=`${e.name}.pdf`;if(n){const e=n.match(/filename="(.+)"/);e&&2===e.length&&(s=e[1])}o.setAttribute("download",s),document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(t),_.value=null}catch(a){Tu(a.message||"Error al descargar el archivo.")}finally{N.value=null}})(e),class:"action-item"},a[36]||(a[36]=[n("span",{class:"action-icon download"},[n("i",{class:"bi bi-download"})],-1),n("span",{class:"action-label"},"Descargar",-1)]),8,hm),e.isPredefined?c("",!0):(o(),t("button",{key:1,onClick:a=>(async e=>{if(e.isPredefined)return void Tu("No puedes eliminar el menú predeterminado.");if((await xu.fire({title:`¿Eliminar "${e.name}"?`,text:"Esta acción es irreversible",icon:"warning",showCancelButton:!0})).isConfirmed){N.value=e.id;try{await s.deleteMenu(e.id),Au("Menú eliminado"),_.value=null}catch(a){Tu(a.message||"Error al eliminar el menú")}finally{N.value=null}}})(e),class:"action-item"},a[37]||(a[37]=[n("span",{class:"action-icon delete"},[n("i",{class:"bi bi-trash-fill"})],-1),n("span",{class:"action-label"},"Eliminar",-1)]),8,bm))],2),N.value===e.id?(o(),t("div",wm,a[38]||(a[38]=[n("div",{class:"loading-spinner-small"},null,-1)]))):c("",!0)],10,cm))),128)),n("div",{class:"add-menu-card w-100",onClick:Z}," ＋ Agregar menú (PDF) ")]))]))])),y(Sl,{modelValue:x.value,"onUpdate:modelValue":a[9]||(a[9]=e=>x.value=e),title:"Nueva mesa",label:"Número de la mesa",placeholder:"Ej: 5","input-type":"number",onConfirm:J},null,8,["modelValue"]),y(yl,{modelValue:I.value,"onUpdate:modelValue":a[12]||(a[12]=e=>I.value=e),title:"Exportar Códigos QR"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:a[11]||(a[11]=e=>I.value=!1)},"Cancelar"),n("button",{class:"btn btn-primary",onClick:Y},"Descargar")]),default:k(()=>[n("div",ym,[a[42]||(a[42]=n("p",null,"Selecciona el formato en el que deseas descargar los códigos QR.",-1)),n("div",km,[a[41]||(a[41]=n("label",{for:"format-select"},"Formato:",-1)),g(n("select",{id:"format-select","onUpdate:modelValue":a[10]||(a[10]=e=>O.value=e),class:"form-control"},a[40]||(a[40]=[n("option",{value:"pdf"},"PDF",-1),n("option",{value:"png"},"PNG",-1),n("option",{value:"svg"},"SVG",-1),n("option",{value:"zip"},"ZIP (PNGs comprimidos)",-1)]),512),[[R,O.value]])])])]),_:1},8,["modelValue"]),y(yl,{modelValue:U.value,"onUpdate:modelValue":a[18]||(a[18]=e=>U.value=e),title:"Enviar Códigos QR por Email"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:a[17]||(a[17]=e=>U.value=!1)},"Cancelar"),n("button",{class:"btn btn-primary",onClick:ee},"Enviar")]),default:k(()=>[n("div",Cm,[n("div",Em,[a[43]||(a[43]=n("label",{for:"recipients-input"},"Destinatarios (separa correos con coma):",-1)),g(n("input",{id:"recipients-input","onUpdate:modelValue":a[13]||(a[13]=e=>q.value=e),type:"text",class:"form-control",placeholder:"ej: correo@dominio.com, otro@dominio.com"},null,512),[[A,q.value]])]),n("div",xm,[a[44]||(a[44]=n("label",{for:"subject-input"},"Asunto:",-1)),g(n("input",{id:"subject-input","onUpdate:modelValue":a[14]||(a[14]=e=>B.value=e),type:"text",class:"form-control"},null,512),[[A,B.value]])]),n("div",Sm,[a[45]||(a[45]=n("label",{for:"body-input"},"Mensaje:",-1)),g(n("textarea",{id:"body-input","onUpdate:modelValue":a[15]||(a[15]=e=>V.value=e),class:"form-control",rows:"3"},null,512),[[A,V.value]])]),n("div",Am,[a[47]||(a[47]=n("label",{for:"email-format-select"},"Formato:",-1)),g(n("select",{id:"email-format-select","onUpdate:modelValue":a[16]||(a[16]=e=>$.value=e),class:"form-control"},a[46]||(a[46]=[n("option",{value:"pdf"},"PDF",-1),n("option",{value:"png"},"PNG",-1)]),512),[[R,$.value]])])])]),_:1},8,["modelValue"])]))}},[["__scopeId","data-v-ea508a94"]]),Rm={class:"stats-container"};const _m=ne({},[["render",function(e,a){return o(),t("div",Rm,a[0]||(a[0]=[n("div",{class:"coming-soon-container"},[n("i",{class:"bi bi-bar-chart-line-fill icon"}),n("h1",null,"Estadísticas"),n("p",null,"Esta sección estará disponible próximamente."),n("p",null,"Estamos trabajando para ofrecerte los mejores análisis para tu negocio.")],-1)]))}],["__scopeId","data-v-c2a430e4"]]),Pm=["type","disabled"],Nm={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Lm={__name:"BaseButton",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","outline-primary","outline-secondary","success","danger","warning","info","light","dark","link"].includes(e)},size:{type:String,default:"",validator:e=>["","sm","lg"].includes(e)},block:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:String,default:"button"}},emits:["click"],setup(e,{emit:a}){const s=e,r=a,i=l(()=>{const e=["btn"];return e.push(`btn-${s.variant}`),s.size&&e.push(`btn-${s.size}`),s.block&&e.push("w-100"),s.loading&&e.push("position-relative"),e.join(" ")}),d=e=>{s.disabled||s.loading||r("click",e)};return(a,s)=>(o(),t("button",{type:e.type,class:u(i.value),disabled:e.disabled||e.loading,onClick:d},[e.loading?(o(),t("div",Nm)):c("",!0),n("span",{class:u({"opacity-0":e.loading})},[L(a.$slots,"default",{},void 0)],2)],10,Pm))}},Im=ne(Lm,[["__scopeId","data-v-e24961f8"]]),Om={class:"request-card"},jm={class:"requester-info"},Dm=["src","alt"],Mm={class:"text-info"},Um={class:"name"},$m={class:"position"},qm={class:"actions"},Bm={__name:"RequestCard",props:{request:{type:Object,required:!0},isArchived:{type:Boolean,default:!1}},emits:["confirm","archive","reject","unarchive"],setup:(e,{emit:a})=>(a,s)=>(o(),t("div",Om,[e.isArchived?c("",!0):(o(),t("button",{key:0,class:"close-button",onClick:s[0]||(s[0]=S(t=>a.$emit("reject",e.request),["stop"]))},s[5]||(s[5]=[n("i",{class:"bi bi-x"},null,-1)]))),n("div",jm,[n("img",{src:e.request.avatar,alt:`Avatar de ${e.request.name}`,class:"avatar"},null,8,Dm),n("div",Mm,[n("h4",Um,r(e.request.name),1),n("p",$m,r(e.request.position),1)])]),n("div",qm,[e.isArchived?(o(),t("button",{key:1,class:"btn btn-primary",onClick:s[4]||(s[4]=S(t=>a.$emit("unarchive",e.request),["stop"]))},s[9]||(s[9]=[n("i",{class:"bi bi-arrow-counterclockwise"},null,-1),d(" Desarchivar ")]))):(o(),t(v,{key:0},[n("button",{class:"btn btn-primary",onClick:s[1]||(s[1]=S(t=>a.$emit("confirm",e.request),["stop"]))},s[6]||(s[6]=[n("i",{class:"bi bi-check-lg"},null,-1),d(" Confirmar ")])),n("button",{class:"btn btn-secondary",onClick:s[2]||(s[2]=S(t=>a.$emit("archive",e.request),["stop"]))},s[7]||(s[7]=[n("i",{class:"bi bi-archive"},null,-1),d(" Archivar ")])),n("button",{class:"btn btn-danger",onClick:s[3]||(s[3]=S(t=>a.$emit("reject",e.request),["stop"]))},s[8]||(s[8]=[n("i",{class:"bi bi-x-lg"},null,-1),d(" Rechazar ")]))],64))])]))},Vm=ne(Bm,[["__scopeId","data-v-ecca35ff"]]),zm={class:"staff-avatar"},Fm=["src","alt"],Hm={class:"employee-name"},Wm={class:"staff-info"},Gm={class:"rating-container"},Jm={class:"stars"},Qm={class:"comments-count"},Zm={__name:"StaffCard",props:{employee:{type:Object,required:!0}},emits:["view","remove"],setup(e,{emit:a}){const s=e,l=a,i=()=>{l("view",s.employee)},c=e=>{e.stopPropagation(),l("remove",s.employee)};return(a,s)=>(o(),t("div",{class:"staff-card",onClick:i},[n("button",{class:"remove-button",onClick:c},s[0]||(s[0]=[n("i",{class:"bi bi-x"},null,-1)])),n("div",zm,[n("img",{src:e.employee.avatar||"https://randomuser.me/api/portraits/men/32.jpg",alt:e.employee.name,class:"avatar-image"},null,8,Fm)]),n("h3",Hm,r(e.employee.name),1),n("div",Wm,[n("div",Gm,[n("div",Jm,[(o(),t(v,null,f(5,a=>n("i",{key:a,class:u(["bi",a<=Math.round(e.employee.rating||0)?"bi-star-fill":"bi-star"])},null,2)),64))]),n("div",Qm,[s[1]||(s[1]=n("i",{class:"bi bi-chat-left-text"},null,-1)),n("span",null,r(e.employee.reviewsCount||0)+" comentarios",1)])])])]))}},Km=ne(Zm,[["__scopeId","data-v-b19334dd"]]),Ym={class:"staff-card-skeleton"},Xm={class:"avatar-skeleton"},ep={class:"info-skeleton"},ap={__name:"StaffCardSkeleton",setup:e=>(e,a)=>(o(),t("div",Ym,[n("div",Xm,[y(Ru,{width:"64px",height:"64px",borderRadius:"50%"})]),n("div",ep,[y(Ru,{width:"60%",height:"1.2rem",borderRadius:"4px"}),y(Ru,{width:"40%",height:"1rem",borderRadius:"4px",style:{"margin-top":"8px"}})])]))},tp=ne(ap,[["__scopeId","data-v-77a45dbe"]]),op={class:"request-card-skeleton"},np={class:"info-skeleton"},sp={class:"actions-skeleton"},rp=ne({__name:"RequestCardSkeleton",setup:e=>(e,a)=>(o(),t("div",op,[n("div",np,[y(Ru,{width:"50%",height:"1.1rem",borderRadius:"4px"}),y(Ru,{width:"30%",height:"0.9rem",borderRadius:"4px",style:{"margin-top":"8px"}})]),n("div",sp,[y(Ru,{width:"40px",height:"40px",borderRadius:"50%"}),y(Ru,{width:"40px",height:"40px",borderRadius:"50%"})])]))},[["__scopeId","data-v-8e0a7703"]]),lp={class:"staff-page"},ip={class:"page-header"},cp={key:0,class:"header-stats"},dp={class:"stat-item"},up={class:"stat-value"},mp={class:"stat-item"},pp={class:"stat-value"},vp={key:0,class:"loading-container"},fp={key:1,class:"error-container"},gp={class:"error-message"},hp={key:2,class:"staff-content"},bp={class:"staff-section"},wp={class:"section-header"},yp={class:"section-title"},kp={key:0,class:"badge bg-primary rounded-pill"},Cp={key:0,class:"section-actions"},Ep={key:0,class:"requests-list"},xp={key:1},Sp={key:0,class:"text-center p-4 text-muted"},Ap={key:1,class:"requests-list"},Tp={class:"staff-section"},Rp={class:"section-header"},_p={key:0,class:"staff-grid"},Pp={key:1,class:"staff-grid"},Np={key:0},Lp={key:2,class:"pagination-container"},Ip=["disabled"],Op=["disabled"],jp={class:"invite-form"},Dp={class:"form-group"},Mp={class:"form-group"},Up=["disabled"],$p={key:0},qp={key:1},Bp=["disabled"],Vp={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},zp=ne({__name:"Staff",setup(e){const s=i(),u=Vt(),p=a(!1),h=a(""),b=l(()=>u.staff),C=l(()=>u.staffRequests),E=l(()=>u.archivedRequests),x=a(!1),S=a(!1);a(!1),a(!1);const T=a(null);a(null);const _=a(""),P=a(""),N=a("waiter"),L=a(!1),I=l(()=>u.staffLinks),O=l(()=>u.staffMeta),j=l(()=>{if(!b.value.length)return[];let e=[...b.value];if(_.value){const a=_.value.toLowerCase();e=e.filter(e=>{var t,o,n;return(null==(t=e.name)?void 0:t.toLowerCase().includes(a))||(null==(o=e.email)?void 0:o.toLowerCase().includes(a))||(null==(n=e.position)?void 0:n.toLowerCase().includes(a))})}return e}),D=l(()=>L.value?E.value:C.value),M=l(()=>{if(!b.value.length)return{total:0,avgRating:0};const e=b.value.length;return{total:e,avgRating:(b.value.reduce((e,a)=>e+(a.rating||0),0)/e).toFixed(1)}});m(async()=>{p.value=!0,h.value="";try{await Promise.all([u.fetchStaff(),u.fetchStaffRequests(),u.fetchArchivedRequests()])}catch(e){h.value=e.message||"Error al cargar datos de personal"}finally{p.value=!1}});const U=async()=>{if(P.value&&N.value){p.value=!0,h.value="";try{await u.inviteStaff({email:P.value,role:N.value}),P.value="",N.value="waiter",x.value=!1}catch(e){h.value=e.message||"Error al enviar invitación"}finally{p.value=!1}}else h.value="Por favor, completa todos los campos"},$=async e=>{p.value=!0,h.value="";try{await u.handleStaffRequest(e.id,"confirm")}catch(a){h.value=a.message||"Error al confirmar solicitud"}finally{p.value=!1}},q=async e=>{p.value=!0,h.value="";try{await u.handleStaffRequest(e.id,"archive")}catch(a){h.value=a.message||"Error al archivar solicitud"}finally{p.value=!1}},B=async e=>{p.value=!0,h.value="";try{await u.handleStaffRequest(e.id,"unarchive")}catch(a){h.value=a.message||"Error al desarchivar solicitud"}finally{p.value=!1}},V=async e=>{p.value=!0,h.value="";try{await u.handleStaffRequest(e.id,"reject")}catch(a){h.value=a.message||"Error al rechazar solicitud"}finally{p.value=!1}},z=async()=>{if(C.value.length){p.value=!0,h.value="";try{for(const e of C.value)await u.handleStaffRequest(e.id,"confirm")}catch(e){h.value=e.message||"Error al confirmar todas las solicitudes"}finally{p.value=!1}}},F=async()=>{if(C.value.length){p.value=!0,h.value="";try{for(const e of C.value)await u.handleStaffRequest(e.id,"archive")}catch(e){h.value=e.message||"Error al archivar todas las solicitudes"}finally{p.value=!1}}},H=e=>{T.value=e,S.value=!0},W=async()=>{if(T.value){p.value=!0,h.value="";try{await u.removeStaff(T.value.id),S.value=!1,T.value=null}catch(e){h.value=e.message||"Error al eliminar miembro del personal"}finally{p.value=!1}}},G=()=>{L.value=!L.value},J=e=>{s.push("/admin/staff/"+e.id)},Q=()=>{x.value=!0},Z=async()=>{I.value.next&&(p.value=!0,await u.fetchStaff(I.value.next),p.value=!1)},K=async()=>{I.value.prev&&(p.value=!0,await u.fetchStaff(I.value.prev),p.value=!1)};return(e,a)=>(o(),t("div",lp,[n("div",ip,[a[11]||(a[11]=n("h1",{class:"page-title"},"Gestión de Personal",-1)),!p.value&&b.value.length>0?(o(),t("div",cp,[n("div",dp,[n("span",up,r(M.value.total),1),a[8]||(a[8]=n("span",{class:"stat-label"},"Total",-1))]),n("div",mp,[n("span",pp,r(M.value.avgRating),1),a[9]||(a[9]=n("span",{class:"stat-label"},"Rating promedio",-1))])])):c("",!0),y(Im,{onClick:Q,variant:"primary",icon:"fas fa-plus"},{default:k(()=>a[10]||(a[10]=[d(" Invitar Personal ")])),_:1,__:[10]})]),p.value?(o(),t("div",vp,a[12]||(a[12]=[n("div",{class:"spinner"},null,-1),n("p",null,"Cargando personal...",-1)]))):h.value?(o(),t("div",fp,[n("p",gp,r(h.value),1),y(Im,{onClick:a[0]||(a[0]=a=>e.$router.go(0)),variant:"primary"},{default:k(()=>a[13]||(a[13]=[d(" Reintentar ")])),_:1,__:[13]})])):(o(),t("div",hp,[n("section",bp,[n("div",wp,[n("div",null,[n("h2",yp,[d(r(L.value?"Solicitudes Archivadas":"Solicitudes Pendientes")+" ",1),!L.value&&C.value.length?(o(),t("span",kp,r(C.value.length),1)):c("",!0)])]),L.value?c("",!0):(o(),t("div",Cp,[y(Im,{onClick:F,size:"sm",disabled:!C.value.length},{default:k(()=>a[14]||(a[14]=[d("Archivar Todo")])),_:1,__:[14]},8,["disabled"]),y(Im,{onClick:z,size:"sm",variant:"success",disabled:!C.value.length},{default:k(()=>a[15]||(a[15]=[d("Confirmar Todo")])),_:1,__:[15]},8,["disabled"])]))]),p.value?(o(),t("div",Ep,[(o(),t(v,null,f(3,e=>y(rp,{key:e})),64))])):(o(),t("div",xp,[D.value.length?(o(),t("div",Ap,[(o(!0),t(v,null,f(D.value,e=>(o(),w(Vm,{key:e.id,request:e,"is-archived":L.value,onConfirm:$,onArchive:q,onUnarchive:B,onReject:V},null,8,["request","is-archived"]))),128))])):(o(),t("div",Sp,a[16]||(a[16]=[n("p",null,"No hay solicitudes para mostrar.",-1)])))])),y(Im,{onClick:G,size:"sm",class:"mt-3"},{default:k(()=>[d(r(L.value?"Ver Pendientes":"Ver Archivadas"),1)]),_:1})]),n("section",Tp,[n("div",Rp,[a[17]||(a[17]=n("h2",{class:"section-title"},"Tu Personal",-1)),g(n("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),class:"search-input",placeholder:"Buscar personal..."},null,512),[[A,_.value]])]),p.value?(o(),t("div",_p,[(o(),t(v,null,f(4,e=>y(tp,{key:e})),64))])):(o(),t("div",Pp,[j.value.length?c("",!0):(o(),t("p",Np,"No se encontró personal.")),(o(!0),t(v,null,f(j.value,e=>(o(),w(Km,{key:e.id,employee:e,onRemove:H,onView:J},null,8,["employee"]))),128))])),O.value.last_page>1?(o(),t("div",Lp,[n("button",{class:"pagination-button",disabled:!I.value.prev,onClick:K},"Anterior",8,Ip),n("span",null,r(O.value.current_page)+" / "+r(O.value.last_page),1),n("button",{class:"pagination-button",disabled:!I.value.next,onClick:Z},"Siguiente",8,Op)])):c("",!0)])])),y(yl,{modelValue:x.value,"onUpdate:modelValue":a[5]||(a[5]=e=>x.value=e),title:"Invitar Personal",size:"md"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:a[4]||(a[4]=e=>x.value=!1)}," Cancelar "),n("button",{class:"btn btn-primary",onClick:U,disabled:!P.value||p.value},[p.value?(o(),t("span",$p,"Enviando...")):(o(),t("span",qp,"Enviar invitación"))],8,Up)]),default:k(()=>[n("div",jp,[n("div",Dp,[a[18]||(a[18]=n("label",{for:"invite-email"},"Correo electrónico",-1)),g(n("input",{id:"invite-email",type:"email","onUpdate:modelValue":a[2]||(a[2]=e=>P.value=e),placeholder:"Ingresa el correo electrónico",class:"form-control"},null,512),[[A,P.value]])]),n("div",Mp,[a[20]||(a[20]=n("label",{for:"invite-role"},"Cargo",-1)),g(n("select",{id:"invite-role","onUpdate:modelValue":a[3]||(a[3]=e=>N.value=e),class:"form-control"},a[19]||(a[19]=[n("option",{value:"waiter"},"Mozo",-1),n("option",{value:"kitchen"},"Cocinero",-1),n("option",{value:"cashier"},"Cajero",-1),n("option",{value:"manager"},"Gerente",-1),n("option",{value:"cleaning"},"Limpieza",-1)]),512),[[R,N.value]])])])]),_:1},8,["modelValue"]),y(yl,{modelValue:S.value,"onUpdate:modelValue":a[7]||(a[7]=e=>S.value=e),title:"Desvincular empleado",size:"sm"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:a[6]||(a[6]=e=>S.value=!1)}," Cancelar "),n("button",{class:"btn btn-danger",onClick:W,disabled:p.value},[p.value?(o(),t("span",Vp)):c("",!0),a[21]||(a[21]=d(" Desvincular "))],8,Bp)]),default:k(()=>{var e;return[n("p",null,"¿Estás seguro de que deseas desvincular a "+r(null==(e=T.value)?void 0:e.name)+"?",1),a[22]||(a[22]=n("p",{class:"warning-text"},"Esta acción no se puede deshacer.",-1))]}),_:1,__:[22]},8,["modelValue"])]))}},[["__scopeId","data-v-5a743ae6"]]),Fp=["src","alt"],Hp={key:0,class:"avatar-overlay"},Wp={key:1,class:"avatar-loading"},Gp=ne({__name:"ProfileAvatar",props:{src:{type:String,default:""},alt:{type:String,default:"Foto de perfil"},editable:{type:Boolean,default:!1}},emits:["update:src","file-selected"],setup(e,{emit:s}){const r=e,l=s,i=a(r.src),d=a(!1),m=a(null);P(()=>r.src,e=>{i.value=e});const p=()=>{r.editable&&m.value&&m.value.click()},v=e=>{const a=e.target.files[0];if(!a)return;d.value=!0;const t=new FileReader;t.onload=e=>{i.value=e.target.result,l("update:src",i.value),l("file-selected",a),d.value=!1},t.readAsDataURL(a)};return(a,s)=>(o(),t("div",{class:u(["profile-avatar",{editable:e.editable}]),onClick:p},[n("img",{src:i.value,alt:e.alt,class:"avatar-image"},null,8,Fp),e.editable?(o(),t("div",Hp,s[0]||(s[0]=[n("i",{class:"bi bi-camera"},null,-1)]))):c("",!0),d.value?(o(),t("div",Wp,s[1]||(s[1]=[n("div",{class:"spinner"},null,-1)]))):c("",!0),e.editable?(o(),t("input",{key:2,ref_key:"fileInput",ref:m,type:"file",accept:"image/*",class:"file-input",onChange:v},null,544)):c("",!0)],2))}},[["__scopeId","data-v-32f32e85"]]),Jp={class:"review-card"},Qp={class:"review-header"},Zp={class:"reviewer-info"},Kp=["src","alt"],Yp={class:"reviewer-name"},Xp={class:"review-rating"},ev={class:"stars-container"},av={class:"rating-value"},tv={class:"review-text"},ov={class:"review-footer"},nv={key:0,class:"review-date"},sv=ne({__name:"ReviewCard",props:{review:{type:Object,required:!0},canDelete:{type:Boolean,default:!1}},emits:["delete"],setup(e,{emit:s}){const l=e,i=s,d=a(!1),m=()=>{d.value=!0},p=()=>{i("delete",l.review.id),d.value=!1},g=e=>{if(!e)return"";return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})};return(a,s)=>{var l,i,h;return o(),t("div",Jp,[n("div",Qp,[n("div",Zp,[n("img",{src:null==(l=e.review.reviewer)?void 0:l.avatar,alt:null==(i=e.review.reviewer)?void 0:i.name,class:"reviewer-avatar"},null,8,Kp),n("h3",Yp,r(null==(h=e.review.reviewer)?void 0:h.name),1)]),n("div",Xp,[n("div",ev,[(o(),t(v,null,f(5,a=>n("i",{key:a,class:u(["bi",a<=e.review.rating?"bi-star-fill":"bi-star"])},null,2)),64))]),n("span",av,r(e.review.rating),1)]),e.canDelete?(o(),t("button",{key:0,class:"delete-button",onClick:m,"aria-label":"Eliminar reseña"},s[2]||(s[2]=[n("i",{class:"bi bi-trash"},null,-1)]))):c("",!0)]),n("p",tv,r(e.review.comment),1),n("div",ov,[e.review.date?(o(),t("span",nv,r(g(e.review.date)),1)):c("",!0)]),d.value?(o(),w(yl,{key:0,modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=e=>d.value=e),title:"Eliminar reseña",size:"sm"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:s[0]||(s[0]=e=>d.value=!1)}," Cancelar "),n("button",{class:"btn btn-danger",onClick:p}," Eliminar ")]),default:k(()=>[s[3]||(s[3]=n("p",null,"¿Estás seguro de que deseas eliminar esta reseña?",-1)),s[4]||(s[4]=n("p",{class:"warning-text"},"Esta acción no se puede deshacer.",-1))]),_:1,__:[3,4]},8,["modelValue"])):c("",!0)])}}},[["__scopeId","data-v-078b8c5b"]]),rv={class:"staff-detail-container"},lv={key:0,class:"loading-container"},iv={key:1,class:"error-container"},cv={key:2,class:"staff-detail-content"},dv={class:"profile-card"},uv={class:"profile-header"},mv={class:"profile-name-container"},pv={class:"profile-data"},vv={class:"data-row"},fv={key:0,class:"text-muted",style:{"font-size":"0.875rem"}},gv={class:"data-row"},hv={class:"data-row"},bv={class:"data-row"},wv={class:"data-row"},yv={class:"data-row"},kv={class:"data-row"},Cv={class:"data-row"},Ev={class:"data-row"},xv={class:"data-row"},Sv={class:"data-row"},Av={class:"data-row"},Tv={class:"data-row"},Rv={class:"data-row"},_v={class:"data-row"},Pv={class:"profile-actions"},Nv={class:"reviews-section d-none"},Lv={class:"reviews-header"},Iv={class:"average-rating"},Ov={class:"stars-container"},jv={class:"rating-text"},Dv={class:"add-review-buttons"},Mv={key:0,class:"empty-reviews"},Uv={key:1,class:"reviews-list"},$v={class:"confirm-content"},qv={class:"confirm-input"},Bv=["disabled"],Vv={class:"add-review-form"},zv={class:"rating-input"},Fv={class:"star-rating"},Hv=["onClick"],Wv={class:"comment-input"},Gv=["disabled"],Jv={key:0},Qv={key:1},Zv=ne({__name:"StaffDetail",setup(e){const p=b(),h=i(),C=Vt(),E=p.params.id,x=a(!1),S=a(""),T=a(null),R=a(!1),_=a(!1),P=a(""),N=a({rating:5,comment:""}),L=a(!1),I={experience:"experience_years",seniority:"seniority_years",schedule:"employment_type",currentSchedule:"current_schedule"};m(async()=>{x.value=!0,S.value="";try{const e=await C.fetchStaffMember(E);T.value=e}catch(e){S.value=e.message||"Error al cargar datos del empleado"}finally{x.value=!1}});const O=async()=>{if("ELIMINAR"===P.value){x.value=!0,S.value="";try{await C.removeStaff(E),h.push("/admin/staff")}catch(e){S.value=e.message||"Error al eliminar al miembro del personal"}finally{x.value=!1,R.value=!1}}},j=async(e,a)=>{if(!T.value)return;if("birth_date"===e){const e=new Date(a),t=new Date;let o=t.getFullYear()-e.getFullYear();const n=t.getMonth()-e.getMonth();if((n<0||0===n&&t.getDate()<e.getDate())&&o--,o<16)return void(S.value="El empleado debe ser mayor de 16 años")}L.value=!0;const t=I[e]||e;try{if(await C.updateStaffMember(E,{[t]:a}),T.value[t]=a,T.value[e]=a,"birth_date"===e){const e=new Date(a).toLocaleDateString("es-ES");T.value.birthdate_formatted=e}}catch(o){S.value=o.message||`Error al actualizar ${e}`}finally{L.value=!1}},D=async e=>{if(e)try{L.value=!0;const a=new FormData;a.append("avatar",e),await C.updateStaffMember(E,a,!0);const t=new FileReader;t.onload=e=>{T.value&&(T.value.avatar_url=e.target.result)},t.readAsDataURL(e)}catch(a){S.value=a.message||"Error al subir avatar"}finally{L.value=!1}},M=async e=>{if(T.value)try{L.value=!0,await C.deleteReview(E,e),T.value.reviews=T.value.reviews.filter(a=>a.id!==e)}catch(a){S.value=a.message||"Error al eliminar reseña"}finally{L.value=!1}},U=async()=>{if(T.value&&N.value.comment)try{L.value=!0;const e=await C.addReview(E,N.value);T.value.reviews.push(e),N.value={rating:5,comment:""},_.value=!1}catch(e){S.value=e.message||"Error al agregar reseña"}finally{L.value=!1}},$=()=>{if(T.value&&T.value.phone){const e=encodeURIComponent("Hola, te contacto desde la app MOZO.");window.open(`https://wa.me/${T.value.phone}?text=${e}`,"_blank")}else alert("Este empleado no tiene un número de teléfono registrado.")},q=()=>{h.push("/admin/staff")},B=[{value:"Masculino",label:"Masculino"},{value:"Femenino",label:"Femenino"},{value:"No binario",label:"No binario"},{value:"Prefiero no especificar",label:"Prefiero no especificar"}],V=[{value:"Gerente",label:"Gerente"},{value:"Mozo",label:"Mozo"},{value:"Cajero",label:"Cajero"},{value:"Cocinero",label:"Cocinero"},{value:"Limpieza",label:"Limpieza"}],z=[{value:"Tiempo completo",label:"Tiempo completo"},{value:"Medio tiempo",label:"Medio tiempo"},{value:"Por horas",label:"Por horas"},{value:"Fines de semana",label:"Fines de semana"}],F=()=>{_.value=!0},H=l(()=>{if(!T.value||!T.value.reviews.length)return 0;return(T.value.reviews.reduce((e,a)=>e+a.rating,0)/T.value.reviews.length).toFixed(1)}),W=l(()=>T.value&&T.value.reviews.length?[...T.value.reviews].sort((e,a)=>new Date(a.date)-new Date(e.date)):[]),G=l(()=>{if(!T.value||!T.value.birth_date)return null;const e=new Date(T.value.birth_date),a=new Date;let t=a.getFullYear()-e.getFullYear();const o=a.getMonth()-e.getMonth();return(o<0||0===o&&a.getDate()<e.getDate())&&t--,t});return(e,a)=>(o(),t("div",rv,[n("div",{class:"staff-header"},[n("button",{class:"back-button",onClick:q},a[24]||(a[24]=[n("i",{class:"bi bi-arrow-left"},null,-1),d(" Volver ")]))]),x.value?(o(),t("div",lv,a[25]||(a[25]=[n("div",{class:"loading-spinner"},null,-1),n("p",null,"Cargando datos del empleado...",-1)]))):S.value?(o(),t("div",iv,[n("p",null,r(S.value),1),y(Im,{onClick:a[0]||(a[0]=a=>e.$router.go(0)),variant:"primary"},{default:k(()=>a[26]||(a[26]=[d(" Reintentar ")])),_:1,__:[26]})])):T.value?(o(),t("div",cv,[n("div",dv,[n("div",uv,[y(Gp,{src:T.value.avatar_url,alt:`Foto de ${T.value.name}`,editable:!0,onFileSelected:D},null,8,["src","alt"]),n("div",mv,[y(Ns,{value:T.value.name,"onUpdate:value":a[1]||(a[1]=e=>j("name",e)),type:"text",placeholder:"Nombre completo",editable:!0,class:"profile-name"},null,8,["value"])])]),n("div",pv,[n("div",vv,[y(Ns,{value:T.value.birth_date,"display-value":T.value.birthdate_formatted,label:"Fecha de nacimiento","onUpdate:value":a[2]||(a[2]=e=>j("birth_date",e)),type:"date",editable:!0},null,8,["value","display-value"]),G.value?(o(),t("div",fv,"Edad: "+r(G.value)+" años",1)):c("",!0)]),n("div",gv,[y(Ns,{value:T.value.height,label:"Estatura","onUpdate:value":a[3]||(a[3]=e=>j("height",e)),type:"number",min:1,max:2.5,step:.01,unit:"mt",editable:!0},null,8,["value"])]),n("div",hv,[y(Ns,{value:T.value.weight,label:"Peso","onUpdate:value":a[4]||(a[4]=e=>j("weight",e)),type:"number",min:30,max:200,unit:"kg",editable:!0},null,8,["value"])]),n("div",bv,[y(Ns,{value:T.value.gender,label:"Sexo","onUpdate:value":a[5]||(a[5]=e=>j("gender",e)),type:"select",options:B,editable:!0},null,8,["value"])]),n("div",wv,[y(Ns,{value:T.value.experience_years,label:"Años de experiencia","onUpdate:value":a[6]||(a[6]=e=>j("experience",e)),type:"number",min:0,max:50,unit:"años",editable:!0},null,8,["value"])]),n("div",yv,[y(Ns,{value:T.value.seniority_years,label:"Antigüedad","onUpdate:value":a[7]||(a[7]=e=>j("seniority",e)),type:"number",min:0,max:50,unit:"años de antigüedad",editable:!0},null,8,["value"])]),n("div",kv,[y(Ns,{value:T.value.email,label:"Email","onUpdate:value":a[8]||(a[8]=e=>j("email",e)),type:"text",editable:!0},null,8,["value"])]),n("div",Cv,[y(Ns,{value:T.value.phone,label:"Teléfono","onUpdate:value":a[9]||(a[9]=e=>j("phone",e)),type:"text",editable:!0},null,8,["value"])]),n("div",Ev,[y(Ns,{value:T.value.hire_date,label:"Fecha de contratación","onUpdate:value":a[10]||(a[10]=e=>j("hire_date",e)),type:"date",editable:!0},null,8,["value"])]),n("div",xv,[y(Ns,{value:T.value.position,label:"Cargo","onUpdate:value":a[11]||(a[11]=e=>j("position",e)),type:"select",options:V,editable:!0},null,8,["value"])]),n("div",Sv,[y(Ns,{value:T.value.salary,label:"Salario","onUpdate:value":a[12]||(a[12]=e=>j("salary",e)),type:"number",min:0,step:.01,unit:"$",editable:!0},null,8,["value"])]),n("div",Av,[y(Ns,{value:T.value.notes,label:"Notas","onUpdate:value":a[13]||(a[13]=e=>j("notes",e)),type:"textarea",editable:!0},null,8,["value"])]),n("div",Tv,[y(Ns,{value:T.value.education,label:"Condición","onUpdate:value":a[14]||(a[14]=e=>j("education",e)),type:"text",editable:!0},null,8,["value"])]),n("div",Rv,[y(Ns,{value:T.value.employment_type,label:"Modalidad","onUpdate:value":a[15]||(a[15]=e=>j("schedule",e)),type:"select",options:z,editable:!0},null,8,["value"])]),n("div",_v,[y(Ns,{value:T.value.current_schedule,label:"Horario actual","onUpdate:value":a[16]||(a[16]=e=>j("currentSchedule",e)),type:"text",editable:!0},null,8,["value"])])]),n("div",Pv,[y(Im,{variant:"primary",onClick:a[17]||(a[17]=a=>e.$router.push(`/admin/staff/${s(E)}/history`)),class:"action-button d-none"},{default:k(()=>a[27]||(a[27]=[d(" Ver historial ")])),_:1,__:[27]}),y(Im,{variant:"secondary",onClick:e.sendMessage,class:"action-button"},{default:k(()=>a[28]||(a[28]=[d(" Mandar mensaje ")])),_:1,__:[28]},8,["onClick"])])]),n("div",Nv,[n("div",Lv,[a[31]||(a[31]=n("h2",{class:"section-title"},"Reseñas",-1)),n("div",Iv,[n("div",Ov,[(o(),t(v,null,f(5,e=>n("i",{key:e,class:u(["bi",e<=Math.round(T.value.rating)?"bi-star-fill":"bi-star"])},null,2)),64))]),n("span",jv,r(H.value),1)]),n("div",Dv,[y(Im,{onClick:F,variant:"primary",class:"add-review-button"},{default:k(()=>a[29]||(a[29]=[n("i",{class:"bi bi-plus-lg"},null,-1),d(" Añadir reseña ")])),_:1,__:[29]}),y(Im,{onClick:$,variant:"secondary"},{default:k(()=>a[30]||(a[30]=[n("i",{class:"bi bi-whatsapp"},null,-1),d(" Contactar ")])),_:1,__:[30]})])]),W.value.length?(o(),t("div",Uv,[(o(!0),t(v,null,f(W.value,e=>(o(),w(sv,{key:e.id,review:e,"can-delete":!0,onDelete:M},null,8,["review"]))),128))])):(o(),t("div",Mv,a[32]||(a[32]=[n("p",null,"No hay reseñas todavía.",-1)])))])])):c("",!0),y(yl,{modelValue:R.value,"onUpdate:modelValue":a[20]||(a[20]=e=>R.value=e),title:"Eliminar empleado",size:"md"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:a[19]||(a[19]=e=>R.value=!1)}," Cancelar "),n("button",{class:"btn btn-danger",onClick:O,disabled:"ELIMINAR"!==P.value}," Eliminar ",8,Bv)]),default:k(()=>{var e;return[n("div",$v,[n("p",null,"¿Estás seguro de que deseas eliminar a "+r(null==(e=T.value)?void 0:e.name)+" del personal?",1),a[34]||(a[34]=n("p",{class:"confirm-warning"},"Esta acción no se puede deshacer.",-1)),n("div",qv,[a[33]||(a[33]=n("label",{for:"confirm-text"},'Escribe "ELIMINAR" para confirmar',-1)),g(n("input",{type:"text",id:"confirm-text","onUpdate:modelValue":a[18]||(a[18]=e=>P.value=e),class:"form-control"},null,512),[[A,P.value]])])])]}),_:1},8,["modelValue"]),y(yl,{modelValue:_.value,"onUpdate:modelValue":a[23]||(a[23]=e=>_.value=e),title:"Añadir nueva reseña",size:"md"},{footer:k(()=>[n("button",{class:"btn btn-secondary",onClick:a[22]||(a[22]=e=>_.value=!1)}," Cancelar "),n("button",{class:"btn btn-primary",onClick:U,disabled:!N.value.comment||L.value},[L.value?(o(),t("span",Jv,"Guardando...")):(o(),t("span",Qv,"Guardar reseña"))],8,Gv)]),default:k(()=>[n("div",Vv,[n("div",zv,[a[35]||(a[35]=n("label",null,"Calificación",-1)),n("div",Fv,[(o(),t(v,null,f(5,e=>n("button",{key:e,type:"button",class:u(["star-button",{active:e<=N.value.rating}]),onClick:a=>N.value.rating=e},[n("i",{class:u(["bi",e<=N.value.rating?"bi-star-fill":"bi-star"])},null,2)],10,Hv)),64))])]),n("div",Wv,[a[36]||(a[36]=n("label",{for:"review-comment"},"Comentario",-1)),g(n("textarea",{id:"review-comment","onUpdate:modelValue":a[21]||(a[21]=e=>N.value.comment=e),rows:"4",placeholder:"Escribe tu comentario aquí...",class:"form-control"},null,512),[[A,N.value.comment]])])])]),_:1},8,["modelValue"])]))}},[["__scopeId","data-v-fb5e31c6"]]),Kv={class:"profile-container"},Yv={key:0,class:"loading-container"},Xv={key:1,class:"alert alert-danger"},ef={key:2,class:"alert alert-success"},af={key:3,class:"profile-content"},tf={class:"profile-card"},of={class:"profile-main"},nf={class:"profile-image-container"},sf=["src"],rf={class:"profile-info"},lf={class:"form-group"},cf=["disabled"],df={class:"form-group"},uf=["disabled"],mf={class:"form-group"},pf=["disabled"],vf={class:"form-group"},ff=["disabled"],gf={class:"form-group"},hf={class:"form-group"},bf=["disabled"],wf={class:"form-group"},yf=["disabled"],kf={key:0,class:"form-text"},Cf={class:"form-group"},Ef=["disabled"],xf={key:0,class:"form-text"},Sf={class:"profile-actions"},Af=["disabled"],Tf={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},Rf=["disabled"],_f={class:"confirm-content"},Pf={class:"confirm-input"},Nf=["disabled"],Lf=["disabled"],If=["disabled"],Of={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},jf=ne({__name:"Profile",setup(e){const s=i(),u=It(),p=a({name:"",email:"",phone:"",avatar:"",role:"admin",business:{name:"",code:""}}),v=a({current:"",new:"",confirm:""}),f=a(!0),h=a(!1),b=a(""),w=a(""),C=a(null),E=a(null),x=a(!1),T=a(""),R=a(!1),_=l(()=>!v.value.new||v.value.new.length>=8),P=l(()=>!v.value.new||!v.value.confirm||v.value.new===v.value.confirm),N=l(()=>!(!p.value.name||!p.value.email)&&(!(v.value.current||v.value.new||v.value.confirm)||v.value.current&&_.value&&P.value)),L=e=>{const a=e.target.files[0];if(!a)return;if(a.size>5242880)return void(b.value="La imagen no puede ser mayor a 5MB");E.value=a;const t=new FileReader;t.onload=e=>{C.value=e.target.result},t.readAsDataURL(a)},I=async()=>{var e,a;if(N.value){h.value=!0,b.value="",w.value="";try{const e=new FormData;e.append("name",p.value.name),e.append("email",p.value.email),e.append("phone",p.value.phone||""),E.value&&e.append("avatar",E.value),v.value.current&&v.value.new&&(e.append("current_password",v.value.current),e.append("password",v.value.new),e.append("password_confirmation",v.value.confirm)),console.log("Perfil actualizado:",{name:p.value.name,email:p.value.email,phone:p.value.phone,passwordChanged:!!v.value.current,avatarChanged:!!E.value});const a=u.getUser();a&&(a.name=p.value.name,a.email=p.value.email,a.phone=p.value.phone,C.value&&(a.avatar=C.value),u.setUser(a)),v.value.current="",v.value.new="",v.value.confirm="",E.value=null,w.value="Perfil actualizado correctamente"}catch(t){console.error("Error al actualizar perfil:",t),b.value=(null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||"No se pudo actualizar el perfil. Por favor, inténtalo de nuevo."}finally{h.value=!1}}},O=async()=>{var e,a;if("ELIMINAR"===T.value){R.value=!0;try{console.log("Cuenta eliminada"),await u.logout(),s.push("/login")}catch(t){console.error("Error al eliminar cuenta:",t),b.value=(null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.message)||"No se pudo eliminar la cuenta. Por favor, inténtalo de nuevo.",x.value=!1,T.value="",R.value=!1}}},j=()=>{s.push("/admin")};return m(()=>{(async()=>{f.value=!0,b.value="";try{const e=u.getUser()||{id:"1",name:"Administrador",email:"admin@ejemplo.com",phone:"555-987-6543",avatar:"https://randomuser.me/api/portraits/men/42.jpg",role:"admin",business:{name:"Mi Restaurante",code:"FGT-464"}};p.value={...e}}catch(e){console.error("Error al cargar datos del usuario:",e),b.value="No se pudieron cargar tus datos. Por favor, inténtalo de nuevo."}finally{f.value=!1}})()}),(e,a)=>(o(),t("div",Kv,[n("div",{class:"profile-header"},[n("button",{class:"back-button",onClick:j}," ← Volver ")]),f.value&&!p.value.name?(o(),t("div",Yv,a[12]||(a[12]=[n("div",{class:"loading-spinner"},null,-1),n("p",null,"Cargando datos del perfil...",-1)]))):c("",!0),b.value?(o(),t("div",Xv,r(b.value),1)):c("",!0),w.value?(o(),t("div",ef,r(w.value),1)):c("",!0),!f.value||p.value.name?(o(),t("div",af,[n("div",tf,[n("div",of,[n("div",nf,[n("img",{src:C.value||p.value.avatar||"/placeholder-avatar.png",alt:"Foto de perfil",class:"profile-image"},null,8,sf),a[13]||(a[13]=n("label",{for:"avatar-upload",class:"avatar-edit-btn"},[n("i",{class:"bi bi-camera"})],-1)),n("input",{type:"file",id:"avatar-upload",accept:"image/*",class:"visually-hidden",onChange:L},null,32)]),n("div",rf,[n("form",{onSubmit:S(I,["prevent"])},[n("div",lf,[a[14]||(a[14]=n("label",{for:"name"},"Nombre completo",-1)),g(n("input",{type:"text",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>p.value.name=e),class:"form-control",required:"",disabled:h.value},null,8,cf),[[A,p.value.name]])]),n("div",df,[a[15]||(a[15]=n("label",{for:"email"},"Correo electrónico",-1)),g(n("input",{type:"email",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>p.value.email=e),class:"form-control",required:"",disabled:h.value},null,8,uf),[[A,p.value.email]])]),n("div",mf,[a[16]||(a[16]=n("label",{for:"phone"},"Teléfono",-1)),g(n("input",{type:"tel",id:"phone","onUpdate:modelValue":a[2]||(a[2]=e=>p.value.phone=e),class:"form-control",disabled:h.value},null,8,pf),[[A,p.value.phone]])]),n("div",vf,[a[17]||(a[17]=n("label",{for:"business-name"},"Nombre del negocio",-1)),g(n("input",{type:"text",id:"business-name","onUpdate:modelValue":a[3]||(a[3]=e=>p.value.business.name=e),class:"form-control",disabled:h.value},null,8,ff),[[A,p.value.business.name]])]),n("div",gf,[a[18]||(a[18]=n("label",{for:"business-code"},"Código del negocio",-1)),g(n("input",{type:"text",id:"business-code","onUpdate:modelValue":a[4]||(a[4]=e=>p.value.business.code=e),class:"form-control",disabled:""},null,512),[[A,p.value.business.code]])]),a[23]||(a[23]=n("div",{class:"profile-divider"},[n("h3",null,"Cambiar contraseña")],-1)),n("div",hf,[a[19]||(a[19]=n("label",{for:"current-password"},"Contraseña actual",-1)),g(n("input",{type:"password",id:"current-password","onUpdate:modelValue":a[5]||(a[5]=e=>v.value.current=e),class:"form-control",disabled:h.value},null,8,bf),[[A,v.value.current]])]),n("div",wf,[a[20]||(a[20]=n("label",{for:"new-password"},"Nueva contraseña",-1)),g(n("input",{type:"password",id:"new-password","onUpdate:modelValue":a[6]||(a[6]=e=>v.value.new=e),class:"form-control",disabled:h.value},null,8,yf),[[A,v.value.new]]),v.value.new&&!_.value?(o(),t("div",kf," La contraseña debe tener al menos 8 caracteres ")):c("",!0)]),n("div",Cf,[a[21]||(a[21]=n("label",{for:"confirm-password"},"Confirmar nueva contraseña",-1)),g(n("input",{type:"password",id:"confirm-password","onUpdate:modelValue":a[7]||(a[7]=e=>v.value.confirm=e),class:"form-control",disabled:h.value},null,8,Ef),[[A,v.value.confirm]]),v.value.confirm&&!P.value?(o(),t("div",xf," Las contraseñas no coinciden ")):c("",!0)]),n("div",Sf,[n("button",{type:"submit",class:"btn btn-primary",disabled:h.value||!N.value},[h.value?(o(),t("span",Tf)):c("",!0),a[22]||(a[22]=d(" Guardar cambios "))],8,Af),n("button",{type:"button",class:"btn btn-danger",onClick:a[8]||(a[8]=e=>x.value=!0),disabled:h.value}," Eliminar cuenta ",8,Rf)])],32)])])])])):c("",!0),y(yl,{modelValue:x.value,"onUpdate:modelValue":a[11]||(a[11]=e=>x.value=e),title:"Eliminar cuenta",size:"md"},{footer:k(()=>[n("button",{type:"button",class:"btn btn-secondary",onClick:a[10]||(a[10]=e=>x.value=!1),disabled:R.value}," Cancelar ",8,Lf),n("button",{type:"button",class:"btn btn-danger",onClick:O,disabled:"ELIMINAR"!==T.value||R.value},[R.value?(o(),t("span",Of)):c("",!0),a[27]||(a[27]=d(" Eliminar mi cuenta "))],8,If)]),default:k(()=>[n("div",_f,[a[25]||(a[25]=n("p",null,"¿Estás seguro de que deseas eliminar tu cuenta? Esta acción no se puede deshacer.",-1)),a[26]||(a[26]=n("div",{class:"alert alert-danger"},[n("i",{class:"bi bi-exclamation-triangle-fill me-2"}),d(" Al eliminar tu cuenta perderás todo el acceso a tus datos y negocios asociados. ")],-1)),n("div",Pf,[a[24]||(a[24]=n("label",{for:"confirm-delete"},'Escribe "ELIMINAR" para confirmar',-1)),g(n("input",{type:"text",class:"form-control",id:"confirm-delete","onUpdate:modelValue":a[9]||(a[9]=e=>T.value=e),disabled:R.value},null,8,Nf),[[A,T.value]])])])]),_:1},8,["modelValue"])]))}},[["__scopeId","data-v-8ebf3b12"]]),Df={class:"settings-container"},Mf={key:0,class:"loading-container"},Uf={key:1,class:"error-container"},$f={key:2,class:"settings-content"},qf={key:0,class:"success-message"},Bf={class:"settings-section"},Vf={class:"form-group"},zf={class:"form-group"},Ff={class:"form-row"},Hf={class:"form-group"},Wf={class:"form-group"},Gf={class:"form-group"},Jf={class:"form-actions"},Qf={class:"settings-section"},Zf={class:"section-header"},Kf={key:0,class:"empty-tables"},Yf={key:1,class:"tables-list"},Xf={class:"table-info"},eg={class:"table-number"},ag={class:"table-details"},tg={class:"table-name"},og={class:"table-capacity"},ng={class:"table-actions"},sg=["onClick"],rg=["onClick"],lg={class:"settings-section danger-zone"},ig={class:"form-row"},cg={class:"form-group"},dg={class:"form-group"},ug={class:"form-group"},mg={class:"form-row"},pg={class:"form-group"},vg={class:"form-group"},fg={class:"form-group"},gg={class:"confirm-content"},hg=ne({__name:"Settings",setup(e){const s=i(),l=Vt(),u=It(),p=a(!1),h=a(""),b=a(""),C=a(null),E=a([]),x=a(!1),T=a(!1),R=a(!1),_=a(null),P=O({number:"",name:"",capacity:4});m(async()=>{p.value=!0,h.value="";try{const[e,a]=await Promise.all([l.fetchBusinessData(),l.fetchTables()]);C.value=e||{},E.value=a||[]}catch(e){h.value=e.message||"Error al cargar datos"}finally{p.value=!1}});const N=async()=>{if(C.value){p.value=!0,h.value="",b.value="";try{await l.updateBusinessData(C.value),b.value="Configuración guardada con éxito"}catch(e){h.value=e.message||"Error al guardar configuración"}finally{p.value=!1}}},L=async()=>{if(P.number&&P.capacity){p.value=!0,h.value="";try{const e=await l.createTable(P);e&&(E.value.push(e),P.number="",P.name="",P.capacity=4,x.value=!1)}catch(e){h.value=e.message||"Error al crear mesa"}finally{p.value=!1}}else h.value="Por favor, completa todos los campos requeridos"},I=async()=>{if(_.value){p.value=!0,h.value="";try{await l.updateTable(_.value),E.value=E.value.map(e=>e.id===_.value.id?_.value:e),T.value=!1,_.value=null}catch(e){h.value=e.message||"Error al actualizar mesa"}finally{p.value=!1}}},j=async()=>{if(_.value){p.value=!0,h.value="";try{await l.deleteTable(_.value.id),E.value=E.value.filter(e=>e.id!==_.value.id),R.value=!1,_.value=null}catch(e){h.value=e.message||"Error al eliminar mesa"}finally{p.value=!1}}},D=()=>{s.push({name:"admin-home"})},M=async()=>{await u.logout(),s.push("/login")};return(e,a)=>(o(),t("div",Df,[n("div",{class:"settings-header"},[n("button",{class:"back-button",onClick:D}," ← Volver "),a[19]||(a[19]=n("h1",null,"Configuración",-1))]),p.value?(o(),t("div",Mf,a[20]||(a[20]=[n("div",{class:"loading-spinner"},null,-1),n("p",null,"Cargando configuración...",-1)]))):h.value?(o(),t("div",Uf,[n("p",null,r(h.value),1),y(Im,{onClick:a[0]||(a[0]=a=>e.$router.go(0)),variant:"primary"},{default:k(()=>a[21]||(a[21]=[d(" Reintentar ")])),_:1,__:[21]})])):C.value?(o(),t("div",$f,[b.value?(o(),t("div",qf,r(b.value),1)):c("",!0),n("div",Bf,[a[28]||(a[28]=n("h2",null,"Información del negocio",-1)),n("form",{onSubmit:S(N,["prevent"]),class:"business-form"},[n("div",Vf,[a[22]||(a[22]=n("label",{for:"business-name"},"Nombre del restaurante",-1)),g(n("input",{id:"business-name",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>C.value.name=e),required:""},null,512),[[A,C.value.name]])]),n("div",zf,[a[23]||(a[23]=n("label",{for:"business-address"},"Dirección",-1)),g(n("input",{id:"business-address",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>C.value.address=e)},null,512),[[A,C.value.address]])]),n("div",Ff,[n("div",Hf,[a[24]||(a[24]=n("label",{for:"business-phone"},"Teléfono",-1)),g(n("input",{id:"business-phone",type:"tel","onUpdate:modelValue":a[3]||(a[3]=e=>C.value.phone=e)},null,512),[[A,C.value.phone]])]),n("div",Wf,[a[25]||(a[25]=n("label",{for:"business-email"},"Email",-1)),g(n("input",{id:"business-email",type:"email","onUpdate:modelValue":a[4]||(a[4]=e=>C.value.email=e)},null,512),[[A,C.value.email]])])]),n("div",Gf,[a[26]||(a[26]=n("label",{for:"business-description"},"Descripción",-1)),g(n("textarea",{id:"business-description","onUpdate:modelValue":a[5]||(a[5]=e=>C.value.description=e),rows:"3"},null,512),[[A,C.value.description]])]),n("div",Jf,[y(Im,{type:"submit",variant:"primary",loading:p.value},{default:k(()=>a[27]||(a[27]=[d(" Guardar cambios ")])),_:1,__:[27]},8,["loading"])])],32)]),n("div",Qf,[n("div",Zf,[a[30]||(a[30]=n("h2",null,"Mesas",-1)),y(Im,{onClick:a[6]||(a[6]=e=>x.value=!0),variant:"primary"},{default:k(()=>a[29]||(a[29]=[d(" Añadir mesa ")])),_:1,__:[29]})]),0===E.value.length?(o(),t("div",Kf,a[31]||(a[31]=[n("p",null,"No hay mesas configuradas",-1),n("p",null,"Añade mesas para que los clientes puedan hacer pedidos",-1)]))):(o(),t("div",Yf,[(o(!0),t(v,null,f(E.value,e=>(o(),t("div",{key:e.id,class:"table-card"},[n("div",Xf,[n("div",eg,r(e.number),1),n("div",ag,[n("span",tg,r(e.name||`Mesa ${e.number}`),1),n("span",og,r(e.capacity)+" personas",1)])]),n("div",ng,[n("button",{onClick:a=>(e=>{_.value={...e},T.value=!0})(e),class:"edit-button"}," Editar ",8,sg),n("button",{onClick:a=>(e=>{_.value=e,R.value=!0})(e),class:"delete-button"}," Eliminar ",8,rg)])]))),128))]))]),n("div",lg,[a[33]||(a[33]=n("h2",null,"Cerrar Sesión",-1)),a[34]||(a[34]=n("p",null,"Finaliza tu sesión actual de forma segura.",-1)),y(Im,{onClick:M,variant:"danger-outline"},{default:k(()=>a[32]||(a[32]=[d(" Cerrar sesión ")])),_:1,__:[32]})])])):c("",!0),y(yl,{modelValue:x.value,"onUpdate:modelValue":a[11]||(a[11]=e=>x.value=e),title:"Añadir nueva mesa",size:"md"},{footer:k(()=>[y(Im,{onClick:a[10]||(a[10]=e=>x.value=!1),variant:"outline"},{default:k(()=>a[38]||(a[38]=[d(" Cancelar ")])),_:1,__:[38]}),y(Im,{onClick:L,variant:"primary",loading:p.value},{default:k(()=>a[39]||(a[39]=[d(" Añadir ")])),_:1,__:[39]},8,["loading"])]),default:k(()=>[n("form",{onSubmit:S(L,["prevent"]),class:"table-form"},[n("div",ig,[n("div",cg,[a[35]||(a[35]=n("label",{for:"table-number"},"Número*",-1)),g(n("input",{id:"table-number",type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>P.number=e),min:"1",required:""},null,512),[[A,P.number]])]),n("div",dg,[a[36]||(a[36]=n("label",{for:"table-capacity"},"Capacidad*",-1)),g(n("input",{id:"table-capacity",type:"number","onUpdate:modelValue":a[8]||(a[8]=e=>P.capacity=e),min:"1",required:""},null,512),[[A,P.capacity]])])]),n("div",ug,[a[37]||(a[37]=n("label",{for:"table-name"},"Nombre (opcional)",-1)),g(n("input",{id:"table-name",type:"text","onUpdate:modelValue":a[9]||(a[9]=e=>P.name=e),placeholder:"Ej: Terraza 1"},null,512),[[A,P.name]])])],32)]),_:1},8,["modelValue"]),_.value?(o(),w(yl,{key:3,modelValue:T.value,"onUpdate:modelValue":a[16]||(a[16]=e=>T.value=e),title:"Editar mesa",size:"md"},{footer:k(()=>[y(Im,{onClick:a[15]||(a[15]=e=>T.value=!1),variant:"outline"},{default:k(()=>a[43]||(a[43]=[d(" Cancelar ")])),_:1,__:[43]}),y(Im,{onClick:I,variant:"primary",loading:p.value},{default:k(()=>a[44]||(a[44]=[d(" Guardar ")])),_:1,__:[44]},8,["loading"])]),default:k(()=>[n("form",{onSubmit:S(I,["prevent"]),class:"table-form"},[n("div",mg,[n("div",pg,[a[40]||(a[40]=n("label",{for:"edit-table-number"},"Número*",-1)),g(n("input",{id:"edit-table-number",type:"number","onUpdate:modelValue":a[12]||(a[12]=e=>_.value.number=e),min:"1",required:""},null,512),[[A,_.value.number]])]),n("div",vg,[a[41]||(a[41]=n("label",{for:"edit-table-capacity"},"Capacidad*",-1)),g(n("input",{id:"edit-table-capacity",type:"number","onUpdate:modelValue":a[13]||(a[13]=e=>_.value.capacity=e),min:"1",required:""},null,512),[[A,_.value.capacity]])])]),n("div",fg,[a[42]||(a[42]=n("label",{for:"edit-table-name"},"Nombre (opcional)",-1)),g(n("input",{id:"edit-table-name",type:"text","onUpdate:modelValue":a[14]||(a[14]=e=>_.value.name=e),placeholder:"Ej: Terraza 1"},null,512),[[A,_.value.name]])])],32)]),_:1},8,["modelValue"])):c("",!0),_.value?(o(),w(yl,{key:4,modelValue:R.value,"onUpdate:modelValue":a[18]||(a[18]=e=>R.value=e),title:"Eliminar mesa",size:"sm"},{footer:k(()=>[y(Im,{onClick:a[17]||(a[17]=e=>R.value=!1),variant:"outline"},{default:k(()=>a[46]||(a[46]=[d(" Cancelar ")])),_:1,__:[46]}),y(Im,{onClick:j,variant:"danger",loading:p.value},{default:k(()=>a[47]||(a[47]=[d(" Eliminar ")])),_:1,__:[47]},8,["loading"])]),default:k(()=>[n("div",gg,[n("p",null,"¿Estás seguro de que deseas eliminar la mesa "+r(_.value.number)+"?",1),a[45]||(a[45]=n("p",{class:"confirm-warning"},"Esta acción no se puede deshacer.",-1))])]),_:1},8,["modelValue"])):c("",!0)]))}},[["__scopeId","data-v-df1a38e7"]]),bg={async getNotifications(){try{return(await Nt.getNotifications()).data}catch(e){throw console.error("Error obteniendo notificaciones:",e),e}},async handleNotification(e,a){try{return(await Nt.handleNotification(e,{action:a})).data}catch(t){throw console.error("Error manejando notificación:",t),t}},async globalNotifications(e){try{return(await Nt.globalNotifications({enabled:e})).data}catch(a){throw console.error("Error configurando notificaciones globales:",a),a}},async getWaiterNotifications(){try{return(await Nt.getWaiterNotifications()).data}catch(e){throw console.error("Error obteniendo notificaciones de mozo:",e),e}},async handleWaiterNotification(e,a){try{return(await Nt.handleWaiterNotification(e,{action:a})).data}catch(t){throw console.error("Error manejando notificación de mozo:",t),t}},async waiterGlobalNotifications(e){try{return(await Nt.waiterGlobalNotifications({enabled:e})).data}catch(a){throw console.error("Error configurando notificaciones globales de mozo:",a),a}},async waiterToggleTableNotifications(e){try{return(await Nt.waiterToggleTableNotifications(e)).data}catch(a){throw console.error("Error alternando notificaciones de mesa para mozo:",a),a}},async getAdminNotifications(){try{return(await Nt.getAdminNotifications()).data}catch(e){throw console.error("Error obteniendo notificaciones de administrador:",e),e}},async storeDeviceToken(e,a="web"){try{return(await Nt.storeDeviceToken({token:e,platform:a})).data}catch(t){throw console.error("Error guardando token de dispositivo:",t),t}},async deleteDeviceToken(e){try{return(await Nt.deleteDeviceToken({token:e})).data}catch(a){throw console.error("Error eliminando token de dispositivo:",a),a}},async toggleTableNotifications(e){try{return(await Nt.toggleTableNotifications(e)).data}catch(a){throw console.error("Error alternando notificaciones de mesa:",a),a}},async callWaiter(e){try{return(await Nt.callWaiter(e)).data}catch(a){throw console.error("Error llamando al camarero:",a),a}},async markAllAsRead(e){try{const a=e.map(e=>this.handleNotification(e.id,"mark_as_read"));return await Promise.all(a)}catch(a){throw console.error("Error marcando todas como leídas:",a),a}},async deleteAllRead(e){try{const a=e.map(e=>this.handleNotification(e.id,"delete"));return await Promise.all(a)}catch(a){throw console.error("Error eliminando todas las leídas:",a),a}},async getNotificationsByRole(e){try{switch(e){case"waiter":return await this.getWaiterNotifications();case"admin":return await this.getAdminNotifications();default:return await this.getNotifications()}}catch(a){throw console.error("Error obteniendo notificaciones por rol:",a),a}}},wg={class:"notification-debug-panel"},yg={class:"panel-header"},kg={class:"header-actions"},Cg={class:"notifications-container",ref:"notificationsContainer"},Eg={key:0,class:"empty-state"},xg={class:"notification-header"},Sg={class:"notification-type"},Ag={class:"notification-time"},Tg={class:"notification-content"},Rg={class:"notification-message"},_g={key:0,class:"notification-details"},Pg={class:"notification-status"},Ng={class:"panel-footer"},Lg={class:"stats"},Ig={class:"stat"},Og={class:"stat"},jg={class:"stat"};const Dg={class:"notification-debug"},Mg={class:"system-status"},Ug={class:"status-grid"},$g={class:"status-card"},qg={class:"status-info"},Bg={class:"status-card"},Vg={class:"status-info"},zg={class:"status-card"},Fg={class:"status-info"},Hg={class:"test-section"},Wg={class:"test-group"},Gg={class:"test-buttons"},Jg=["disabled"],Qg=["disabled"],Zg={class:"test-group"},Kg={class:"test-buttons"},Yg=["disabled"],Xg=["disabled"],eh={class:"test-group"},ah={class:"test-buttons"},th=["disabled"],oh=["disabled"],nh={class:"test-group"},sh={class:"test-buttons"},rh=["disabled"],lh=["disabled"],ih={class:"test-group"},ch={class:"test-buttons"},dh=["disabled"],uh=["disabled"],mh={class:"config-section"},ph={class:"config-grid"},vh={class:"config-item"},fh={class:"config-item"},gh={class:"config-item"},hh={class:"config-item"},bh={class:"logs-realtime-section"},wh={class:"logs-realtime-grid"},yh={class:"logs-section"},kh={class:"logs-header"},Ch={class:"logs-actions"},Eh={class:"logs-container",ref:"logsContainer"},xh={class:"log-timestamp"},Sh={class:"log-icon"},Ah={class:"log-message"},Th={key:0,class:"log-details"},Rh={class:"realtime-section"},_h={class:"stats-section"},Ph={class:"stats-grid"},Nh={class:"stat-card"},Lh={class:"stat-number"},Ih={class:"stat-card"},Oh={class:"stat-number"},jh={class:"stat-card"},Dh={class:"stat-number"},Mh={class:"stat-card"},Uh={class:"stat-number"},$h={key:0,class:"loading-overlay"};const qh=ne({name:"NotificationDebug",components:{NotificationDebugPanel:ne({name:"NotificationDebugPanel",props:{maxNotifications:{type:Number,default:50}},setup(e){const t=a([]),o=a(!0),n=a(null),s=a(null),r=l(()=>t.value.filter(e=>"success"===e.status).length),i=l(()=>t.value.filter(e=>"error"===e.status).length),c=(a,o,n=null,r="info")=>{const l={id:Date.now()+Math.random(),type:a,message:o,details:n,status:r,timestamp:new Date};t.value.unshift(l),t.value.length>e.maxNotifications&&(t.value=t.value.slice(0,e.maxNotifications)),j(()=>{s.value&&(s.value.scrollTop=0)})},d=()=>{n.value||(n.value=setInterval(()=>{const e=["table_call","system","payment","waiter"],a=e[Math.floor(Math.random()*e.length)],t=`Notificación de prueba ${Date.now()}`;c(a,t,{test:!0},"success")},5e3))},u=()=>{n.value&&(clearInterval(n.value),n.value=null)};return m(()=>{o.value&&d()}),p(()=>{u()}),{notifications:t,autoRefresh:o,notificationsContainer:s,successfulCount:r,failedCount:i,addNotification:c,clearNotifications:()=>{t.value=[]},toggleAutoRefresh:()=>{o.value=!o.value,o.value?d():u()},getTypeIcon:e=>({table_call:"fas fa-bell",system:"fas fa-info-circle",payment:"fas fa-credit-card",waiter:"fas fa-user-tie",error:"fas fa-exclamation-triangle",success:"fas fa-check-circle"}[e]||"fas fa-bell"),getTypeLabel:e=>({table_call:"Llamada de Mesa",system:"Sistema",payment:"Pago",waiter:"Mozo",error:"Error",success:"Éxito"}[e]||"Notificación"),getStatusLabel:e=>({success:"Exitoso",error:"Error",pending:"Pendiente",info:"Info"}[e]||"Info"),formatTime:e=>e.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),logNotification:(e,a,t=null,o="info")=>{c(e,a,t,o)}}}},[["render",function(e,a,s,l,i,m){return o(),t("div",wg,[n("div",yg,[a[3]||(a[3]=n("h3",null,"Notificaciones en Tiempo Real",-1)),n("div",kg,[n("button",{onClick:a[0]||(a[0]=(...e)=>l.toggleAutoRefresh&&l.toggleAutoRefresh(...e)),class:"action-btn"},[n("i",{class:u(["fas fa-sync-alt",{spinning:l.autoRefresh}])},null,2),d(" "+r(l.autoRefresh?"Pausar":"Auto-refresh"),1)]),n("button",{onClick:a[1]||(a[1]=(...e)=>l.clearNotifications&&l.clearNotifications(...e)),class:"action-btn"},a[2]||(a[2]=[n("i",{class:"fas fa-trash"},null,-1),d(" Limpiar ")]))])]),n("div",Cg,[0===l.notifications.length?(o(),t("div",Eg,a[4]||(a[4]=[n("i",{class:"fas fa-bell-slash"},null,-1),n("p",null,"No hay notificaciones para mostrar",-1)]))):c("",!0),(o(!0),t(v,null,f(l.notifications,e=>(o(),t("div",{key:e.id,class:u(["notification-item",e.type])},[n("div",xg,[n("div",Sg,[n("i",{class:u(l.getTypeIcon(e.type))},null,2),d(" "+r(l.getTypeLabel(e.type)),1)]),n("div",Ag,r(l.formatTime(e.timestamp)),1)]),n("div",Tg,[n("div",Rg,r(e.message),1),e.details?(o(),t("div",_g,[n("details",null,[a[5]||(a[5]=n("summary",null,"Detalles",-1)),n("pre",null,r(JSON.stringify(e.details,null,2)),1)])])):c("",!0)]),n("div",Pg,[n("span",{class:u(["status-badge",e.status])},r(l.getStatusLabel(e.status)),3)])],2))),128))],512),n("div",Ng,[n("div",Lg,[n("span",Ig,[a[6]||(a[6]=n("i",{class:"fas fa-bell"},null,-1)),d(" "+r(l.notifications.length)+" total ",1)]),n("span",Og,[a[7]||(a[7]=n("i",{class:"fas fa-check-circle"},null,-1)),d(" "+r(l.successfulCount)+" exitosas ",1)]),n("span",jg,[a[8]||(a[8]=n("i",{class:"fas fa-times-circle"},null,-1)),d(" "+r(l.failedCount)+" fallidas ",1)])])])])}],["__scopeId","data-v-7d64f6f7"]])},setup(){const e=a(!1),t=a(""),o=a(!0),n=a(null),s=O({websocket:!1,fcm:!1,api:!0}),r=O({tableId:1,customMessage:"Mensaje de prueba desde panel de debug",delay:1e3,repetitions:1}),l=O({totalSent:0,successful:0,failed:0,responseTimes:[]}),i=a([]),c=(e,a,t=null)=>{const s={timestamp:new Date,type:e,message:a,details:t};i.value.unshift(s),i.value.length>100&&(i.value=i.value.slice(0,100)),o.value&&j(()=>{n.value&&(n.value.scrollTop=0)})},d=(e,a)=>{l.totalSent++,e?l.successful++:l.failed++,l.responseTimes.push(a),l.responseTimes.length>0&&(l.avgResponseTime=Math.round(l.responseTimes.reduce((e,a)=>e+a,0)/l.responseTimes.length))};return m(()=>{c("info","Panel de debug de notificaciones iniciado"),"undefined"!=typeof window&&"Notification"in window&&(s.fcm="granted"===Notification.permission),setTimeout(()=>{s.websocket=Math.random()>.5,c("info","WebSocket: "+(s.websocket?"Conectado":"Desconectado"))},1e3)}),{loading:e,loadingMessage:t,autoScroll:o,logsContainer:n,logs:i,systemStatus:s,testConfig:r,stats:l,addLog:c,formatTimestamp:e=>e.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),getLogIcon:e=>{const a={success:"fas fa-check-circle",error:"fas fa-times-circle",warning:"fas fa-exclamation-triangle",info:"fas fa-info-circle",test:"fas fa-flask"};return a[e]||a.info},clearLogs:()=>{i.value=[]},exportLogs:()=>{const e=JSON.stringify(i.value,null,2),a=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(a),o=document.createElement("a");o.href=t,o.download=`notification-logs-${(new Date).toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(t)},toggleAutoScroll:()=>{o.value=!o.value},testTableCall:async()=>{e.value=!0,t.value="Enviando llamada de mesa...";try{const e=Date.now(),a=await bg.callWaiter(r.tableId),t=Date.now()-e;c("success",`Llamada de mesa enviada exitosamente a mesa ${r.tableId}`,a),d(!0,t),Au("Llamada de mesa enviada")}catch(a){c("error",`Error enviando llamada de mesa: ${a.message}`,a),d(!1,0),Tu("Error enviando llamada de mesa")}finally{e.value=!1}},testMultipleTableCalls:async()=>{e.value=!0,t.value="Enviando múltiples llamadas...";for(let e=0;e<r.repetitions;e++)try{const a=r.tableId+e,t=Date.now();await bg.callWaiter(a);const o=Date.now()-t;c("success",`Llamada enviada a mesa ${a}`,{tableId:a,iteration:e+1}),d(!0,o),r.delay>0&&await new Promise(e=>setTimeout(e,r.delay))}catch(a){c("error",`Error en llamada ${e+1}: ${a.message}`,a),d(!1,0)}e.value=!1,Au(`${r.repetitions} llamadas enviadas`)},testWaiterNotification:async()=>{e.value=!0,t.value="Enviando notificación de mozo...";try{const e=Date.now(),a=await fetch("/api/waiter/notifications/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({message:r.customMessage,type:"test_notification"})}),t=Date.now()-e;if(!a.ok)throw new Error(`HTTP ${a.status}`);{const e=await a.json();c("success","Notificación de mozo enviada",e),d(!0,t),Au("Notificación de mozo enviada")}}catch(a){c("error",`Error enviando notificación de mozo: ${a.message}`,a),d(!1,0),Tu("Error enviando notificación de mozo")}finally{e.value=!1}},testWaiterGlobalToggle:async()=>{e.value=!0,t.value="Alternando notificaciones globales...";try{const e=Date.now(),a=await bg.waiterGlobalNotifications(!0),t=Date.now()-e;c("success","Notificaciones globales de mozo alternadas",a),d(!0,t),Au("Notificaciones globales alternadas")}catch(a){c("error",`Error alternando notificaciones: ${a.message}`,a),d(!1,0),Tu("Error alternando notificaciones")}finally{e.value=!1}},testSystemNotification:async()=>{e.value=!0,t.value="Enviando notificación de sistema...";try{const e=Date.now(),a=await fetch("/api/notifications/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({message:r.customMessage,type:"system_notification"})}),t=Date.now()-e;if(!a.ok)throw new Error(`HTTP ${a.status}`);{const e=await a.json();c("success","Notificación de sistema enviada",e),d(!0,t),Au("Notificación de sistema enviada")}}catch(a){c("error",`Error enviando notificación de sistema: ${a.message}`,a),d(!1,0),Tu("Error enviando notificación de sistema")}finally{e.value=!1}},testPaymentNotification:async()=>{e.value=!0,t.value="Enviando notificación de pago...";try{const e=Date.now(),a=await fetch("/api/notifications/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({message:"Pago recibido exitosamente",type:"payment_received",amount:25.5})}),t=Date.now()-e;if(!a.ok)throw new Error(`HTTP ${a.status}`);{const e=await a.json();c("success","Notificación de pago enviada",e),d(!0,t),Au("Notificación de pago enviada")}}catch(a){c("error",`Error enviando notificación de pago: ${a.message}`,a),d(!1,0),Tu("Error enviando notificación de pago")}finally{e.value=!1}},testDeviceToken:async()=>{e.value=!0,t.value="Probando token de dispositivo...";try{const e="test-fcm-token-"+Date.now(),a=Date.now(),t=await bg.storeDeviceToken(e,"web"),o=Date.now()-a;c("success","Token de dispositivo guardado",t),d(!0,o),Au("Token de dispositivo guardado")}catch(a){c("error",`Error guardando token: ${a.message}`,a),d(!1,0),Tu("Error guardando token")}finally{e.value=!1}},testDeleteToken:async()=>{e.value=!0,t.value="Eliminando token de dispositivo...";try{const e="test-fcm-token-"+Date.now(),a=Date.now(),t=await bg.deleteDeviceToken(e),o=Date.now()-a;c("success","Token de dispositivo eliminado",t),d(!0,o),Au("Token eliminado")}catch(a){c("error",`Error eliminando token: ${a.message}`,a),d(!1,0),Tu("Error eliminando token")}finally{e.value=!1}},testBulkNotifications:async()=>{e.value=!0,t.value="Enviando notificaciones masivas...";const a=[];for(let e=0;e<10;e++)a.push(bg.callWaiter(r.tableId+e).then(()=>({success:!0,index:e})).catch(a=>({success:!1,index:e,error:a})));const o=await Promise.all(a),n=o.filter(e=>e.success).length,s=o.length-n;c("info",`Envío masivo completado: ${n} exitosas, ${s} fallidas`,o),l.totalSent+=o.length,l.successful+=n,l.failed+=s,e.value=!1,Au(`Envío masivo completado: ${n}/${o.length} exitosas`)},testStressTest:async()=>{e.value=!0,t.value="Ejecutando test de estrés...";const a=[];for(let e=0;e<50;e++)a.push(bg.callWaiter(r.tableId+e).then(()=>({success:!0,index:e})).catch(a=>({success:!1,index:e,error:a})));const o=await Promise.all(a),n=o.filter(e=>e.success).length,s=o.length-n;c("warning",`Test de estrés completado: ${n} exitosas, ${s} fallidas`,o),l.totalSent+=o.length,l.successful+=n,l.failed+=s,e.value=!1,Au(`Test de estrés completado: ${n}/${o.length} exitosas`)}}}},[["render",function(e,a,s,l,i,m){const p=C("NotificationDebugPanel");return o(),t("div",Dg,[a[56]||(a[56]=n("div",{class:"page-header"},[n("h1",null,"Panel de Debug - Notificaciones"),n("p",{class:"subtitle"},"Prueba y monitorea el sistema de notificaciones")],-1)),n("div",Mg,[a[23]||(a[23]=n("h2",null,"Estado del Sistema",-1)),n("div",Ug,[n("div",$g,[n("div",{class:u(["status-icon",{online:l.systemStatus.websocket}])},a[17]||(a[17]=[n("i",{class:"fas fa-wifi"},null,-1)]),2),n("div",qg,[a[18]||(a[18]=n("h3",null,"WebSocket",-1)),n("p",null,r(l.systemStatus.websocket?"Conectado":"Desconectado"),1)])]),n("div",Bg,[n("div",{class:u(["status-icon",{online:l.systemStatus.fcm}])},a[19]||(a[19]=[n("i",{class:"fas fa-fire"},null,-1)]),2),n("div",Vg,[a[20]||(a[20]=n("h3",null,"FCM",-1)),n("p",null,r(l.systemStatus.fcm?"Configurado":"No configurado"),1)])]),n("div",zg,[n("div",{class:u(["status-icon",{online:l.systemStatus.api}])},a[21]||(a[21]=[n("i",{class:"fas fa-server"},null,-1)]),2),n("div",Fg,[a[22]||(a[22]=n("h3",null,"API",-1)),n("p",null,r(l.systemStatus.api?"Disponible":"Error"),1)])])])]),n("div",Hg,[a[39]||(a[39]=n("h2",null,"Pruebas de Notificaciones",-1)),n("div",Wg,[a[26]||(a[26]=n("h3",null,"Notificaciones de Mesa",-1)),n("div",Gg,[n("button",{onClick:a[0]||(a[0]=(...e)=>l.testTableCall&&l.testTableCall(...e)),disabled:l.loading,class:"test-btn primary"},a[24]||(a[24]=[n("i",{class:"fas fa-bell"},null,-1),d(" Llamada de Mesa ")]),8,Jg),n("button",{onClick:a[1]||(a[1]=(...e)=>l.testMultipleTableCalls&&l.testMultipleTableCalls(...e)),disabled:l.loading,class:"test-btn secondary"},a[25]||(a[25]=[n("i",{class:"fas fa-layer-group"},null,-1),d(" Múltiples Llamadas ")]),8,Qg)])]),n("div",Zg,[a[29]||(a[29]=n("h3",null,"Notificaciones de Mozo",-1)),n("div",Kg,[n("button",{onClick:a[2]||(a[2]=(...e)=>l.testWaiterNotification&&l.testWaiterNotification(...e)),disabled:l.loading,class:"test-btn primary"},a[27]||(a[27]=[n("i",{class:"fas fa-user-tie"},null,-1),d(" Notificación de Mozo ")]),8,Yg),n("button",{onClick:a[3]||(a[3]=(...e)=>l.testWaiterGlobalToggle&&l.testWaiterGlobalToggle(...e)),disabled:l.loading,class:"test-btn secondary"},a[28]||(a[28]=[n("i",{class:"fas fa-toggle-on"},null,-1),d(" Toggle Global Mozo ")]),8,Xg)])]),n("div",eh,[a[32]||(a[32]=n("h3",null,"Notificaciones de Sistema",-1)),n("div",ah,[n("button",{onClick:a[4]||(a[4]=(...e)=>l.testSystemNotification&&l.testSystemNotification(...e)),disabled:l.loading,class:"test-btn primary"},a[30]||(a[30]=[n("i",{class:"fas fa-info-circle"},null,-1),d(" Notificación Sistema ")]),8,th),n("button",{onClick:a[5]||(a[5]=(...e)=>l.testPaymentNotification&&l.testPaymentNotification(...e)),disabled:l.loading,class:"test-btn secondary"},a[31]||(a[31]=[n("i",{class:"fas fa-credit-card"},null,-1),d(" Pago Recibido ")]),8,oh)])]),n("div",nh,[a[35]||(a[35]=n("h3",null,"Tokens de Dispositivo",-1)),n("div",sh,[n("button",{onClick:a[6]||(a[6]=(...e)=>l.testDeviceToken&&l.testDeviceToken(...e)),disabled:l.loading,class:"test-btn primary"},a[33]||(a[33]=[n("i",{class:"fas fa-mobile-alt"},null,-1),d(" Probar Token FCM ")]),8,rh),n("button",{onClick:a[7]||(a[7]=(...e)=>l.testDeleteToken&&l.testDeleteToken(...e)),disabled:l.loading,class:"test-btn danger"},a[34]||(a[34]=[n("i",{class:"fas fa-trash"},null,-1),d(" Eliminar Token ")]),8,lh)])]),n("div",ih,[a[38]||(a[38]=n("h3",null,"Pruebas Masivas",-1)),n("div",ch,[n("button",{onClick:a[8]||(a[8]=(...e)=>l.testBulkNotifications&&l.testBulkNotifications(...e)),disabled:l.loading,class:"test-btn warning"},a[36]||(a[36]=[n("i",{class:"fas fa-bomb"},null,-1),d(" Envío Masivo (10) ")]),8,dh),n("button",{onClick:a[9]||(a[9]=(...e)=>l.testStressTest&&l.testStressTest(...e)),disabled:l.loading,class:"test-btn danger"},a[37]||(a[37]=[n("i",{class:"fas fa-rocket"},null,-1),d(" Test de Estrés (50) ")]),8,uh)])])]),n("div",mh,[a[44]||(a[44]=n("h2",null,"Configuración de Prueba",-1)),n("div",ph,[n("div",vh,[a[40]||(a[40]=n("label",null,"Mesa de Prueba:",-1)),g(n("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>l.testConfig.tableId=e),type:"number",placeholder:"1",class:"config-input"},null,512),[[A,l.testConfig.tableId]])]),n("div",fh,[a[41]||(a[41]=n("label",null,"Mensaje Personalizado:",-1)),g(n("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>l.testConfig.customMessage=e),type:"text",placeholder:"Mensaje de prueba",class:"config-input"},null,512),[[A,l.testConfig.customMessage]])]),n("div",gh,[a[42]||(a[42]=n("label",null,"Delay (ms):",-1)),g(n("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>l.testConfig.delay=e),type:"number",placeholder:"1000",class:"config-input"},null,512),[[A,l.testConfig.delay]])]),n("div",hh,[a[43]||(a[43]=n("label",null,"Repeticiones:",-1)),g(n("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>l.testConfig.repetitions=e),type:"number",placeholder:"1",class:"config-input"},null,512),[[A,l.testConfig.repetitions]])])])]),n("div",bh,[a[49]||(a[49]=n("div",{class:"section-header"},[n("h2",null,"Logs y Notificaciones en Tiempo Real")],-1)),n("div",wh,[n("div",yh,[n("div",kh,[a[48]||(a[48]=n("h3",null,"Logs de Actividad",-1)),n("div",Ch,[n("button",{onClick:a[14]||(a[14]=(...e)=>l.clearLogs&&l.clearLogs(...e)),class:"action-btn"},a[45]||(a[45]=[n("i",{class:"fas fa-trash"},null,-1),d(" Limpiar ")])),n("button",{onClick:a[15]||(a[15]=(...e)=>l.exportLogs&&l.exportLogs(...e)),class:"action-btn"},a[46]||(a[46]=[n("i",{class:"fas fa-download"},null,-1),d(" Exportar ")])),n("button",{onClick:a[16]||(a[16]=(...e)=>l.toggleAutoScroll&&l.toggleAutoScroll(...e)),class:"action-btn"},[a[47]||(a[47]=n("i",{class:"fas fa-scroll"},null,-1)),d(" "+r(l.autoScroll?"Pausar":"Auto-scroll"),1)])])]),n("div",Eh,[(o(!0),t(v,null,f(l.logs,(e,a)=>(o(),t("div",{key:a,class:u(["log-entry",e.type])},[n("div",xh,r(l.formatTimestamp(e.timestamp)),1),n("div",Sh,[n("i",{class:u(l.getLogIcon(e.type))},null,2)]),n("div",Ah,r(e.message),1),e.details?(o(),t("div",Th,[n("pre",null,r(JSON.stringify(e.details,null,2)),1)])):c("",!0)],2))),128))],512)]),n("div",Rh,[y(p,{ref:"debugPanel","max-notifications":50},null,512)])])]),n("div",_h,[a[54]||(a[54]=n("h2",null,"Estadísticas de Prueba",-1)),n("div",Ph,[n("div",Nh,[n("div",Lh,r(l.stats.totalSent),1),a[50]||(a[50]=n("div",{class:"stat-label"},"Total Enviadas",-1))]),n("div",Ih,[n("div",Oh,r(l.stats.successful),1),a[51]||(a[51]=n("div",{class:"stat-label"},"Exitosas",-1))]),n("div",jh,[n("div",Dh,r(l.stats.failed),1),a[52]||(a[52]=n("div",{class:"stat-label"},"Fallidas",-1))]),n("div",Mh,[n("div",Uh,r(l.stats.avgResponseTime)+"ms",1),a[53]||(a[53]=n("div",{class:"stat-label"},"Tiempo Promedio",-1))])])]),l.loading?(o(),t("div",$h,[a[55]||(a[55]=n("div",{class:"loading-spinner"},null,-1)),n("p",null,r(l.loadingMessage),1)])):c("",!0)])}],["__scopeId","data-v-8ae01013"]]),Bh=D({history:M("/"),routes:[{path:"/",name:"root",beforeEnter:(e,a,t)=>{const o=It(),{isAuthenticated:n,currentRole:s}=U(o);if(n.value){return t({name:"waiter"===(s.value||"admin")?"waiter-dashboard":"admin"})}return t({name:"login"})}},{path:"/login",name:"login",component:Xo,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:bn,meta:{requiresGuest:!0}},{path:"/forgot-password",name:"forgot-password",component:_n,meta:{requiresGuest:!0}},{path:"/reset-password",name:"reset-password",component:Gn,meta:{requiresGuest:!0}},{path:"/role-selection",name:"role-selection",component:ts,meta:{requiresAuth:!0}},{path:"/waiter/dashboard",name:"waiter-dashboard",component:xs,meta:{requiresAuth:!0,role:"waiter"}},{path:"/waiter/onboard",name:"waiter-onboard",component:Lr,meta:{requiresAuth:!0,role:"waiter"}},{path:"/profile",name:"profile",component:Cr,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:tl,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/home",name:"admin-home",component:vl,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/qr",name:"admin-qr",component:Tm,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/stats",name:"admin-stats",component:_m,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/staff",name:"admin-staff",component:zp,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/staff/:id",name:"admin-staff-detail",component:Zv,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/profile",name:"admin-profile",component:jf,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/settings",name:"admin-settings",component:hg,meta:{requiresAuth:!0,role:"admin"}},{path:"/admin/notification-debug",name:"admin-notification-debug",component:qh,meta:{requiresAuth:!0,role:"admin"}},{path:"/:pathMatch(.*)*",redirect:"/"}]});Bh.beforeEach(async(e,a,t)=>{const o=It(),{isAuthenticated:n}=U(o);n.value&&!o.user&&await o.fetchUser(),t()});const Vh=$(Uo);Vh.use(q()),Vh.use(Bh),Vh.mount("#app");export{Z as W};
